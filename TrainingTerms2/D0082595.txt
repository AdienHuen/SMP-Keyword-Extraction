#转/v /x关系型数据库/gi和/cc非关系型数据库/gi
1./nz /x关系型数据库/gi关系型数据库/gi，/w是/vshi指/v采用/v了/ule关系/gi模型/gi来/vf组织/gi数据/gi的/ude1数据库/gi。/w关系/gi模型/gi是/vshi在/p1970/nz年/qt由/pibm/nz的/ude1研究员/nnte/nz./nzf/nz./nzcodd/nz博士/nnt首先/d提出/v的/ude1，/w在/p之后/f的/ude1几/d十年中/nz，/w关系/gi模型/gi的/ude1概念/gi得到/v了/ule充分/ad的/ude1发展/gi并/cc逐渐/d成为/v主流/gi数据库/gi结构/gi的/ude1主流/gi模型/gi。/w简单/a来说/uls，/w关系/gi模型/gi指/v的/ude1就是/v二维表/gi模型/gi，/w而/cc一个/mq关系型数据库/gi就是/v由/p二维表/gi及其/cc之间/f的/ude1联系/gi所/usuo组成/gi的/ude1一个/mq数据组织/n。/w关系/gi模型/gi中/f常用/a的/ude1概念/gi：/w关系/gi：/w可以/v理解/gi为/p一/nz张/q二维表/gi，/w每个/r关系/gi都/d具有/v一个/mq关系/gi名/q，/w就是/v通常/d说/v的/ude1表名/nz元组/n：/w可以/v理解/gi为/p二维表/gi中的/v一行/n，/w在/p数据库/gi中/f经常/d被/pbei称为/v记录/gi属性/gi：/w可以/v理解/gi为/p二维表/gi中的/v一列/nz，/w在/p数据库/gi中/f经常/d被/pbei称为/v字/n段域/nz：/w属性/gi的/ude1取/v范围/n，/w也/d就是/v数据库/gi中/f某/rz一列/nz的/ude1取/v限制/vn关键字/gi：/w一/nz组/n可以/v唯一/b标识/n元组/n的/ude1属性/gi，/w数据库/gi中常/b称为/v主键/nz，/w由/p一个/mq或/c多/a个/q列/v组成/gi关系/gi模式/gi：/w指/v对/p关系/gi的/ude1描述/gi。/w其/rz式/k为/p：/w关系/gi名/q(/nz属性/gi1/nz，/w属性/gi2/nz，/w /x.../w /x.../w /x，/w属性/gin/nz)/nz，/w在/p数据库/gi中/f成为/v表/n结构/gi关系型数据库/gi的/ude1优点/gi：/w容易/ad理解/gi：/w二维表/gi结构/gi是/vshi非常/d贴近/v逻辑/n世界/gi的/ude1一个/mq概念/gi，/w关系/gi模型/gi相对/d网状/gi、/w层次/n等/udeng其他/rzv模型/gi来说/uls更容易/nz理解/gi使用方便/l：/w通用/gi的/ude1sql/gi语言/gi使得/vi操作/gi关系型数据库/gi非常/d方便/a易于/vd维护/gi：/w丰富/a的/ude1完整性/gi(/nz实体/n完整性/gi、/w参照/v完整性/gi和/cc用户/gi定义/gi的/ude1完整性/gi)/nz大大/d减低/v了/ule数据/gi冗余/n和/cc数据/gi不/d一致/a的/ude1概率/gi2./nz /x关系型数据库/gi瓶颈/gi高并发/gi读写/gi需求/gi网站/gi的/ude1用户/gi并发性/nz非常/d高/a，/w往往/d达到/v每秒/d上/f万/nz次/qv读写/gi请求/gi，/w对于/p传统/n关系型数据库/gi来说/uls，/w硬盘/gii/nz//nzo/nz是/vshi一个/mq很大/d的/ude1瓶颈/gi海量数据/gi的/ude1高效率/nz读写/gi网站/gi每天/r产生/v的/ude1数据量/n是/vshi巨大/a的/ude1，/w对于/p关系型数据库/gi来说/uls，/w在/p一/nz张/q包含/v海量数据/gi的/ude1表/n中/f查询/gi，/w效率/gi是/vshi非常低/b的/ude1高/a扩展性/n和/cc可用性/gi在/p基于/pweb/gi的/ude1结构/gi当中/f，/w数据库/gi是/vshi最难/a进行/vn横向/n扩展/gi的/ude1，/w当/p一个/mq应用系统/gi的/ude1用户量/n和/cc访问量/nz与日俱增/vl的/ude1时候/n，/w数据库/gi却/d没有/v办法/gi像/vweb server/nz和/ccapp server/nz那样/rzv简单/a的/ude1通过/p添加/gi更多/ad的/ude1硬件/gi和/cc服务/gi节点/gi来/vf扩展/gi性能/gi和/cc负载/gi能力/gi。/w对于/p很/d多/a需要/v提供/v24/nz小时/n不间断/l服务/gi的/ude1网站/gi来说/uls，/w对/p数据库系统/gi进行/vn升级/vi和/cc扩展/gi /x是/vshi非常/d痛苦/an的/ude1事情/n，/w往往/d需要/v停机/vi维护/gi和/cc数据/gi迁移/gi。/w对/p网站/gi来说/uls，/w关系型数据库/gi的/ude1很/d多/a特性/gi不再/d需要/v了/ule：/w事务/gi一致性/gi关系型数据库/gi在/p对/p事物/n一致性/gi的/ude1维护/gi中/f有/vyou很大/d的/ude1开销/n，/w而/cc现在/t很/d多/aweb/gi2.0/nz系统对/l事物/n的/ude1读写/gi一致性/gi都/d不/d高/a读写/gi实时性/nz对/p关系数据库/gi来说/uls，/w插入/gi一条/nz数据/gi之后/f立刻/d查询/gi，/w是/vshi肯定/v可以/v读出/v这/rzv条/q数据/gi的/ude1，/w但是/c对于/p很/d多/aweb应用/gi来说/uls，/w并不/d要求/n这么/rz高/a的/ude1实时性/nz，/w比如/v发/v一条/nz消息/n之后/f，/w过/uguo几/d秒/qt乃至/c十几秒/nz之后/f才/d看到/v这/rzv条/q动态/gi是/vshi完全/ad可以/v接受/gi的/ude1复杂/asql/gi，/w特别/d是/vshi多/a表/n关联/vn查询/gi任何/rz大数据量/gi的/ude1web系统/gi，/w都/d非常/d忌讳/v多/a个/q大/a表/n的/ude1关联/vn查询/gi，/w以及/cc复杂/a的/ude1数据分析/gi类型/gi的/ude1复杂/asql/gi报表/gi查询/gi，/w特别/d是/vshisns/nz类型/gi的/ude1网站/gi，/w从/p需求/gi以及/cc产品/gi阶级/n角度/n，/w就/d避免/v了/ule这种/r情况/n的/ude1产生/v。/w往往/d更多/ad的/ude1只是/d单表/nz的/ude1主键/nz查询/gi，/w以及/cc单表/nz的/ude1简单/a条件/n分页/nz查询/gi，/wsql/gi的/ude1功能/gi极大/a的/ude1弱化/v了/ule在/p关系型数据库/gi中/f，/w导致/gi性能/gi欠佳/a的/ude1最主要/nz原因/n是/vshi多/a表/n的/ude1关联/vn查询/gi，/w以及/cc复杂/a的/ude1数据分析/gi类型/gi的/ude1复杂/asql/gi报表/gi查询/gi。/w为了/p保证/v数据库/gi的/ude1acid/gi特性/gi，/w我们/rr /x必须/d尽量/d按照/p其/rz要求/n的/ude1范式/gi进行/vn设计/gi，/w关系型数据库/gi中的/v表/n都/d是/vshi存储/gi一个式化/nz的/ude1数据结构/gi。/w每个/r元组/n字段/gi的/ude1组/n成都/ns是/vshi一样/uyy，/w即使/c不是/c每个/r元组/n都/d需要/v所有/b的/ude1字段/gi，/w /x但/c数据库/gi会/v为/p每个/r元组/n分配/gi所有/b的/ude1字段/gi，/w这样/rzv的/ude1结构/gi可以/v便于/v标语/n表/n之间/f进行/vn链接/gi等/udeng操作/gi，/w但/c从/p另一个/nz角度/n来说/uls它/rr也/d是/vshi关系型数据库/gi性能/gi瓶颈/gi的/ude1一个/mq因素/gi。/w3./nz nosqlnosql/nz一/nz词/n首先/d是/vshicarlo strozzi/nz在/p1998/nz年/qt提出/v来/vf的/ude1，/w指/v的/ude1是/vshi他/rr开发/gi的/ude1一个/mq没有/vsql/gi功能/gi，/w轻量级/gi的/ude1，/w开源/gi的/ude1关系型数据库/gi。/w这个/rz定义/gi跟/p我们/rr现在/t对/pnosql/gi的/ude1定义/gi有/vyou很大/d的/ude1 /x区别/gi，/w它/rr确确实/nz实/ad字/n如/v其/rz名/q，/w指/v的/ude1就是/v“/w没有/vsql/gi”/w的/ude1数据库/gi。/w但是/cnosql/gi的/ude1发展/gi慢慢/d偏离/v了/ule初衷/n，/w我们/rr要/v的/ude1不是/c“/wno sql/nz”/w，/w而是/c“/wno relational/nz”/w，/w也/d就是/v我们/rr现在/t常/d说/v的/ude1非关系型数据库/gi了/ule。/w2009/nz年初/t，/wjohan oskarsson/nz举办/v了/ule一场/nz关于/p开源/gi分布式数据库/gi的/ude1讨论/gi，/weric evans/nz在/p这次/r讨论/gi中/f再次/d提出/v了/ulenosql/gi一/nz词/n，/w用于/v指代/n那些/rz非/b关系型/b的/ude1，/w分布式/gi的/ude1，/w且/c一般/ad不/d保证/v遵循/giacid/gi原则/gi的/ude1数据存储/gi系统/gi。/weric evans/nz使用/ginosql/gi这个/rz词/n，/w并不/d是因为/c字面上/n的/ude1“/w没有/vsql/gi”/w的/ude1意思/n，/w他/rr只是/d觉得/v很/d多/a经典/gi的/ude1关系型数据库/gi名字/n都/d叫/vi“/w*/nz*/nzsql/gi”/w,/nz所以/c为了/p表示/v跟/p这些/rz关系型数据库/gi在/p定位/gi上/f的/ude1截然不同/vl，/w就是/v用/p了/ule“/wnosql/gi“/w一/nz词/n。/w注/v：/w数据库/gi事务/gi必须/d具备/vacid/gi特性/gi，/wacid/gi是/vshiatomic/nz原子性/nz，/wconsistency/nz一致性/gi，/wisolation/nz隔离/vn性/ng，/wdurability/nz持久性/gi。/w非关系型数据库/gi提出/v另一种/nz理念/gi，/w例如/v，/w以键/n对/p存储/gi，/w且/c结构/gi不/d固定/a，/w每/rz一个/mq元组/n可以/v有/vyou不/d一样/uyy的/ude1字段/gi，/w每个/r元组/n可以/v根据/p需要/v增加/v一/nz些/q自己/rr的/ude1键/n对/p，/w这/rzv /x样/ng就/d不会/v局限于/v固定/a的/ude1结构/gi，/w可以/v减少/v一些/m时间/gi和/cc空间/n的/ude1开销/n。/w使用/gi这种/r方式/n，/w用户/gi可以/v根据/p需要/v去/vf添加/gi自己/rr需要/v的/ude1字段/gi，/w这样/rzv，/w为了/p获取/gi用户/gi的/ude1不同/a信息/gi，/w不/d需要/v /x像/v关系型数据库/gi中/f，/w要/v对/p多/a表/n进行/vn关联/vn查询/gi。/w仅/d需要/v根据/pid/nz取出/v相应/vi的/ude1value/nz就/d可以/v完成/v查询/gi。/w但/c非关系型数据库/gi由于/p很少/ad的/ude1约束/gi，/w他/rr也/d不/d能够/v提供/v像/vsql /nz所/usuo提供/v的/ude1where/nz这种/r对于/p字段/gi属性/gi情况/n的/ude1查询/gi。/w并且/c难以/d体现/v设计/gi的/ude1完整性/gi。/w他/rr只/d适合/v存储/gi一/nz些/q较为简单/z的/ude1数据/gi，/w对于/p需要/v进行/vn较/d复杂/a查询/gi的/ude1数据/gi，/wsql/gi数/n /x据/p库显/nz的/ude1更为/d合适/a。/w4./nz /x关系型数据库/gi v/nz./nzs/nz./nz /x非关系型数据库/gi关系型数据库/gi的/ude1最大/gm特点/n就是/v事务/gi的/ude1一致性/gi：/w传统/n的/ude1关系型数据库/gi读写操作/n都/d是/vshi事务/gi的/ude1，/w具有/vacid/gi的/ude1特点/n，/w这个/rz特性/gi使得/vi关系型数据库/gi可以/v用于/v几乎/d所有/b对/p一致性/gi有/vyou要求/n的/ude1系统/gi中/f，/w如/v典型/n的/ude1银行/gi系统/gi。/w但是/c，/w在/p网页/gi应用/gi中/f，/w尤其/d是/vshisns/nz应用/gi中/f，/w一致性/gi却/d不是/c显得/v那么/c重要/a，/w用户/gia/nz看到/v的/ude1内容/gi和/cc用户/gib/nz看到/v同一/b用户/gic/nz内容/gi更新/gi不/d一致/a是/vshi可以/v容忍/v的/ude1，/w或者/c /x说/v，/w两/nz个人/n看到/v同一/b好友/n的/ude1数据/gi更新/gi的/ude1时间差/n那么/c几/d秒/qt是/vshi可以/v容忍/v的/ude1，/w因此/c，/w关系型数据库/gi的/ude1最大/gm特点/n在/p这里/rzs已经/d无用武之地/n，/w起码/d不是/c那么/c重要/a了/ule。/w相反/vi地/ude2，/w关系型数据库/gi为了/p维护/gi一致性/gi所/usuo付出/v的/ude1巨大/a代价/gi就是/v其/rz读写/gi性能/gi比较/gi差/a，/w而/cc像/v微博/n、/wfacebook/nz这类/rsns/nz的/ude1应用/gi，/w对/p并发/gi读写能力/n要求/n极/d /x高/a，/w关系型数据库/gi已经/d无法/v应付/v(/nz在读/b方面/n，/w传统/n上/f为了/p克服/v关系型数据库/gi缺陷/gi，/w提高/v性能/gi，/w都/d是/vshi增加/v一级/bmemcache/gi来/vf静态/gi化/v网页/gi，/w而/cc在/psns/nz中/f，/w变化/gi太/d /x快/a，/wmemchache/nz已经/d无能为力/vl了/ule)/nz，/w因此/c，/w必须/d用/p新的/a一种/nz数据结构/gi存储/gi来/vf代替/v关系数据库/gi。/w关系数据库/gi的/ude1另一个/nz特点/n就是/v其/rz具有/v固定/a的/ude1表/n结构/gi，/w因此/c，/w其/rz扩展性/n极差/d，/w而/cc在/psns/nz中/f，/w系统/gi的/ude1升级/vi，/w功能/gi的/ude1增加/v，/w往往/d意味着/v数据结构/gi巨大/a变动/vn，/w这一点/nz关系型数据库/gi也/d难以/d应付/v，/w需要/v新的/a结构化/n数据存储/gi。/w于是/cc，/w非关系型数据库/gi应运而生/vl，/w由于/p不/d可能/v用/p一种/nz数据结构/gi化/v存储/gi应付/v所有/b的/ude1新的/a需求/gi，/w因此/c，/w非关系型数据库/gi严上/nz不是/c一种/nz数据库/gi，/w应该/v是/vshi一种/nz数据结构/gi化/v存储/gi方法/gi的/ude1集合/gi。/w必须/d强调/v的/ude1是/vshi，/w数据/gi的/ude1持久/a存储/gi，/w尤其/d是/vshi海量数据/gi的/ude1持久/a存储/gi，/w还是/c需要/v一种/nz关系数据库/gi这员/nz老将/n。/w5./nz /x非关系型数据库/gi分类/gi由于/p非关系型数据库/gi本身/rz天然/b的/ude1多样性/n，/w以及/cc出现/v的/ude1时间/gi较短/d，/w因此/c，/w不想/v关系型数据库/gi，/w有/vyou几/d种/q数据库/gi能够/v一统/n江山/n，/w非关系型数据库/gi非常/d多/a，/w并且/c大部分/n都/d是/vshi开源/gi的/ude1。/w这些/rz数据库/gi中/f，/w其实/d实现/gi大部分/n都/d比较简单/l，/w除了/p一/nz些/q共性/n外/f，/w很大/d一/nz部分/n都/d是/vshi针对/gi某些/rz特定/b的/ude1应用/gi需求/gi出现/v的/ude1，/w因此/c，/w对于/p该类/r应用/gi，/w具有/v极高/d的/ude1性能/gi。/w依据/n结构化/n方法/gi以及/cc应用/gi场合/n的/ude1不同/a，/w主要/b分为/v以下/f几类/n：/w面向/v高性能/gi并发/gi读写/gi的/ude1key/gi-/nzvalue/nz数据库/gi：/wkey/gi-/nzvalue/nz数据库/gi的/ude1主要/b特点/n即使/c具有/v极高/d的/ude1并发/gi读写/gi性能/gi，/wredis/gi,/nztokyo cabinet/nz,/nzflare/nz就是/v这类/r的/ude1代表/nnt面向/v海量数据/gi访问/gi的/ude1面向文档/gi数据库/gi：/w这类/r数据库/gi的/ude1特点/n是/vshi，/w可以/v在/p海量/gi的/ude1数据/gi中/f快速/d的/ude1查询/gi数据/gi，/w典型/n代表/nnt为/pmongodb/gi以及/cccouchdb/nz面向/v可扩展性/gi的/ude1分布式数据库/gi：/w这类/r数据库/gi想/v解决/v的/ude1问题/gi就是/v传统/n数据库/gi存在/v可扩展性/gi上/f的/ude1缺陷/gi，/w这类/r数据库/gi可以/v适应/v数据量/n的/ude1增加/v以及/cc数据结构/gi的/ude1变化/gi