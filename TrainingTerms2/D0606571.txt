#事务/gi是/vshi什么/ry
事务/gi是/vshi作为/p一个/mq逻辑/n单元/n执行/v的/ude1一系列/b操作/gi，/w一个/mq逻辑/n工作/gi单元/n必须/d有/vyou四个/nz属性/gi，/w称为/v acid/nz（/w原子性/nz、/w一致性/gi、/w隔离/vn性/ng和/cc持久性/gi）/w属性/gi，/w只有/c这样/rzv才能/n成为/v一个/mq事务/gi：/w原子性/nz事务/gi必须/d是/vshi原子/gi工作/gi单元/n；/w对于/p其/rz数据/gi修改/gi，/w要么/c全都/d执行/v，/w要么/c全都/d不/d执行/v。/w一致性/gi事务/gi在/p完成/v时/qt，/w必须/d使/v所有/b的/ude1数据/gi都/d保持一致/nz状态/gi。/w在/p相关/vn数据库/gi中/f，/w所有/b规则/gi都/d必须/d应用于/v事务/gi的/ude1修改/gi，/w以/p保持/v所有/b数据/gi的/ude1完整性/gi。/w事务/gi结束/v时/qt，/w所有/b的/ude1内部/f数据结构/gi（/w如/v b /nz树/gi索引/gi或/c双向/b链表/gi）/w都/d必须/d是/vshi正确/a的/ude1。/w隔离/vn性/ng由/p并发/gi事务所/nis作/v的/ude1修改/gi必须/d与/cc任何/rz其它/rz并发/gi事务所/nis作/v的/ude1修改/gi隔离/vn。/w事务/gi查看/gi数据/gi时/qt数据/gi所处/nz的/ude1状态/gi，/w要么/c是/vshi另一并发/nz事务/gi修改/gi它/rr之前/f的/ude1状态/gi，/w要么/c是/vshi另一事务/nz修改/gi它/rr之后/f的/ude1状态/gi，/w事务/gi不会/v查看/gi中间状态/nz的/ude1数据/gi。/w这/rzv称为/v可/v串行性/nz，/w因为/c它/rr能够/v重新/d装载/v起始/gi数据/gi，/w并且/c重播/v一系列/b事务/gi，/w以使/c数据/gi结束/v时/qt的/ude1状态/gi与/cc原始/a事务/gi执行/v的/ude1状态/gi相同/a。/w持久性/gi事务/gi完成/v之后/f，/w它/rr对于/p系统/gi的/ude1影响/gi是/vshi永久性/n的/ude1。/w该/rz修改/gi即使/c出现/v系统故障/gi也/d将/d一直/d保持/v。/w