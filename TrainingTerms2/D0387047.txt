#软件/gi看门狗/gi和/cc硬件/gi看门狗/gi
 /x看门狗/gi，/w又叫/vwatchdog timer/nz，/w从/p本质/n上/f来说/uls就是/v一个/mq定时器/gi电路/gi，/w一般/ad有一个/nz输入/v和/cc一个/mq输出/gi，/w其中/rz的/ude1输入/v叫做/v喂狗/nz，/w输出/gi一般/ad连接/gi到/v另外/c一个/mq部分/n的/ude1复位/gi端/v，/w另外/c一个/mq部分/n就是/v所要/b处理/vn的/ude1部分/n，/w暂且/d称之为/vmcu/nz。/w /x在/pmcu/nz正常/a工作/gi的/ude1时候/n，/w每隔/d一段时间/nz输出/gi一个/mq信号/gi到/v喂狗/nz端/v，/w给/p看门狗/gi电路/gi清零/nz，/w如果/c在/p超过/v规定/n的/ude1时间/gi不/d喂狗/nz，/wwdt/nz定时/d超时/v，/w就/d会/v回/v给/p一个/mq复位/gi信号/gi到达/vmcu/nz，/w使/vmcu/nz复位/gi，/w防止/gimcu/nz死机/gi。/w总的/b来说/uls，/w看门狗/gi电路/gi的/ude1作用/gi就是/v防止/gi程序/gi发生/v死循环/nz，/w或者说/c程序/gi跑飞/nz。/w  wdt/nz的/ude1基本/a工作原理/gi如下/vi：/w在/p整个/b系统/gi运行/gi以后/f就/d启动/gi了/ule看门狗/gi的/ude1计数器/gi，/w此时/r看门狗/gi就/d开始/v自动/d计时/vi，/w如果/c到达/v了/ule一定/b的/ude1时间/gi还/d不/d去/vf给/p它/rr清零/nz，/w看门狗/gi计数器/gi就/d会/v溢出/gi从而/c引起/v看门狗/gi中断/gi，/w造成/v系统/gi的/ude1复位/gi。/w  /x看门狗/gi分/qt硬件/gi看门狗/gi和/cc软件/gi看门狗/gi。/w硬件/gi看门狗/gi是/vshi利用/v一个/mq定时器/gi电路/gi，/w其/rz定时/d输出/gi连接/gi到/v电路/gi的/ude1复位/gi端/v，/w程序/gi在/p一定/b时间/gi范围内/nz对/p定时器/gi清零/nz(/nz俗称/v“/w喂狗/nz”/w)/nz，/w因此/c程序/gi正常/a工作/gi时/qt，/w定时器/gi总/b不能/v溢出/gi，/w也/d就/d不能/v产生/v复位/gi信号/gi。/w如果/c程序/gi出现/v故障/gi，/w不在/v定时/d周期/n内/f复位/gi看门狗/gi，/w就/d使得/vi看门狗/gi定时器/gi溢出/gi产生/v复位/gi信号/gi并/cc重启/gi系统/gi。/w软件/gi看门狗/gi原理/gi上/f一样/uyy，/w只是/d将/d硬件电路/gi上/f的/ude1定时器/gi用/p处理器/gi的/ude1内部/f定时器/gi代替/v，/w这样/rzv可以/v简化/gi硬件/gi电路设计/nz，/w但/c在/p可靠性/gi方面/n不如/v硬件/gi定时器/gi，/w比如/v系统/gi内部/f定时器/gi自身/rr发生/v故障/gi就/d无法/v检测/gi到/v。/w当然/d也/d有/vyou通过/p双/q定时器/gi相互/d监视/v，/w这/rzv不仅/c加大/v系统/gi开销/n，/w也/d不能/v解决/v全部/m问题/gi，/w比如/v中断/gi系统故障/gi导致/gi定时器/gi中断/gi失效/vi。/w /x看门狗/gi本身/rz不是/c用来/v解决/v系统/gi出现/v的/ude1问题/gi，/w在/p调试/gi过程/gi中/f发现/v的/ude1故障/gi应该/v要/v查/v改/v设计/gi本身/rz的/ude1错误/gi。/w加入/v看门狗/gi目的/gi是/vshi对/p一些/m程序/gi潜在/b错误/gi和/cc恶劣/a环境/n干扰/gi等/udeng因素/gi导致系统/n死机/gi而/cc在/p无人/b干预/vn情况下/nz自动/d恢复/gi系统/gi正常/a工作/gi状态/gi。/w看门狗/gi也/d不能/v完全避免/nz故障/gi造成/v的/ude1损失/n，/w毕竟/d从/p发现/v故障/gi到/v系统/gi复位/gi恢复正常/b这段/r时间/gi内/f怠工/v。/w同时/c一些/m系统/gi也/d需要/v复位/gi前/f保护/gi现场/s数据/gi，/w重启/gi后/f恢复/gi现场/s数据/gi，/w这/rzv可能/v也/d需要/v一笔/nz软硬件/gi的/ude1开销/n。/w