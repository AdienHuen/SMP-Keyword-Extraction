#利用/vrsync/gi实现/gi自动化/gi部署/gi的/ude1一种/nz方案/gi
之前/f在/p做/v项目/gi的/ude1时候/n，/w为了/p提高/v开发/gi效率/gi，/w让/v开发人员/n专注/vi开发/gi而/cc不/d需要/v特别/d关注/v代码/gi部署/gi问题/gi，/w因此/c，/w自己/rr开发/gi了/ule一个/mq简易/a的/ude1自动化/gi部署/gi系统/gi，/w服务于/v几个/nz项目/gi部署/gi。/w在/p这里/rzs分享/gi出来/vf，/w供参考/l。/w整个/b系统架构/gi如/v图/gi1/nz所示/nz。/w图/gi1/nz /x自动化/gi部署/gi整体/n架构/gi下面/f简单/a描述/gi一下/m整个/b架构/gi。/w1/nz、/w整个/b架构/gi中/f，/w开发人员/n只/d专注/vigit/gi版本/n库/n的/ude1维护/gi。/w2/nz、/w每次/rgit push/nz到/vmaster/gi时/qt，/w触发/gigit hook/nz，/whook/nz调用/giapi/gi创建/gi部署/gi任务/gi。/w3/nz、/w中心机/nz的/ude1crontab/nz定时/d请求/giapi/gi获取/gi待处理/n任务/gi列表/vi，/w并/cc触发/gi处理/vn部署/gi任务/gi。/w4/nz、/w中心机/nz根据/p部署/gi任务/gi信息/gi，/w获取/gi对应/vi的/ude1git/gi版本/n仓库/gi源码/gi，/w利用/vrsync/gi实现/gi中心机/nz向/p各/rz服务器/gi集群/gimaster/gi主机/gi进行/vn目录/gi同步/gi。/w5/nz、/w每个/r集群/gi的/ude1master/gi主机/gi定时/d执行/v各/rz集群/gi下/f的/ude1从/p服务器/gi的/ude1目录/gi同步/gi。/w从/p整个/b过程/gi，/w我们/rr可以/v看出/v，/w关键/n的/ude1部署/gi机制/gi其实/d是/vshi利用/vrsync/gi实现/gi服务器/gi主从/gi目录/gi同步/gi。/w具体/a的/ude1目录/gi同步/gi方法/gi请/v访问/gi，/w里面/f有/vyou详细/gi的/ude1文档/gi。/w