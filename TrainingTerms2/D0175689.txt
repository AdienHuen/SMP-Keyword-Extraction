#虚拟主机/nzWeb/nz应用开发/gi时/qt应该/v注意到/v的/ude1安全问题/gi
由于/p网站/gi被/pbei黑/a的/ude1情况/n较多/d，/w以下/f总结/gi网站/gi应用/gi方面/n需要/v注意/v的/ude1安全问题/gi：/w表单/gi数据/gi验证/v在/p数据/gi被/pbei输入/v程序/gi前/f必须/d对/p数据/gi合法性/n的/ude1检验/gi。/w非法/b输入/v问题/gi是/vshi最/d常见/a的/ude1web/gi应用程序/nz安全漏洞/nz。/w需要/v做到/v：/w对/p任何/rz输入/v内容/gi进行/vn检查/gi。/w接受/gi所有/b可以/v接受/gi的/ude1内容/gi，/w拒绝/v所有/b不能接受/v的/ude1内容/gi。/w所有/b提交/gi的/ude1表单/gi数据/gi，/w都/d必须/d验证/v两/nz次/qv，/w即/v提交/gi前/f在/p客户端/gi用/pjavascript/gi验证/v，/w提交/gi后/f在/p服务器端/gi用/p脚本/gi再次/d验证/v，/w保证数据/n的/ude1合法性/n。/w尤其/d是/vshi对于/p必填/v项/q，/w不仅/c需要/v同时/c在/p客户端/gi和/cc服务端/nz验证/v是否/v做/v了/ule输入/v，/w还要/d验证/v输入/v的/ude1数据式/nz是否/v正确/a。/w需要/v注意/v：/w在/p客户端/gi上/f的/ude1javascript/gi验证/v并/cc不是/c真正/d意义/n上/f的/ude1检查/gi。/w比如/v恶意/n用户/gi很容易/nz在/p自己/rr的/ude1终端/gi上/f禁用/gi脚本/gi执行/v，/w从而/c防止/gi客户端/gi的/ude1内容/gi检查/gi脚本/gi运行/gi，/w使得/vi他/rr可以/v输入/v恶意代码/nz并/cc成功/a地/ude2提交/gi表单/gi。/w对于/p图像/gi上传/v功能/gi，/w需要/v验证/v上传/v图像/gi的/ude1式/k及/cc大小/n是否/v合乎/v要求/n。/w防范/gisql语句/gi注入/gi攻击/gi程序/gi需要/v对/p所有/b从外部/nz接收/gi到/v的/ude1数据/gi进行/vn过滤/gi，/w防止/gi恶意/n攻击/gi。/w主要/b防范/gi的/ude1字符/gi有/vyou“/w'/nz|/nzscript/nz|/nzexec/nz|/nzinsert/gi|/nzselect/nz|/nzdelete/nz|/nzupdate/gi|/nzcount/nz|/nzchr/nz|/nzmid/nz|/nzmaster/gi|/nztruncate/nz|/nzdeclare/nz”/w。/w使用/gi积极/ad的/ude1过滤/gi而/cc不是/c消极/a的/ude1过滤/gi。/w /x换句话说/c，/w就是/v检查/gi应该/v输入/v什么/ry，/w而/cc不是/c检查/gi不/d应该/v输入/v什么/ry。/w只/d规定/n哪些/ry内容/gi不/d应该/v输入/v，/w会/v留下/v太多/ad的/ude1漏洞/n。/w因为/c有/vyou很/d多/a内容/gi都/d不/d应该/v被/pbei输入/v。/w积极/ad的/ude1过滤/gi方式/n应该/v包括/v：/w？/w /x是否/v为/p空/ng（/w需要/v去掉/v空/ng后/f判断/gi）/w？/w /x是否是/l正确/a的/ude1数据类型/gi /x(/nz字符串/gi，/w整数/gi等/udeng)/nz？/w /x是否/v要求/n带有/v参数/gi？/w /x字符/gi编码/gi是否/v允许/v？/w /x输入/v内容/gi是否/v达到/v了/ule内容/gi长度/gi的/ude1最大/gm或者/c最小/a界限/n？/w /x是否/v允许/v输入/v空/ng？/w /x如果/c应该/v输入/v数字/gi，/w那么/c确定/v数字/gi大小/n的/ude1范围/n。/w？/w /x输入/v内容/gi是否/v造成了/v数据/gi重复/gi，/w如果/c是/vshi，/w判断/gi这种/r情况/n是否/v可以/v接受/gi。/w？/w /x输入/v内容/gi是否/v符合/v式/k要求/n（/w比如/v是否/v采用/v正则表达式/gi）/w？/w /x如果/c是/vshi通过/p下拉列表/gi选取/gi的/ude1内容/gi，/w确保/v其/rz包含/v了/ule有效/gi的/ude1地址栏/gi变量/gi需要/v进行/vn验证/v对于/p从/p地址栏/gi上/f接收/gi到/v的/ude1变量/gi，/w必须/d要/v验证/v其/rz合法性/n。/w例如/v，/w如果/c从/p地址栏/gi上/f收到/v了/ule文章/giid/nz，/w则/d需要/v验证/vid/nz是否/v为/p数字/gi，/w是否/v有/vyou攻击/gi字符/gi等/udeng。/w跨/v站/vi攻击/gi的/ude1预防/v在/p验证/v提交/gi的/ude1数据/gi时/qt，/w为/p防止/gi跨/v站/vi攻击/gi /x，/w可以/v检查/gi上/f一个/mq页面/gi是否/v为/p本站/n，/w另外/c，/w过滤”/nz替换/v为/p“”/nz，/w把/pba目录/gi和/cc文件夹/n的/ude1安全/gi用户/gi只能/v访问/gi网站/gi目录/gi下/f的/ude1内容/gi，/w确保/v用户/gi不能/v访问/gi网站/gi目录/gi以外/f的/ude1目录/gi。/w程序/gi中/f涉及/v文件/gi包含/v的/ude1地方/n，/w要/v确认/v所有/b包含/v的/ude1文件/gi的/ude1位置/gi正确/a。/w为了/p防止/gi非法/b包含/v文件/gi，/w应/v特别/d小心/a“/w./nz//nz”/w或/c“/w./nz./nz//nz”/w的/ude1使用/gi。/w后台/gi所有/b程序/gi页面/gi需要/v做/v授权/v验证/v如果/c未/d经过/p成功/a登录/gi，/w不/d允许/v访问/gi任何/rz一个/mq后台程序/nz页面/gi。/w如果/c用/psession/gi验证/v，/wsession/gi有效期/n不/d可以/v太长/n，/w建议/gi为/p15/nz分钟/qt。/w成功/a登陆/vi后/f的/ude1用户/gi，/w需要/v验证/v是否/v有/vyou某个/rz操作/gi的/ude1权限/gi。/w关键/n信息/gi需要/v加密/gi对于/p密码/gi、/w会话/v令牌/n等/udeng关键/n信息/gi，/w需要/v进行/vn加密/gi后/f再/d保存/gi到/v数据库/gi，/w不/d允许/v用/p明文/n方式/n。/w一般/ad采用/vmd/nz5/nz加密/gi方式/n。/w配置文件/gi安全/gi程序/gi中的/v配置文件/gi（/w重点/n是/vshi数据库/gi连接/gi配置/gi）/w需要/v重点/n进行/vn安全/gi保护/gi，/w配置文件/gi不能/v允许/v用户/gi直接/ad访问/gi，/w配置文件/gi的/ude1文件/gi扩展名/n不能/v为/p./nzinc/nz、/w./nztxt/gi，/w必须/d为/p可执行/nz脚本/gi扩展名/n，/w如/v./nzasp/nz、/w./nzphp/gi、/w./nzjsp/gi、/w./nzaspx/nz…/w数据库安全/gi数据库/gi文件/gi需要/v重点/n安全/gi保护/gi，/w对于/p使用/giaccess/nz数据库/gi的/ude1程序/gi，/w不/d可以/v允许/v数据库/gi直接/ad可以/v通过/p浏览器/gi下载/gi，/w数据库/gi文件/gi的/ude1路径/gi和/cc文件名称/nz需要/v不易/ad猜测到/l，/w数据库/gi文件/gi的/ude1扩展名/n不能/v为/p./nzmdb/nz。/w可以/v设置/gi服务器/gi来/vf禁止/v此/rzs类型/gi的/ude1文件/gi下载/gi。/w使用/gi“/w最低/a权限/gi”/w限制/vn数据库/gi用户/gi的/ude1权限/gi。/w如果/c使用/gisql server/gi或/cmysql/gi数据库/gi，/w可以/v考虑/v只/d给/p浏览/gi用户/gi以/p读/v权限/gi，/w后台/gi用户/gi以/p读/v、/w写/v及/cc删/v权限/gi。/w资源/gi的/ude1释放/gi程序/gi中的/v使用/gi了/ule关键/n资源/gi后/f，/w必须/d进行/vn显式/nz释放/gi和/cc关闭/gi，/w尤其/d是/vshi数据库/gi连接/gi、/w文件/gi句柄/gi等/udeng资源/gi。/w防止/gi过分/ad详细/gi的/ude1错误/gi提示/gi。/w攻击者/nz经常/d会/v故意/d输入/v错误/gi的/ude1内容/gi，/w进而/c分析/gi系统/gi给出/v的/ude1错误/gi提示信息/n，/w从/p中/f获取/gi系统/gi信息/gi，/w发现/v可能/v存在/v的/ude1漏洞/n。/w对于/p使用/giaccess/nz数据库/gi的/ude1用户/gi来说/uls，/w过于/d详细/gi的/ude1错误/gi提示/gi可能会/nz暴露出/i数据库/gi文件/gi的/ude1路径/gi。/w友好/a的/ude1操作/gi反馈/gi提示/gi对于/p流程/gi性/ng的/ude1操作/gi，/w需要/v给/p用户/gi的/ude1操作/gi以/p友好/a性反馈/nz提示/gi，/w让/v用户/gi了解/v自己/rr的/ude1操作/gi是否/v有/vyou问题/gi，/w问题/gi在/p什么/ry地方/n。/w例如/v，/w会员/nnt注册/gi表单/gi，/w如果/c用户/gi提交/gi时/qt，/w忘记/v填写/v某些/rz项/q，/w可以/v在/p该项/r后/f以/p醒目/a的/ude1颜色/gi来/vf提示/gi，/w提示/gi的/ude1显示/gi最好/d以/pajax/gi技术/gi实现/gi无/v刷新/v效果/gi，/w提高/v用户/gi体验/v。/w后台/gi的/ude1程序/gi对于/p一/nz些/q操作/gi，/w如/v删除/gi、/w审核/gi，/w必须/d让/v用户/gi确认/v一/nz下/f才/d可以/v执行/v。/w不管/c用户/gi操作/gi成功/a或/c失败/vi，/w都/d需要/v给与/v提示信息/n。/w验证码/gi的/ude1使用/gi对于/p用户注册/gi、/w用户/gi登陆/vi、/w调查/gi问卷/n、/w在线/vn反馈/gi、/w评论/gi等/udeng程序/gi，/w需要/v加上/v验证码/gi，/w防止/gi机器人/gi绕过/v限制/vn提交/gi垃圾/n信息/gi。/w