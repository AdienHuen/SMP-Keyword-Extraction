#“/w进程/gi球”/nz通过/p数据库/gi来/vf通信------好/nz美/b的/ude1一/nz幅/q图/gi！/w
   /x拿着/vf一支笔/nz，/w /x随便/ad画画/v，/w /x然后/c在/p纸/n上/f画/v了/ule三个球/nz，/w /x哦/e，/w /x这不/l就是/v一个/mq个/q的/ude1进程/gi么/y？/w /x本来/d想/v上传/v亲笔画/nz的/ude1图/gi，/w /x但/c晚上/t拍照/gi效果/gi不太好/v，/w /x所以/c还是/c用/p鼠标/gi来/vf画/v吧/y。/w /x先睹为快/vl：/w        /x图/gi还是/c挺/d好看/a的/ude1    /x下面/f，/w /x我们/rr来/vf闲聊/v一/nz下/f这幅/r图/gi的/ude1一/nz些/q东东/ns。/w    /x什么/ry是/vshi进程/gi呢/y？/w /x笔试/gi面试/gi总会/nis被/pbei问到/v这个/rz讨厌/v的/ude1问题/gi，/w /x要/v我/rr说/v，/w /x进程/gi就是/v个/q球/n啊/y，/w /x看看/v上面/f的/ude1图/gi，/w /x难道/d不是/c么/y？/w /x对/p，/w /x进程/gi就是/v个/q球/n。/w  /x那/rzv一年/nz，/w /x我/rr还/d不/d太/d懂/v什么/ry是/vshi进程通信/gi，/w /x但/c我/rr居然/d不知不觉/dl地/ude2用/p文件/gi实现/gi了/ule两/nz个/q进程/gi的/ude1通信/gi（/w非常/d粗糙/a的/ude1通信/gi模式/gi）/w，/w /x并/cc解决/v了/ule当时/t的/ude1重要/a问题/gi。/w    /x说/v到/v利用/v文件/gi实现/gi进程通信/gi，/w /x肯定/v会/v被/pbei很/d多/a人/n鄙视/v，/w /x但/c无疑/d，/w /x这种/r思路/gi是/vshi很好/ad的/ude1，/w /x只是/d，/w /x要/v注意/v线程同步/gi、/w进程同步/gi等/udeng，/w /x但/c在/p实际/n项目/gi中/f，/w /x几乎/d没有/v这种/r用法/gi。/w /x既然/c利用/v文件/gi实现/gi进程/gi间/f的/ude1通信/gi很/d粗糙/a，/w /x那/rzv利用/v数据库/gi呢/y(/nz图/gi中/ftest/nz./nzdb/nz数据库/gi的/ude1本质/n就是/v一个/mq文件/gi)/nz？/w /x也/d可以/v考虑/v。/w /x实际上/d，/w /x很/d多/a数据库/gi自身/rr已经/d考虑/v了/ule线程同步/gi和/cc进程同步/gi问题/gi，/w /x所以/c，/w /x不用/d太/d担心/v多/a个/q进程/gi间/f的/ude1写/v冲突/gi问题/gi。/w /x经常/d会/v遇到/v这种/r情况/n：/w很/d多/a进程/gi需要/v读写/gi某/rz一字段/nz，/w /x而/cc这/rzv一字段/nz经常/d放在/v数据库/gi中/f。/w /x显然/ad，/w可以/v考虑/v数据库/gi，/w /x实际上/d，/w /x很/d多/a重要/a的/ude1字段/gi就是/v放在/v数据库/gi中的/v，/w /x很/d多/a场景/gi，/w /x很/d多/a人/n就是/v这么/rz搞/v的/ude1。/w    /x好/a，/w /x既然/c进程/gi是/vshi个/q球/n，/w /x也/d说/v了/ule数据库/gi帮助/v进程/gi球/n进行/vn了/ule通信/gi，/w /x那/rzv我们/rr要说/c一/nz下/f内存数据库/gi了/ule，/w /x所谓/v内存数据库/gi，/w /x我/rr理解/gi（/w非官方/b定义/gi）/w，/w /x实际上/d就是/v内存/gi中的/v一种/nz数据结构/gi，/w /x与/cc数据库/gitest/nz./nzdb/nz(/nz外存/n数据库/gi)/nz形成/v映射/gi，/w /x你/rr要/v知道/v的/ude1是/vshi，/w /x内存数据库/gi中的/v与/cc外存/n数据库/gitest/nz./nzdb/nz的/ude1总是/d一致/a的/ude1（/w需要/v有/vyou机制/gi保证/v才/d行/ng）/w。/w /x看到/v没/d，/w /x图/gi中/f那个/rz蓝色/n的/ude1圈圈/n就是/v内存数据库/gi（/w数据结构/gi）/w，/w /x像/v一/nz张网/nr一样/uyy，/w /x网住/nz多少/ry岁月/n，/w /x网住/nz多少/ry年华/n。/w    /x我们/rr先/d说说/v引入/v内存数据库/gi的/ude1好处/gi：/w   /x1./nz /x写/v的/ude1时候/n，/w /x如果/c待/vi写/v的/ude1字段/gi与/cc外存/n数据库/gitest/nz./nzdb/nz中的/v字段/gi相同/a，/w /x则/d直接/ad在/p内存/gi中/f就/d判断/gi了/ule，/w /x实际/n并未/d与/cc外存/n数据库/gitest/nz./nzdb/nz打交道/vi。/w /x效率高/nz。/w   /x2./nz /x读/v的/ude1时候/n，/w /x根本/a不/d需要/v从/p外存/n数据库/gitest/nz./nzdb/nz中/f读取/gi，/w /x直接/ad读取/gi内存数据库/gi的/ude1即可/v，/w /x因为/c内存数据库/gi和/cc外存/n数据库/gi有/vyou等/udeng价映射/nz关系/gi啊/y。/w效率高/nz。/w   /x现在/t假设/gi外存/n数据库/gitest/nz./nzdb/nz中/fuser/gi字段/gi的/ude1是/vshitaoge/nz,/nz /x那么/c进程/gi1/nz,/nz /x2/nz,/nz /x3/nz中/f内存数据库/gi的/ude1都/d是/vshitaoge/nz./nz /x我们/rr以/p进程/gi1/nz为/p例/n，/w /x现在/t进程/gi1/nz要/v把/pba变量/giuser/gi的/ude1变为/vmeinv/nz,/nz /x那/rzv是/vshi怎样/ryv的/ude1一个/mq过程/gi呢/y？/w /x首先/d，/w /x进程/gi1/nz用/pmvi/nz和/cctaoge/nz进程/gi对比/gi，/w /x发现/v这/rzv两/nz个/q串/q不/d一致/a（/w如果/c一致/a，/w /x则/d没有/v后续/vn的/ude1过程/gi，/w /x自然/n提高/v了/ule效率/gi）/w，/w /x于是/cc将/d进程/gi1/nz的/ude1内存数据库/gi中/fuser/gi的/ude1更改/gi为/pmeinv/nz,/nz /x然后/c把/pbameinv/nz写到/v数据库/gitest/nz./nzdb/nz中/f。/w   /x别忘了/l，/w /x我们/rr说/v过/uguo，/w /x内存数据库/gi里面/f的/ude1要/v和/cc外存/n数据库/gitest/nz./nzdb/nz里面/f的/ude1一致/a，/w /x现在/t进程/gi1/nz满足条件/l了/ule，/w /x但是/c进程/gi2/nz和/cc进程/gi3/nz不/d满足条件/l啊/y，/w /x所以/c这个/rz时候/n，/w /x会/v通过/p8/nz和/cc12/nz这/rzv两条线/n来/vf更新/gi进程/gi2/nz和/cc进程/gi3/nz中的/v内存数据库/gi（/w需要/v有/vyou机制/gi保证/v才/d行/ng）/w，/w /x将/d内存数据库/gi中/fuser/gi的/ude1更新/gi为/pmeinv/nz。/w /x此时/r，/w /x如果/c进程/gi2/nz和/cc进程/gi3/nz如果/c想/v读取/giuser/gi的/ude1，/w /x那/rzv也/d可以/v，/w直接/ad从/p内存数据库/gi读取/gi，/w /x是/vshimeinv/nz,/nz /x在/p读取/gi过程/gi中/f，/w /x并/cc没有/v和/cc外存/n数据库/gitest/nz./nzdb/nz打交道/vi，/w /x这样/rzv效率/gi就/d高/a了/ule。/w      ok/nz,/nz /x应该/v大致/d说/v清楚/a了/ule，/w /x内存数据库/gi颇/d有点/d网/n的/ude1感觉/gi，/w /x也/d有点/d缓冲/vn的/ude1感觉/gi。/w   /x最后/f，/w /x我/rr要说/c，/w /x我/rr挺/d喜欢/gi这个/rz图/gi的/ude1。/w   /x睡觉/vi，/w /x明天/t周六/t，/w /x睡到/v自然醒/nz。/w