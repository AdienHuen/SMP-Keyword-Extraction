#从/p算法/gi学起/nzC/nz语言--三色旗/nz问题/gi
转载/v请/v注明/v出处/n，/w谢谢/v。/w背景/n说明/v：/w三色旗/nz的/ude1问题/gi最早/d由/pe/nz./nzw/nz./nzdijkstra/gi提出/v的/ude1，/w他/rr所/usuo使用/gi的/ude1用语/n为/pdutch nation flag/nz（/wdijkstra/gi为/p荷兰人/nz）/w，/w而/cc多数/a的/ude1作者/nnt则/d使用/githree/nz-/nzcolor flag/nz来/vf称/v之/uzhi。/w假设/gi有/vyou一条绳子/nz，/w上面/f有/vyou红/a、/w白/a、/w蓝/a三种/nz颜色/gi的/ude1旗子/n，/w起初/d绳子/n上/f的/ude1旗子/n的/ude1颜色/gi并/cc没有/v顺序/gi，/w你/rr希望/v将/d之/uzhi分类/gi并排/d列为/v蓝/a、/w白/a、/w红/a的/ude1顺序/gi，/w要/v如何/ryv移动/vn次数/gi最少/d，/w注意/v你/rr只能/v在/p绳子/n上/f进行/vn这个/rz动作/gi，/w并且/c一次/nz只能/v调换/gi两/nz个/q旗子/n。/w大/a天朝/nz白话/gi文/ng：/w有/vyou123/nz三个数/nz，/w每个/r数字/gi的/ude1个数/n不定/d，/w数字/gi间/f顺序/gi不定/d，/w要求/n用/p最少/d的/ude1步数/n将/d他/rr改成/v111222333/nz这种/r情况/n，/w即/v相同/a数字/gi挨着/v，/w不同/a数字/gi按/p顺序排列/l。/w解/v：/w很容易/nz想到/v不/d稳定/an排序算法/gi。/w但/c又/d不/d完全/ad是/vshi，/w因为/c它/rr有/vyou个/q移动/vn次数/gi最少/d的/ude1要求/n。/w假设/gi排列/gi顺序/gi如下/vi：/w3/nz，/w2/nz，/w1/nz，/w2/nz，/w2/nz，/w1/nz，/w3/nz，/w1/nz，/w2/nz，/w3。/nz每次/r都/d循环/gi遍历/gi然后/c将/d3/nz放在/v最后/f显然/ad可行/a但/c不是/c次数/gi最少/d的/ude1算法/gi，/w我们/rr应该/v保证/v一次/nz遍历/gi甚至/d不足/an一次时/nz就/d将/d整个/b数列/gi排序/gi完毕/vi。/w参考/gi快/a排/v的/ude1思想/gi，/w做三/nz个/q指针/gi，/w分别/d指向/v1/nz,/nz2/nz,/nz3/nz来/vf进行/vn排序/gi，/w下面/f画/v个/q图/gi：/w如果/c排列/gi顺序/gi是/vshib/nz，/ww/nz，/wr/nz。/w我们/rr如下/vi定义/gi这/rzv三个/nz指针/gi的/ude1意义/n：/wb/nz永远/d指向/v第一个/gi不是/cb/nz的/ude1元素/gi（/w即/v从/p开始/v位置/gi起/vf，/w第一个/gi不是/cb/nz的/ude1元素/gi）/w，/ww/nz作为/p遍历/gi的/ude1游标/gi，/w往/p下/f运行/gi，/w并/cc判断/gi该/rz元素/gi是不是/vw/nz，/w如果/c是/vshi不/d做/v处理/vn，/w继续/v往/p下/f运行/gi，/w如果/c是/vshib/nz则/d与/ccb/nz指向/v的/ude1元素/gi交换/gi，/w如果/c是/vshir/nz则/d与/ccr/nz指向/v的/ude1元素/gi交换/gi。/wr/nz永远/d指向/v第一个/gi不是/cr/nz的/ude1元素/gi，/w不同/a的/ude1是/vshi，/wr/nz是从/v这个/rz数列/gi的/ude1最后/f开始/v的/ude1，/w因为/c我们/rr最终/d要/v将/dr/nz放到/v后面/f。/w如此一次/nz遍历/gi该/rz数列/gi时/qt，/w遇到/v第一个/gi元素/gi如果/c是/vshib/nz，/w则/dw/nz和/ccb/nz继续/v往下走/v，/w如果/c是/vshiw/nz，/w则/db/nz指向/v该/rz元素/gi，/ww/nz往下走/v，/w如果/c是/vshir/nz，/w则/d在/pr/nz的/ude1地方/n找到/v第一个/gi不是/cr/nz的/ude1元素/gi并/cc交换/gi，/w以此类推/vl，/w遇到/vw/nz继续走/nz，/w遇到/vb/nz往/p前移/v，/w遇到/vr/nz往后/t移/v。/w用/p图/gi做/v一个/mq详细/gi说明/v：/wok/nz，/w大致/d顺序/gi就是/v这样/rzv，/w下面/f开始/v写/v代码/gi，/w根据/p代码/gi看图/v更容易/nz：/wf/nz5/nz下/f看看/v结果/n：/w完美/a执行/v~/nz！/w