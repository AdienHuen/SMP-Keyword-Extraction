#SQLSERVER/nz的/ude1触发器/gi
触发器/gi的/ude1定义/gi:/w触发器/gi是/vshi一种/nz特殊/a类型/gi的/ude1存储过程/gi,/nz他/rr不同于/c前面/f介绍/gi过/uguo的/ude1一般/ad的/ude1存储过程/gi(/nz在/psql/gi内部/f把/pba触发器/gi看做/v是/vshi存储过程/gi但是/c不能/v传递/v参数/gi)/nz./nz一般/ad的/ude1存储过程/gi通过/p存储过程/gi名称/n被/pbei直接/ad调用/gi,/nz而/cc触发器/gi主要/b是/vshi通过/p事件/gi进行/vn触发/gi而/cc被/pbei执行/v./nz总的/b来说/uls,/nz触发器/gi是/vshi一种/nz功能强大/i的/ude1工具/gi,/nz在/p表/n中/f数据/gi发生变化/l时/qt自动/d强制执行/nz,/nz触发器/gi还/d可以/v用于/vsqlserver/gi约束/gi./nz默认值/nz和/cc规则/gi的/ude1完整性检查/gi,/nz还/d可以/v完成/v难以/d用/p普通/a约束/gi实现/gi的/ude1复杂/a功能/gi /x触发器/gi的/ude1作用/gi:/w /x自动化/gi操作/gi,/nz减少/v了/ule手动/b操作/gi及/cc出错/gi的/ude1几率/n小/a知识点/gi:/w在/psqlserver/gi数据库/gi中/f隐藏/v的/ude1两/nz个/q表/n inserted/nz,/nzdeleted/nz表/n./nz inserted/nz表/n:/w当/p执行/vinsert/gi语句/gi时/qt,/nz添加/gi的/ude1数据/gi也/d会/v加到/vinserted/nz表/n中/f deleted/nz表/n:/w当/p执行/vdelete from/nz时/qt,/nz数据/gi会/v放置/gi到/vdeleted/nz表/n中/f./nz /x注意/v,/nz当/pupdate/gi时/qt,/nz先/d将/d语句/gi删除/gi到/vdeleted/nz表/n中/f,/nz然后/c在/p将/d新的/a数据/gi插入/gi到/vinserted/nz表/n及/cc目的/gi表/n./nz触发器/gi多/a用于/v数据备份/nz创建/gi一个表/nz,/nz表/n的/ude1机构/n和/cc原表/nz结构/gi一样/uyy,/nz但是/c没有/v数据/gi触发器/gi案例/gi:/w当/p删除/gi学生/gi表/n中的/v数据/gi的/ude1同时/c,/nz把/pba删除/gi的/ude1这个/rz数据/gi存放/v到/v我/rr的/ude1新表/nz中/f./nz触发器/gi的/ude1使用/gi建议/gi:/w尽量避免/l在/p触发器/gi中/f执行/v耗时/vi,/nz复杂/a的/ude1操作/gi,/nz因为/c触发器/gi会/v与/ccsql语句/gi认为/v在/p同一个/b事务/gi中/f,/nz事务/gi不/d结束/v,/nz就/d无法/v释放/gi锁/v./nz触发器/gi编写/gi时/qt要/v多/a注意/v对/p多/a行/ng触发/gi时/qt的/ude1处理/vn./nz