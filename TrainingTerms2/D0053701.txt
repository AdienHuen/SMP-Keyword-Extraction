#服务器/gi、/w存储/gi和/cc网络虚拟化/gi的/ude1实现/gi与/cc应用/gi
　/nz虚拟化技术/gi已经/d成为/v数据中心/gi必备/vn的/ude1技术/gi之一/rz，/w那/rzv什么/ry叫/vi虚拟化技术/gi呢/y？/w虚拟化/gi是/vshi一个/mq广义/n的/ude1术语/gi，/w在/p计算机/gi方面/n通常/d是/vshi指/v计算/gi元件/n在/p虚拟/gi的/ude1基础上/nz而/cc不是/c真实/a的/ude1基础上/nz运行/gi。/w虚拟化技术/gi可以/v扩大/v硬件/gi的/ude1容量/gi，/w简化/gi软件/gi的/ude1重新配置/n过程/gi。/wcpu/gi的/ude1虚拟化技术/gi可以/v单/bcpu/gi模拟/gi多/acpu/gi并行/vn，/w允许/v一个/mq平台/gi同时/c运行/gi多/a个/q操作系统/gi，/w并且/c应用程序/nz都/d可以/v在/p相互/d独立/a的/ude1空间/n内/f运行/gi而/cc互不/d影响/gi，/w从而/c显著/ad提高/v计算机/gi的/ude1工作效率/nz。/w　　/nz其中/rz基于/p主机/gi的/ude1虚拟化/gi也/d称为/v基于/p服务器/gi的/ude1虚拟化/gi，/w是/vshi通过/p在/p服务器/gi操作系统/gi中/f嵌入/v或/c添加/gi虚拟层/nz来/vf实现/gi设备/gi虚拟化/gi的/ude1，/w该/rz方法/gi不/d需要/v添加/gi特殊/a的/ude1硬件/gi而/cc只需/v安装/gi具有/v虚拟化/gi功能/gi的/ude1软件/gi模块/gi，/w它/rr以/p驱动程序/gi的/ude1形式/gi嵌入/v到/v应用服务器/gi的/ude1操作系统/gi中/f，/w呈现/v给/p操作系统/gi的/ude1是/vshi逻辑/n卷/q(/nzlogic volume management/nz)/nz，/w通过/p逻辑/n卷/q把/pba分布/vi在/p多/a机上/s的/ude1物理/n存储设备/nz映射/gi成/v一个/mq统一/vn的/ude1逻辑/n虚拟/gi存储空间/gi，/w逻辑/n卷/q管理系统/gi实际上/d是/vshi一个/mq从/p物理/n存储设备/nz映射/gi到/v逻辑/n卷/q的/ude1虚拟化/gi存储/gi管理层/n，/w它/rr可实现/nz系统/gi级/q和/cc应用/gi级/q的/ude1多/a机间/nz存储/gi共享/gi。/w  /x服务器/gi、/w存储/gi和/cc网络虚拟化/gi的/ude1实现/gi与/cc应用/gi　　/nz运行/gi在/p服务器/gi上/f的/ude1虚拟化/gi软件/gi需要/v占用/v服务器/gi的/ude1cup/nz、/w内存/gi、/w带宽/n等/udeng开销/n，/w对/p操作系统/gi的/ude1依赖性/n较大/d，/w使得/vi虚拟化系统/gi不能/v兼容/vi不同/a的/ude1平台/gi，/w移植性/n较差/d。/w　　/nz但是/c基于/p主机/gi的/ude1虚拟化/gi最/d容易/ad实现/gi的/ude1，/w一般/ad只需/v在/p应用/gi服务器端/gi安装/gi卷/q管理/gi驱动/gi模块/gi就/d可以/v完成/v存储虚拟化/gi的/ude1过程/gi，/w具有/v成本低/n、/w同构/gm平台/gi下/f性能/gi高/a的/ude1特点/n。/w　　/nz存储设备/nz的/ude1虚拟化/gi一般/ad在/p存储设备/nz的/ude1控制器/n中/f实现/gi，/w又/d称为/v存储/gi控制器/n的/ude1虚拟化/gi。/w由于/p该/rz虚拟化/gi的/ude1实现/gi方法/gi直接/ad面对/v具体/a的/ude1物理/n设备/gi，/w在/p性能/gi上/f达到/v最优/ad，/w由于/p该/rz虚拟化/gi逻辑/n被/pbei集成/vn到/v设备/gi内部/f，/w存储虚拟化/gi的/ude1管理/gi简单/a方便/a而/cc对/p用户/gi透明/a，/w但/c由于/p这种/r虚拟化技术/gi没有/v统一标准/nz，/w一般/ad只/d适用/vi于/p特定/b厂商/gi的/ude1产品/gi，/w异构/gi产品/gi间/f很难/d实现/gi存储/gi级联/n，/w所以/c这种/r存储虚拟化/gi产品/gi的/ude1可扩展性/gi易/ad受到限制/v。/w　　/nz另外/c，/w由于/p厂商/gi的/ude1限制/vn，/w用户/gi对/p存储设备/nz的/ude1选择面/n也/d很窄/nz，/w如果/c没有/v第三方/nz的/ude1虚拟化/gi软件/gi提供/v底层/n屏蔽/v服务/gi从而/c实现/gi存储/gi级联/n和/cc扩展/gi，/w则/d该/rz系统/gi的/ude1扩展性/n就/d很差/d，/w但/c近期/t也/d有/vyou一些/m研究成果/nz采用/v基于/p目录/gi的/ude1虚拟化/gi方式/n”/w来/vf克服/v这些/rz不足/an。/w　　/nz网路/n的/ude1虚拟/gi存储化/nz技术/gi是/vshi当前/t存储虚拟化/gi的/ude1主流技术/gi，/w它/rr当前/t在/p商业/n上/f具有/v较多/d的/ude1成功/a产品/gi。/w典型/n的/ude1网络/gi虚拟存储/gi技术/gi主要/b包括/v网络/gi附加/vn存储/ginas/gi(/nznetwork attached storage/nz)/nz和/cc存储/gi区域/n网络/gisan/gi(/nzstorage area network/nz)/nz。/w由于/p这/rzv两/nz种/q系统/gi的/ude1体系结构/gi、/w通信协议/gi、/w数据/gi管理/gi的/ude1方式/n不同/a，/w所以/cnas/gi主要/b应用于/v以/p文件共享/gi为基础/nz的/ude1虚拟存储/gi系统/gi中/f，/w而/ccsan/gi主要/b应用/gi在/p以/p数据库/gi应用/gi为主/vi的/ude1块/q级别/n的/ude1数据共享/gi领域/gi。/w存储/gi区域/n网络/gisan/gi是/vshi当前/t网络/gi存储/gi的/ude1主流技术/gi。/w　　/nz虚拟化/gi存储/gi的/ude1实现/gi可以/v分布/vi在/p从/p主机/gi到/v存储设备/nz之间/f路径/gi的/ude1不同/a位置/gi上/f，/w由此/d可/v把/pba基于/p网络/gi的/ude1存储虚拟化/gi细/a分为/v基于/p交换机/gi的/ude1虚拟化/gi、/w基于/p路由器/gi的/ude1虚拟化/gi、/w基于/p存储/gi服务器端/gi的/ude1虚拟化/gi。/w　　/nz交换机/gi的/ude1虚拟化/gi是/vshi通过/p在/p交换机/gi中/f嵌入/v固件/n化/v的/ude1虚拟化/gi模块/gi层/gi来/vf实现/gi的/ude1，/w由于/p在/p交换机/gi中/f集成/vn有/vyou交换/gi和/cc虚拟化/gi功能/gi，/w交换机/gi很容易/nz成为/v系统/gi的/ude1瓶颈/gi，/w并/cc可能/v产生/v单点故障/gi。/w不过/c这种/r结构/gi不/d需要/v在/p服务器上安装/n虚拟化/gi软件/gi，/w可以/v减少/v应用服务器/gi的/ude1负载/gi，/w也/d没有/v基于/p存储设备/nz或者/c主机/gi环境/n的/ude1安全性/gi问题/gi，/w在/p异构/gi环境/n下有/v较好/d的/ude1互操作性/gi。/w　　/nz路由器/gi的/ude1虚拟化/gi是/vshi将/d虚拟化/gi模块/gi集成/vn到/v路由器/gi中/f，/w使/v存储/gi网络/gi的/ude1路由器/gi既/c具有/v交换机/gi的/ude1交换/gi功能/gi，/w同时/c具有/v路由器/gi的/ude1协议/gi转换/gi功能/gi，/w它/rr把/pba存储虚拟化/gi的/ude1范围/n由/p局域网/gi范围内/nz的/ude1虚拟存储/gi扩展到/v了/ule广域/ns虚拟存储/gi。/w　　/nz近年来/dl，/w基于/p路由器/gi的/ude1虚拟化技术/gi得到/v了/ule长足/a的/ude1发展/gi和/cc广泛/a的/ude1应用/gi，/w例如/v基于/piscsi/nz的/ude1虚拟存储/gi技术/gi等/udeng，/w它/rr为/p广域/ns网下/s的/ude1云存储/gi夯实/v了/ule底层/n结构/gi。/w　　/nz专用/gi元数据/gi的/ude1虚拟化/gi是/vshi在/p存储/gi网络/gi中/f接入/vn一台/nz专用/gi的/ude1元数据/gi服务器/gi来/vf完成/v存储虚拟化/gi工作/gi，/w属于/v带/v外/f虚拟化/gi方法/gi。/w　　/nz元数据/gi服务器/gi提供/v基于/p网络/gi虚拟存储/gi服务/gi，/w它/rr负责/v映射/gi不同/a的/ude1物理/n设备/gi，/w形成/v整个/b虚拟/gi设备/gi存储池/nz的/ude1全局/n统一/vn数据/gi视图/gi，/w并/cc负责/v与/cc驻留/v在/p各个/rz应用服务器/gi上/f的/ude1虚拟化/gi代理/gi软件/gi进行/vn通信/gi，/w各/rz应用服务器/gi上/f的/ude1虚拟/gi代理/gi软件/gi负责管理/n存储/gi访问/gi视图/gi和/cci/nz//nzo/nz通信/gi并/cc实现/gi数据/gi访问/gi重定向/gi;/nz该/rz代理/gi软件/gi具有/v实现/gi数据/gi高速缓存/gi和/cc数据/gi预/d存取/gi功能/gi，/w并/cc具有/v维护/gi本地/gi存储/gi视图/gi和/cc元数据/gi的/ude1功能/gi，/w可以/v缓存/gi和/cc暂存/nz本地/gi存取/gi的/ude1元数据/gi信息/gi，/w并/cc保持/v与/cc专用/gi元数据/gi服务器/gi的/ude1数据/gi一致性/gi，/w通过/p数据/gi访问/gi的/ude1局部性/n减少/v访问/gi元数据/gi服务器/gi的/ude1次数/gi从而/c可以/v显著/ad的/ude1提高/v存储/gi吞吐率/nz。/w　　/nz网络/gi的/ude1大规模/b虚拟存储/gi技术/gi将/d是/vshi今后一段/nz时间/gi内/f虚拟/gi存储化/nz技术/gi的/ude1主要/b研究/gi热点/gi，/w其中/rz基于/piscsi/nz协议/gi的/ude1网络/gi存储/gi被/pbei认为/v是/vshi继续/v推动/v存储/gi区域网/nz(/nzsan/gi)/nz快速/d发展/gi的/ude1关键技术/nz，/w该/rz协议/gi通过/pip/gi协议/gi封装/giscsi/nz命令/gi，/w把/pba大型/b存储设备/nz接入/vn网络/gi，/w使/v基于/piscsi/nz的/ude1存储/gi访问/gi协议/gi和/cc互联网/gi上/f，/w从而/c实现/gi独立/a于/p地理位置/gg的/ude1数据存储/gi、/w数据备份/nz和/cc数据检索/nz。/w　　/nz特别/d是/vshi10/nzgb/nz以太网/gi的/ude1迅速/ad普及/v和/cc缩短/v访问/gi延迟/v的/ude1远程/gi内存/gi直接/ad访问/gi技术/gi(/nzrdma/nz)/nz的/ude1快速/d发展/gi，/w将/d会/v加速/gi基于/pip/gi的/ude1虚拟存储/gi技术/gi的/ude1进一步/d快速/d发展/gi。/w　　/nz互联网/gi的/ude1虚拟化/gi是/vshi存储技术/nz的/ude1最高/a形式/gi。/w它/rr采用/v集群/gi技术/gi、/w网格/gi技术/gi、/w覆盖网/n技术/gi、/wp/nz2/nzp/nz技术/gi以及/cc分布式文件系统/nz等/udeng技术/gi实现/gi将/d全球/gi范围内/nz不同/a类型/gi的/ude1存储设备/nz通过/p虚拟化技术/gi整合/gi起来/vf，/w向/p外/f提供/v统一/vn的/ude1虚拟内存/gi和/cc硬盘/gi的/ude1功能/gi。/w　　/nz虽然/c基于/p互联网/gi的/ude1虚拟化/gi的/ude1发展/gi还/d处在/v起步/vi阶段/gi，/w但/c一/nz些/q研究成果/nz已经/d显现/v，/w如/v由/pjun wang/nz，/wxiaoyu yao/nz等/udeng人/n提出/v的/ude1基于/p成熟/a的/ude1tcp/ip/gi协议/gi的/ude1san/gi技术/gi，/w采用/viscsi/nz协议/gi及/cc分层/v缓存机制/gi实现/gi对/p基于/p广域/ns网/n的/ude1存储/gi服务器/gi的/ude1高速/b访问/gi。/w基于/p互联网/gi的/ude1存储虚拟化/gi(/nz例如/v存储云/nz)/nz实际上/d是/vshi一种/nz为/p用户/gi提供/v存储/gi服务/gi的/ude1虚拟化技术/gi。/w　　/nz实现/gi存储虚拟化/gi系统/gi的/ude1关键/n是/vshi实现/gi众多/a异构/gi存储设备/nz到/v统一/vn虚拟存储/gi资源/gi的/ude1视图/gi映射/gi，/w通常/d在/p用户/gi和/cc存储设备/nz路径/gi上/f加入/v存储管理/gi部件/n来/vf实现/gi虚拟化/gi，/w它/rr屏蔽/v了/ule不同/a类型/gi、/w不同/a特性/gi的/ude1物理/n设备/gi，/w实现/gi大量/m异构/gi存储资源/n的/ude1整合/gi，/w向/p用户/gi提供方便/nz访问/gi、/w任意/d划分/v、/w在线/vn扩容/v、/w安全/gi稳定/an的/ude1虚拟存储/gi系统/gi。/w　　/nz实现/gi虚拟化/gi存储系统/gi需要/v解决/v的/ude1一些/m关键技术/nz包括/v：/w　　/nz异构/gi存储介质/nz的/ude1互联/vi和/cc统一/vn管理/gi。/w存储虚拟化/gi的/ude1核心/n任务/gi是/vshi兼容/vi多/a种/q属性/gi的/ude1存储设备/nz，/w屏蔽/v它们/rr间/f不同/a的/ude1物理/n特性/gi并/cc向/p用户/gi提供/v统一/vn的/ude1虚拟/gi逻辑设备/n访问/gi方式/n，/w由/p网络连接/nz的/ude1各种/rz物理/n存储设备/nz以/p虚拟卷/nz的/ude1形式/gi向/p用户/gi呈现/v，/w而/cc用户/gi关注/v的/ude1是/vshi存储容量/gp和/cc数据安全/gi策略/gi，/w而/cc存储容量/gp的/ude1物理/n分配/gi则/d对/p用户/gi透明/a的/ude1，/w存储虚拟化/gi管理系统/gi及其/cc所/usuo兼容/vi的/ude1协议/gi屏蔽/v了/ule连接/gi到/v存储/gi网络/gi中的/v各类/r设备/gi的/ude1差异性/nz，/w简化/gi了/ule逻辑/n存储设备/nz的/ude1管理/gi、/w配置/gi和/cc分配/gi，/w并/cc向/p用户/gi提供/v在线/vn划分/v、/w扩展/gi、/w配置/gi存储/gi和/cc在线/vn增加/v与/cc更替/vn存储设备/nz的/ude1虚拟化/gi存储管理/gi技术/gi。/w　　/nz数据/gi的/ude1共享/gi冲突/gi与/cc一致性/gi。/w数据共享/gi是/vshi存储虚拟化/gi的/ude1主要/b功能/gi之一/rz，/w基于/p网络/gi的/ude1虚拟存储/gi对/p数据共享/gi访问/gi提出/v了/ule很高/d的/ude1要求/n，/w存放在/v不同/a物理/n存储器/gi中的/v数据/gi拷贝/gi为/p操作系统/gi间/f及/cc操作系统/gi和/cc数据仓库/gi问/v的/ude1数据共享/gi带来/v便利/an，/w但/c同时/c必须/d仔细/ad设计/gi锁/v机制/gi算法/gi、/w备份/gi分发/v算法/gi以及/cc缓存/gi一致性/gi技术/gi来/vf保证数据/n的/ude1完整性/gi。/w　　/nz数据/gi的/ude1透明/a存储/gi和/cc容错/gi容灾/gi策略/gi。/w数据/gi的/ude1透明/a访问/gi需要/v虚拟存储/gi屏蔽/v存储设备/nz的/ude1物理/n差异性/nz，/w由/p系统/gi按照/p资源/gi的/ude1特性/gi及/cc用户/gi的/ude1需求/gi自动/d调度/vn和/cc利用/v存储资源/n，/w便于/v用户/gi在/p逻辑/n卷/q的/ude1基础上/nz对/p数据/gi进行/vn复制/gi、/w镜像/gi、/w备份/gi以及/cc实现/gi虚拟/gi设备/gi级/q的/ude1数据/gi快照/gi等/udeng功能/gi。/w　　/nz虚拟存储/gi系统/gi必需/vi按照/p数据/gi的/ude1安全级别/nz建立/gi容错/gi和/cc容灾/gi机制/gi，/w以/p克服/v系统/gi的/ude1误操作/n、/w单点/n失效/vi、/w意外/a灾难/n等/udeng因素/gi造成/v的/ude1数据/gi损失/n。/w系统/gi必需/vi对/p用户/gi透明/a地/ude2的/ude1实现/gi多种/m机制/gi下/f的/ude1数据备份/nz、/w数据系统/n容错/gi和/cc灾难/n预警/gi及/cc自动/d恢复/gi等/udeng策略/gi。/w　　/nz性能优化/gi和/cc负载均衡/gi。/w存储系统/gi应该/v从/p全局/n的/ude1观点/gi并/cc根据/p不同/a存储设备/nz的/ude1特性/gi来/vf优化/gi存储系统/gi，/w应该/v根据/p不同/a存储/gi的/ude1存储/gi响应时/nz问/v、/w吞吐率/nz和/cc存储容量/gp来/vf安排/v多级/b存储/gi体系结构/gi，/w实现/gi数据/gi的/ude1多级/b高速缓存/gi和/cc数据/gi预取/nz功能/gi。/w　　/nz根据/p用户/gi的/ude1需求/gi安排/v不同/a的/ude1存储/gi策略/gi实现/gi对/p数据/gi的/ude1按/p需/v存取/gi，/w仔细/ad设计/gii/nz//nzo/nz均衡/a策略/gi，/w根据/p具体/a的/ude1物理/n设备/gi合理/a分配/gi用户/gi的/ude1i/nz//nzo/nz请求/gi，/w使用/gi条带/n化/v方法/gi、/w数据/gi分块/v、/w时空/n负载/gi区分/v、/w数据/gi主动/ad存取/gi和/cc数据/gi的/ude1过/uguo预取/nz策略/gi来/vf提高/v数据/gi的/ude1访问/gi效率/gi，/w为了/p进一步提高/i访问/gi效率/gi，/w也/d可以/v采用/v基于/p存储/gi对象/gi的/ude1存储/gi主动/ad服务/gi策略/gi来/vf提高/v数据/gi的/ude1主动/ad预测/gi服务/gi。/w　　/nz数据/gi的/ude1安全/gi访问/gi策略/gi。/w基于/p网络/gi的/ude1存储/gi必需/vi对/p访问/gi加以控制/n，/w数据/gi被/pbei越权/vd访问/gi和/cc恶意/n攻击/gi是/vshi虚拟存储/gi系统/gi必/d需要/v避免/v的/ude1，/w透明/a的/ude1存储/gi服务所/nis带来/v的/ude1数据安全性/nz必需/vi由/p虚拟化/gi管理软件/nz来/vf实现/gi，/w其/rz实现/gi安全/gi访问/gi的/ude1策略/gi是/vshi多样/a的/ude1，/w如/v基于/p密钥/gi的/ude1认证/gi管理/gi及/cc数据加密/gi策略/gi，/w以及/cc在/p存储体/n之上/f增加/v一层/nz可信/a的/ude1管理层/n节点/gi等/udeng都/d是/vshi可行/a的/ude1方法/gi。/w　　/nz高可靠性/n和/cc可扩展性/gi。/w高/a可靠/a和/cc可扩展性/gi是/vshi虚拟存储/gi系统/gi必需/vi具备/v的/ude1特性/gi，/w系统/gi应该/v采用/v高效/b的/ude1故障/gi预测/gi、/w故障/gi检测/gi、/w故障/gi隔离/vn和/cc故障/gi恢复/gi技术/gi来/vf保证系统/n的/ude1高可靠性/n。/w　　/nz虚拟存储/gi系统/gi应该/v在/p不/d中断/gi正常/a存储/gi服务/gi的/ude1前提/n下/f实现/gi对/p存储容量/gp和/cc存储/gi服务/gi进行/vn任意/d扩展/gi，/w透明/a的/ude1添加/gi和/cc更替/vn存储设备/nz，/w虚拟存储/gi系统/gi还/d应该/v具有/v自动/d发现/v、/w安装/gi、/w检测/gi和/cc管理/gi不同/a类型/gi存储设备/nz的/ude1能力/gi。/w　　/nz以上/f详细/gi讲解/gi了/ule关于/p服务器/gi、/w存储/gi、/w网络虚拟化/gi技术/gi的/ude1实现/gi与/cc应用/gi，/w相信/v对于/p需要/v对/p数据/gi中/f以/p进行/vn虚拟化/gi改进/gi的/ude1企业/gi来讲/uls，/w有/vyou一定/b的/ude1帮助/v。/w朗思/nz通普/nz是/vshi一家/nhp/gi服务器/gi代理商/nnd，/w同时/c也/d为/p各级/r客户/n提供/v一站式/nz服务器/gi、/w存储虚拟化/gi的/ude1解决方案/gi，/w有/vyou需要/v了解/v的/ude1客户/n请/v联系/gi咨询/gi。/whp/gi存储虚拟化/gi的/ude1优势/gi和/cc不足/an中小企业/gi服务器虚拟化/gi技术/gi的/ude1六建议/nz服务器/gi、/w存储/gi和/cc网络虚拟化/gi的/ude1应用/gi