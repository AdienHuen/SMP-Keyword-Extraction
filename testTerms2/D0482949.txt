#关于/p面向对象/gi的/ude1数据库设计/gi的/ude1想法/gi
第一步/nz，/w分析/gi业务/gi，/w找出/v系统/gi中/f业务/gi对象/gi分析/gi对象/gi间/f关系/gi，/w包括/v调用/gi关系/gi、/w依赖/v关系/gi。/w对象/gi包括/v数据/gi和/cc方法/gi，/w在/p做/v数据库设计/gi时/qt主要/b关注/v对象/gi数据/gi。/w第二步/nz，/w分析/gi对象/gi数据/gi，/w找出/v需要/v保存/gi的/ude1部分/n对象/gi有/vyou很/d多/a数据/gi成员/nnt，/w不是/c所有/b成员/nnt都/d要/v保存/gi。/w比如/v有些/rz成员/nnt是/vshi根据/p其他/rzv成员/nnt计算出来/l的/ude1。/w第三步/nz，/w映射/gi对象/gi到/v数据库/gi常用/a的/ude1数据库/gi是/vshi关系型数据库/gi，/w所以/c这一步/nz通常/d称为/vormapping/nz。/w1/nz、/w根据/p需要/v保存/gi的/ude1对象/gi，/w确定/v表/n结构/gi；/w2/nz、/w /x根据/p对象/gi间/f关系/gi，/w确定/v外键/gi及/cc其他/rzv约束/gi。/w键/n设计/gi的/ude1原则/gi：/wa/nz、/w关字/nz段/q创建/gi外键/gi。/wb/nz、/w /x所有/b的/ude1键/n都/d必须/d唯一/b，/w要/v避免/vn/nz-/nzn/nz关联/vn，/w要/v全/a部优化/nz为/p1/nz-/nzn/nz关联/vn。/wc/nz、/w /x避免/v使用/gi复合键/nz。/wd/nz、/w外键/gi总是/d关联/vn唯一/b的/ude1键/n字段/gi。/w主键/nz通常/d使用/gi自/p增/v整数/gi，/w避免/v与/cc业务/gi发生/v关联/vn。/w因为/c业务/gi会/v变化/gi，/w但是/c主键/nz不能/v变/v。/w第四步/nz，/w根据/p范式/gi，/w消除/v冗余/n数据/gi第五步/nz，/w根据/p性能需求/n，/w改善/v查询/gi效率/gi1/nz、/w /x允许/v少量/mq冗余/n多/a表/n联查/j很慢/d。/w如果/c引入/v少量/mq冗余/n，/w能够/v消除/v多/a表/n联查/j，/w可以/v提高/v查询/gi效率/gi。/w但是/c有/vyou冗余/n数据/gi，/w会/v增加/v数据/gi维护/gi复杂性/gi，/w可能/v出现/v不/d一致/a。/w因此/c需要/v在/p效率/gi和/cc范式/gi之间/f折衷/vn。/w2/nz、/w /x设计/gi索引/gi /x1./nz在/p经常/d用作/vwhere/nz条件/n的/ude1字段/gi上/f建立/gi索引/gi；/w2./nz /x在/psql语句/gi中/f经常/d进行/vngroup by/nz、/worder by/nz的/ude1字段/gi上/f建立/gi索引/gi；/w3./nz /x在/p取/v比较/gi分散/a、/w重复/gi较少/ad的/ude1字段/gi上/f建立/gi索引/gi；/w4./nz /x用于/v联接/v的/ude1列/v（/w主健/nz//nz外健/nz）/w上/f建立/gi索引/gi；/w5./nz /x在/p经常/d存取/gi的/ude1多/a个/q列上/v建立/gi复合/vn索引/gi，/w但要/c注意/v复合/vn索引/gi的/ude1建立/gi顺序/gi要/v按照/p使用/gi的/ude1频度/n来/vf确定/v；/w3/nz、/w /x设计/gi存储过程/gi4/nz、/w /x根据/p预估/v数据量/n，/w对/p关键/n表/n进行/vn分表/n、/w分区/gi。/w第六步/nz，/w根据/p安全性/gi、/w可靠性/gi需求/gi，/w设计/gi备份/gi策略/gi