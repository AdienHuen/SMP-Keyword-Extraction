#数据中心/gi的/ude1演变/gi：/w抽象/gi层/gi、/wSTP/nz协议/gi和/ccTRILL/nz协议/gi
多层次/n的/ude1、/w个别/a分层/v的/ude1数据中心/gi网络时代/nz已经/d快/a被/pbei淘汰/v掉/v了/ule。/w随着/p数据中心/gi进一步/d实施/gi各种/rz抽象/gi层/gi技术/gi，/w很/d多/a的/ude1企业/gi都/d选择/gi重新考虑/n如何/ryv设计/gi他们/rr的/ude1数据中心/gi并/cc迁移/gi到/v扁平化/nz的/ude1简单网络/l中/f，/w这种/r网络/gi相比/vi过去/vf而言/uls能够/v支持/v更多/ad不同/a的/ude1流量/gi模式/gi。/wad/nz：/w多层次/n的/ude1、/w个别/a分层/v的/ude1数据中心/gi网络时代/nz已经/d快/a被/pbei淘汰/v掉/v了/ule。/w随着/p数据中心/gi进一步/d实施/gi各种/rz抽象/gi层/gi技术/gi，/w很/d多/a的/ude1企业/gi都/d选择/gi重新考虑/n如何/ryv设计/gi他们/rr的/ude1数据中心/gi并/cc迁移/gi到/v扁平化/nz的/ude1简单网络/l中/f，/w这种/r网络/gi相比/vi过去/vf而言/uls能够/v支持/v更多/ad不同/a的/ude1流量/gi模式/gi。/w抽象/gi层/gi概念/gi大家/rr可能/v想/v知道/v文中/s所/usuo提及/v的/ude1短语/n“/w抽象/gi技术/gi”/w是/vshi什么/ry意思/n。/w这些/rz技术/gi大/a都/d围绕/v着/uzhe各种/rz虚拟化技术/gi，/w这些/rz虚拟化技术/gi在/p市场/gi上/f能够/v买到/v。/w服务器虚拟化/gi虚拟/gi监视器/nhypervisor/gi的/ude1崛起/v是/vshi第一个/gi发展/gi，/w这/rzv使/v我们/rr走到/vf了/ule今天/t。/w数据中心/gi今天/t看起来/v与/cc10/nz年前/t的/ude1数据中心/gi完全/ad不同/a。/w虽然/c以前/f的/ude1数据中心/gi周围/f常常/d有/vyou成群/vi的/ude1操作/gi人员/gi处理/vn物理/n任务/gi，/w例如/v添加/gi新的/a硬件/gi、/w部署/gi新的/a操作系统/gi，/w以及/cc安装/gi新的/a缆索/n系统/gi，/w但是/c近期/t这些/rz任务/gi却/d不/d像/v往常/t那样/rzv经常/d发生/v。/w当然/d，/w有些/rz企业/gi还/d需要/v部署/gi新的/a硬件/gi，/w但是/c从/p一个/mq正在/d进行/vn的/ude1操作/gi的/ude1角度/n来看/u，/w服务/gi部署/gi已经/d从/p硬件/gi密集型/gi任务/gi迁移/gi到/v主要/b的/ude1软件/gi驱动/gi型/k任务/gi。/w同时/c，/w每/rz台/q物理/n服务器/gi执行/v的/ude1工作量/n也/d在/p不断/d增加/v，/w从而/c减少/v需要/v运行/gi工作/gi负载/gi的/ude1物理/n服务器/gi的/ude1数量/n。/w然而/c,/nz这种/r工作/gi负载/gi的/ude1抽象化/nz也/d带来/v了/ule在/p相关/vn数据中心/gi资源/gi，/w包括/v存储/gi和/cc总体/n的/ude1输入输出/gi端口/gi的/ude1压力/n。/w存储虚拟化/gi对于/p许多企业/nz来说/uls，/w单个/b服务器进行/n大规模/b存储/gi以/p满足/v应用程序/nz需求/gi的/ude1时代/gi已经/d不复存在/vl。/w取而代之/vl的/ude1是/vshi一个/mq新的/a大规模/b共享/gi存储/gi的/ude1时代/gi,/nz与/cc许多不同/nz的/ude1串联/v存储层/nz操作/gi结合/v在/p一起来/nz平衡/a工作/gi负载/gi和/cc成本/n。/w为了/p防止/gi存储/gi混乱/a派生/v出/vf了/ule一/nz些/q命令/gi,/nz目前/t我们/rr已经/d可以/v看到/v抽象/gi存储管理/gi职责/gi，/w为/p提高/v远离/v包括/v整个/b系统/gi的/ude1池/ng存储/gi的/ude1单个/b数组/gi水平/n和一个/nz更高/d的/ude1水平/n而/cc做出/v的/ude1努力/gi。/w当/p企业/gi从/p较高/ad的/ude1层面/n上/f查看/gi存储虚拟化/gi时/qt,/nz它/rr看起来/v就/d像/v服务器虚拟化/gi。/w单个/b工作/gi负载/gi脱离/v底层/n硬件/gi，/w而/cc复杂/a的/ude1软件系统/gi则/d决定/v着/uzhe一个/mq工作/gi负载/gi的/ude1隶属/v关系/gi。/w输入输出/gi端口/gi虚拟化/gi有/vyou多少/ry人/n需要/v将/d大量/m的/ude1电缆/gi小心翼翼/dl地藏/nz在/p你/rr的/ude1服务器/gi柜/ng中/f?/nz你/rr可能/v已经/d安装/gi缆索/n，/w目的/gi是/vshi让/v你/rr将来/t可以/v把/pba服务器/gi连接/gi到/v许多不同/nz的/ude1数据网络/n，/w将/d额外/b的/ude1电缆/gi连接/gi到/v存储系统/gi―/w―/w不管/c他们/rr是/vshiiscsi/nz指令/gi还是/c光纤/n通道-或者/nz许多其他/nz类型/gi的/ude1连接/gi。/w以/p惊人/a的/ude1速度/n迅速/ad崛起/v的/ude1网络适配器/gi和/cc开关/gi结构/gi,/nz可以/v处理/vn大量/m的/ude1工作/gi负载/gi,/nz我们/rr看到/v,/nz这些/rz供应商/nnt的/ude1出现/v可以/v组合/gi与/cc之前/f完全/ad不同/a的/ude1连接/gi方法/gi到/v单一/gi的/ude1电缆/gi，/w来/vf操纵/gi可以/v携带/v所有/b必要/a流量/gi的/ude1服务器/gi,/nz并/cc支持/v服务器/gi需要/v的/ude1工作/gi负载/gi。/w之所以/c称之为/v输入输出/gi端口/gi虚拟化/gi,/nzxsigo/nz等/udeng公司/nis声称/v,/nz是因为/c他们/rr能够/v减少/v一个/mq复杂/a的/ude1数据中心/gi环境/n中/f高达/v70%/nz的/ude1必要/a电缆/gi、/w接口卡/nz与/cc交换机/gi端口/gi的/ude1数量/n。/w继续/v将/dxsigo/nz公司/nis作为/p一个/mq例子/gi,/nz他们/rr的/ude1解决方案/gi迁移/gi到/v一个/mq软件/gi层面/n，/w并/cc有/vyou支持/v服务器/gi通信/gi需要/v的/ude1大多/d数/n工作/gi的/ude1需求/gi,/nz当/p管理员/gi管理/gi数据中心/gi网络/gi时/qt允许/v其/rz前所未有/vl的/ude1时限/n尺度/n和/cc灵活性/gi。/w一个/mq真实/a的/ude1案例/gi，/w是/vshi在/p12/nz年前/t所/usuo从事/vi的/ude1系统工程/n中/f,/nz我们/rr不得不/d将/d六个/nz独立/a的/ude1网络/gi电缆/gi运行/gi到/v三个全/nz架构/gi服务器/gi中的/v每个/r服务器/gi，/w并/cc将/d每个/r电缆/gi连接/gi到/v网络/gi交换机/gi端口/gi。/w现在/t,/nz我们/rr可以/v只用/v一条/nz单一/gi的/ude1电缆/gi、/w一个/mq10/nz gbe/nz连接/gi和/cc交换机/gi端口/gi实现/gi相同/a的/ude1目标/gi,/nz并且/c能够/v切割成/l我们/rr想要/v的/ude110/nz gbe/nz连接/gi的/ude1任何/rz方式/n，/w这/rzv是/vshi什么/ry概念/gi。/w深远影响/i所有/b的/ude1这些/rz抽象化/nz的/ude1技术手段/n,/nz都/d能够/v提高/v各种/rz新/a机会/gi的/ude1效率/gi和/cc可用性/gi,/nz也/d显著/ad的/ude1改变/v了/ule在/p数据中心/gi流量/gi运行/gi的/ude1方式/n。/w而/cc通讯/gi流量/gi曾经/d是/vshi一般性/n的/ude1融入/v和/cc流出/v数据中心/gi,/nz在/p数据中心/gi的/ude1内部/f流量/gi呈/v指数/n增加/v。/w尽管/c应用程序/nz总是/d需要/v互相/d沟通/gi，/w并且/c不同/a的/ude1应用/gi程序层/nz有时/d不得不/d进行/vn网络/gi聊天/gi,/nz但是/c当/p你/rr开始/v考虑/v在/p单个/b主机/gi中/f运行/gi大量/m的/ude1工作/gi负载/gi,/nz然后/c不断/d移动/vn那些/rz在/p数据中心/gi运行/gi的/ude1任意/d的/ude1工作/gi负载/gi时/qt,/nz事情/n就/d会/v发生变化/l。/w简单/a地/ude2说/v,/nz工具/gi正在/d变得/vi越来越/d以/p带宽/n密集型/gi的/ude1方式/n出现/v，/w这/rzv在/p十年前/nz是/vshi无法/v预期/gi到/v的/ude1。/w生成/v树/gi协议/gi多年来/d,/nz研究/gi机构/n试图/v通过/p使用/gi生成/v树/gi协议/gi(/nzspt/nz)/nz来/vf控制/vn网络/gi问题/gi,/nz这个/rz协议/gi通常/d都/d工作/gi得/ude3很好/ad,/nz尽管/c相继/d也/d出现/v了/ule很/d多/a新的/a协议/gi对/p其/rz构成/v挑战/gi。/w但/cspt/nz协议/gi一直/d以来/f还是/c最/d具/vg优势/gi的/ude1。/w但是/c,/nzspt/nz协议/gi是/vshi基于/p链接/gi阻塞/vn而/cc不是/c设法/v最/d有效地/nz利用/v可用/v的/ude1网络/gi资源/gi。/w近来/d，/w高带宽/nz需要/v在/p数据中心/gi的/ude1内部/f应用/gi,/nz然而/c这样/rzv的/ude1方法/gi需要/v解决/v关键/n的/ude1网络/gi问题/gi,/nz可能会/nz导致/gi出现/v低于/v最优/ad的/ude1性能/gi，/w甚至/d可能会/nz以/p提高/v成本/n为/p代价/gi来/vf满足/v流量/gi的/ude1增长/gi。/w生成/v树/gi挡住/v一个/mq端口/gi透明/a交换/gi(/nztrill/nz)/nz如果/c不是/c出于/v对/p循环/gi阻塞/vn链接/gi的/ude1担心/v,/nz我们/rr可以/v不断/d地/ude2利用/v任何/rz可以/v支配/v的/ude1网络/gi路径/gi。/w /x通过/p这种/r方式/n,/nz就/d不会/v仅仅/d是因为/c一个/mq循环/gi而/cc降低/v完美/a的/ude1网络/gi路径/gi利用率/n了/ule。/w这/rzv是/vshi一个/mq新兴/gi的/ude1被/pbei称为/vtrill/nz的/ude1技术-透明/nz交换-开始/nz发挥作用/n。/w简单/a地/ude2说/v,/nz trill/nz会/v使/v你/rr在/p所有/b时候/n都/d无所顾忌/vl的/ude1使用/gi所有/b的/ude1网络/gi路径/gi。/w它/rr实际上/d不/d需要/v生成树/nz的/ude1环境/n。/w通过/p使用/gitril/nz技术/gi,/nz所有/b的/ude1路径/gi组成/gi一个/mq大/a的/ude1网络/gi,/nz在/p这个/rz网络/gi中/f所有/b路径/gi都/d是/vshi有效/gi的/ude1。/w通过/p使/v所有/b路径/gi都/d能够/v保持/v随时/d可用/v,/nz数据中心/gi可以/v更好/d地/ude2支持/v高带宽/nz、/w低/a延迟/v的/ude1工作/gi负载/gi。/wtril/nz使/v所有/b连接/gi均可/v使用/gi辩论/vn随之而来/vl正如/v我们/rr所能/v想象/v的/ude1,/nz扔掉/v一个/mq多年来/d使用/gi良好/a的/ude1技术/gi，/w并不/d适用/vi于/p所有人/n。/w在/p网络/gi中/f关于/p这个/rz问题/gi的/ude1争议/vn是/vshi，/w是否/v需要/v对/p数据中心/gi做出/v突发/gi流量/gi模式/gi的/ude1调整/vn。/w生成/v树/gi协议/gi的/ude1支持者/n们/k表示/v,/nz该/rz协议/gi已经/d存在/v了/ule很长/d时间/gi,/nz公司/nis在/p使用/gi新的/a协议/gi之前/f需要/v小心谨慎/vl。/w协议/gi可以/v生成/v也/d可以/v取消/v,/nz但是/c一个/mq协议/gi从/p早期/f的/ude1局域网/gi跨越/v到/v今天/t的/ude110/nz gbe/nz的/ude1网络/gi是/vshi很/d罕见/a的/ude1。/w辩论/vn的/ude1另一方/nz是/vshi那些/rz觉得/v每个/r协议/gi都/d有/vyou其/rz存在/v的/ude1价/n，/w而且/c生成/v树/gi总会/nis消失/vi从而/c赞成/v更/d灵活/a和/cc更/d有效/gi的/ude1协议/gi。/w还有/v一类/b用户/gi提倡/v一个/mq两/nz种/q协议/gi的/ude1组合/gi,/nz来/vf替换/vtrill/nz的/ude1核心/n网络/gi，/w且/c基于/p网/n核心/n并/cc加入/v较小/d的/ude1stp/nz网域/nz以/p减少/v停机/vi的/ude1影响/gi。/w减少/v网络/gi层级/n最后/f,/nz让/v我们/rr来/vf谈谈/v需要/v的/ude1三个/nz网络层/gi。/w从/p传统/n上/f看/v,/nz在/p头脑/n中/f我们/rr已经/d知道/v了/ule网络/gi设计/gi的/ude1三层/nz:/w核心层/n分布/vi层/gi访问/gi层/gi这/rzv三层/nz与/cc性能/gi、/w安全性/gi和/cc可伸缩性/l设计/gi在/p一起/s。/w此外/c,/nz它/rr允许/v部署/gi的/ude1网络技术/gi,/nz这种/r技术/gi可能/v没有/v将/d多/a个/q层/gi结合/v为/p一个/mq单元/n的/ude1功能/gi。/w在/p一个/mq双层/b网络/gi中/f，/w分布/vi层/gi被/pbei取消/v,/nz它/rr的/ude1服务/gi被/pbei累积/v成/v核心/n或/c分解成/n访问/gi层/gi。/w使用/gi可以/v超过/v并/cc保持/v与/cc供应商/nnt销售/gi设备/gi一致/a的/ude1现代化/vn设备/gi,/nz可以/v处理/vn这些/rz新/a聚集层/nz,/nz这/rzv是/vshi一个/mq最/d常见/a的/ude1做法/n。/w两层/nz网络/gi更容易/nz保持/v冗余/n度/qv而且/c与/cc三层/nz相比/vi，/w也/d具备/v同样/d地/ude2伸缩/vn性能/gi。/w总结/gi随着/p时代/gi的/ude1变迁/vn，/w今天/t的/ude1数据中心/gi正在/d不断/d的/ude1做出/v调整/vn以/p适应/v所/usuo面临/v的/ude1新/a挑战/gi。/w所以/c，/w作为/p数据中心/gi的/ude1管理者/nnt就要/d针对/gi不断/d变化/gi的/ude1流量/gi和/cc运行/gi模式/gi的/ude1不断/d调整/vn来/vf考虑/v数据中心/gi的/ude1整体/n架构/gi。/w