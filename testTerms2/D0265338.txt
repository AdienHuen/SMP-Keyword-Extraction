#Windows/gi编程/gi基础/gi一/nz：/wWindows/gi应用/gi的/ude1基本概念/nz
一/nz、/wwindows/gi应用程序/nz的/ude1特点/n1/nz）/w具有/v图形/gi窗口/s界面/gi，/w一般/ad可以/v与/cc键盘/gi和/cc鼠标/gi相/d配合/v2/nz）/w程序/gi的/ude1进行/vn是/vshi由/p程序/gi用户/gi和/cc系统/gi所/usuo发出/v的/ude1事件/gi（/w键盘/gi事件/gi、/w鼠标/gi事件/gi、/w系统/gi事件/gi等/udeng）/w推动/v（/w驱动/gi）/w的/ude1。/w   windows/nz应用程序/nz的/ude1基本/a结构/gi，/w一段/nz叫做/v主函数/nz、/w另一段/nz叫做/v事件处理/l函数/gi，/w这/rzv两/nz个/q看起来/v并/cc没有/v关联/vn的/ude1函数/gi均/d由/p操作系统/gi来/vf调用/gi。/w如/v图/gi1/nz所示/nz。/w   windows /nz程序/gi主函数/nz的/ude1主要/b工作/gi为/p两项/nz，/w一/nz创建/gi程序/gi图形/gi窗口/s界面/gi，/w二是/nz进入/v一个/mq叫做/v消息/n循环/gi的/ude1循环/gi中/f，/w并/cc在/p这个/rz循环/gi中/f等待/gi用户/gi事件/gi的/ude1产生/v。/w当/p在/p消息/n循环/gi中/f接收/gi到/v事件/gi后/f，/w主函数/nz将/d把/pba事件/gi信息/gi传送/v给/p系统/gi，/w而/cc系统/gi则/d调用/giwindows/gi程序/gi中的/v事件处理/l函数/gi并/cc对/p事件/gi进行/vn处理/vn，/w直到/v一个/mq事件处理/l程序/gi结束/v后/f，/w事件处理/l函数/gi返回/v到/v系统/gi，/w再/d由/p系统/gi返回/v到/v主函数/nz的/ude1循环/gi之中/f，/w接着/c等待/gi下一个/nz事件/gi，/w程序/gi再次/d循环/gi。/w直至/v事件/gi是/vshi一个/mq终止/v程序运行/n的/ude1事件/gi，/wwindows/gi程序/gi才/d结束/v运行/gi并/cc最后/f返回/v到/v系统/gi。/w  /x从/pdos/gi的/ude1角度/n来/vf年/qt，/w当初/t的/ude1windows/gi是/vshi运行/gi在/pdos/gi上/f以/pmain/gi(/nz)/nz为/p起始/gi函数/gi的/ude1一个/mq应用程序/nz，/w只不过/d它/rr是/vshi一个/mq用来/v支持/vwindows/gi应用程序/nz的/ude1运行/gi平台/gi（/w操作系统/gi）/w。/w由于/pmain/gi(/nz)/nz已/d作/v了/ule在/pdos/gi上/f运行/gi的/ude1windows/gi操作系统/gi的/ude1主函数/nz名/q，/w所以/c为了/p防止/gi命名/v上/f的/ude1冲突/gi，/w微软/ntc把/pba当初/t运行/gi在/pwindows/gi操作系统/gi之上/f的/ude1windows/gi应用程序/nz入口/n函数/gi名/q就/d称为/vwinmain/nz。/w即/vwindows/gi应用程序/nz的/ude1起始/gi函数/gi原型/gi为/p：/w二/nz、/wdos/gi与/ccwindows/gi操作系统/gi的/ude1关系/gi    /x现在/twindows/gi上/f仍/d保留/v着/uzhedos/gi，/w不过/c不是/c当初/t的/ude1“/w纯/a”/wdos/gi，/w而是/c一个/mq工作/gi于/pwin/nz32/nz平台/gi之上/f，/w具有/vmsdos/nz上/f的/ude1程序/gi称作/v控制台/gi程序/gi（/wconsole application/nz）/w，/w这种/r不公/a可以/v调用/gic/nz编译器/gi提供/v的/ude1库函数/gi之外/f，/w还/d可以/v调用/giwindows/gi所/usuo提供/v的/ude1api/gi函数/gi，/w尽管/c它们/rr与/cc传统/n的/ude1dos/gi程序/gi一样/uyy，/w都/d以/pmain/gi(/nz)/nz为主/vi函数/gi。/w下图/n可以/v很好/ad的/ude1说明/v现在/t的/ude1dos/gi与/ccwindows/gi系统三/nz、/wjava/gi、/w.net/gi与/ccwindows/gi之间/f的/ude1关系/gi  /x在/p谈/vwindows/gi的/ude1同时/c不得不/d不/d提一提/nzjava/gi，/w因为/c在/p微软/ntc基于/pdos/gi开发/gi了/ulewindows/gi的/ude1许多年/nz后/f，/wsun/gi公司/nis了/ule在/pwindows/gi操作系统/gi上/f构建/gi新/a运行/gi平台/gi的/ude1思想/gi，/w构建/gi了/ulejava/gi虚拟机/gi的/ude1运行/gi平台/gi并/cc开发/gi了/ule配套/vn的/ude1java/gi评/v语言/gi，/w进而/c形成/v了/ule可/v跨平台/nz的/ude1java/gi技术/gi并/cc在/p风/n应用/gi市场/gi的/ude1成功/a，/w后来/t微软/ntc想/v与/ccsun/gi竞争/vn网络/gi应用/gi，/w又/d推出/v了/ule新的/a平台/gi―/w―/w可/v跨平台/nz、/w跨/v语言/gi的/ude1.net/gi。/w目前/t，/w这个/rz.net/gi是否/v能/v成为/v微软/ntc的/ude1新型/gi操作系统/gi是/vshi一个/mq可/v期待/v的/ude1事件/gi。/w四/nz、/wapi/gi函数/gi介绍/gi   /x一般/ad的/ude1计算机系统/gi在/p硬件设计/gi上/f采取/v了/ule措施/gi使/v软件/gi可以/v工作/gi在/p没/d的/ude1的/ude1保护/gi等级/n上/f，/w如/vx86/gi就/d把/pba软件/gi分成/vi了/ule4/nz个/q“特权/nz级/q”/w的/ude1保护/gi级别/n，/w为了/p操作系统/gi安全性/gi，/w操作系统/gi中的/v软件/gi一般/ad都/d运行/gi在/p保护/gi度/qv最高/a的/ude1级别/n，/w而/cc用户程序/n则/d工作/gi在/p保护/gi程序/gi最低/a的/ude1级别/n。/w因此/c用户程序/n根本/a不/d可能/v按照/p普通/a的/ude1方法/gi访问/gi处于/v等级/n最高/a的/ude1内核/gi，/w除非/c使用/gi操作系/nz特意/d为/p用户/gi所/usuo提供/v的/ude1api/gi函数/gi。/wapi/gi与/cc其他/rzv函数/gi的/ude1区别/gi就是/v，/w它/rr实质/gi是/vshi一个/mq软中断/gi，/w因为/c在/pcpu/gi硬件/gi的/ude1设计/gi上/f限定/v了/ule用户程序/n只有/c通过/p软中断/gi才能/n进入/v高/a保护/gi级别/n代码/gi。/w为了/p区别于/v普通/a函数/gi，/w人们/n也/d常/d将/dapi/gi函数/gi叫做/v系统/gi调用/gi，/w因为/c这种/r函数/gi既/c不是/c编译器/gi提供/v的/ude1库函数/gi，/w而是/c由/p操作系统/gi提供/v的/ude1函数/gi。/wwindows/gi　/nzapi/gi函数/gi大体/d可/v分为/v三种/nz：/w１/nz、/w窗口/s管理/gi函数/gi：/w实现/gi窗口/s的/ude1创建/gi、/w移动/vn和/cc修改/gi等/udeng功能/gi２/nz、/w图形/gi设备/gi函数/gi：/w实现/gi图形/gi的/ude1绘制/v用/p操作/gi功能/gi，/w这类/r函数/gi的/ude1集合/gi叫做/v图形/gi设备/gi接口/gi（/wgdi/nz）/w３/nz、/w系统/gi服务/gi函数/gi：/w实现/gi与/cc操作系统/gi有关/vn的/ude1一/nz些/q功能/gi。/w