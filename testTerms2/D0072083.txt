#程显峰/nz：/w保障/vn双/q11/nz不掉/v“底/nz裤”/nz的/ude15/nz种/q安全/gi武器/n
摘要/n：/w在/p当今/t时代/gi，/wit/gi技术/gi更新/gi迭代/gi的/ude1速度/n很快/d，/w攻击/gi的/ude1方式/n也/d变得/vi越来越/d隐蔽/a和/cc致命/vi，/w系统/gi的/ude1安全问题/gi被/pbei越来越/d多/a的/ude1企业/gi所/usuo重视/v。/w如果/c电商/gi网站/gi“/w双/q11/nz”/w当天/t出现/v安全问题/gi，/w就/d会/v导致/gi前期/f所有/b的/ude1资金/n都/d“/w打水/v漂”/nz了/ule。/w一年一度/bl的/ude1“/w双/q11/nz”/w即将/d到来/gi了/ule！/w各家/rz电商/gi网站/gi已经/d使出/v“/w浑身解数/nz”/w来/vf刷屏/nz做广告/nz，/w不断/d刺激/v那些/rz“/w剁/v手/n党”/nz的/ude1脑神经/n。/w毕竟/d前期/f投入/v了/ule巨额/b的/ude1资金/n，/w所以/c电商/gi网站/gi最怕/d网站/gi因/p流量/gi猛/a增/v导致/gi宕机/nz或者/c遭遇/vddos/nz攻击/gi。/w如果/c系统/gi存在/v安全漏洞/nz，/w导致用户/n数据/gi泄露/gi，/w那/rzv就/d更/d要命/vi了/ule。/w在/p当今/t时代/gi，/wit/gi技术/gi更新/gi迭代/gi的/ude1速度/n很快/d，/w攻击/gi的/ude1方式/n也/d变得/vi越来越/d隐蔽/a和/cc致命/vi，/w系统/gi的/ude1安全问题/gi被/pbei越来越/d多/a的/ude1企业/gi所/usuo重视/v。/w如果/c电商/gi网站/gi“/w双/q11/nz”/w当天/t出现/v安全问题/gi，/w就/d会/v导致/gi前期/f所有/b的/ude1资金/n都/d“/w打水/v漂”/nz了/ule。/w所以/c，/w我们/rr需要/v给/p网站/gi加上/v“/w保护/gi盾”/nz。/w以下/f列举/v了/ule5/nz种/q安全问题/gi的/ude1解决/v策略/gi：/w1./nz /x全站/n上/fssl/gi，/w并且/c做/vssl/gi安全检查/gi相信/v很/d多/a人/n都/d听说/v过/uguossl/gi和/cchttps/gi。/wssl/gi是/vshi目前/t最/d常用/a的/ude1的/ude1一种/nz安全/gi解决方案/gi，/w是/vshi为/p网络通信/gi提供/v安全/gi及/cc数据完整性/gi的/ude1一种/nz安全/gi协议/gi，/w其中/rzhttps/gi中的/v“/ws/nz”/w指/v的/ude1就是/vssl/gi。/w但是/cssl/gi也/d分/qt三六九等/bl，/w不是/c所有/b的/ude1ssl/gi都/d是/vshi安全/gi的/ude1。/w如果/c实施/gissl/gi来/vf加强/v网站/gi的/ude1安全性/gi，/w可以/v首先/d访问/gi，/w在线/vn检查一下/n网站/gi的/ude1安全等级/gi。/w这/rzv也/d是/vshi国际上/nz比较/gi权威/n的/ude1一家/n认证机构/gi，/w当然/d，/w不是/c所有/b的/ude1电商/gi网站/gi，/w都/d能够/v达到/va/nz的/ude1评级/vn。/w读者/n感兴趣/a的话/udh，/w可以/v自己/rr去/vf动手/gi去/vf查询/gi一下/m，/w你/rr可能会/nz发现/v有/vyou几/d个/q非常/d知名/a电商/gi网站/gi的/ude1安全等级/gi并/cc不是/c很高/d。/w为什么/ryvssl/gi这么/rz重要/a呢/y？/w因为/cssl/gi证书/gi不仅/c可以/v显示/gi网站/gi的/ude1真实性/n，/w还/d可以/v在/p网站/gi用户/gi输入/v密码/gi与/cc用户名/n时/qt对/p信息/gi进行/vn加密/gi，/w而/cc不/d被/pbei黑客/gi截取/v。/w即使/c能够/v截取/v到/v也/d是/vshi密文/gi，/w也/d看不到/v真实/a的/ude1用户名/n与/cc密码/gi。/w同时/cssl/gi还/d能够/v有效/gi抵御/v中间人/n攻击/gi。/w所以/c，/w如果/c我们/rr访问/gi一个/mq带有/vssl/gi安全/gi认证/gi的/ude1网站/gi，/w从/p安全性/gi考虑/v，/w对/p我们/rr自己/rr的/ude1数据安全/gi是/vshi一种/nz很好/ad的/ude1保护/gi策略/gi。/w如果/c想/v使用/gi这种/r安全策略/gi，/w那么/c就/d需要/v进行/vnssl/gi认证/gi。/w通过/pssl/gi认证/gi后/f，/w可以/v实现/gi数据/gi信息/gi在/p客户端/gi和/cc服务器之间/n的/ude1加密/gi传输/gi，/w可以/v防止/gi数据/gi信息/gi的/ude1泄露/gi。/w保证/v了/ule双方/n传递信息/n的/ude1安全性/gi，/w而且/c用户/gi可以/v通过/p服务器/gi证书/gi验证/v他/rr所/usuo访问/gi的/ude1网站/gi是否是/l真实/a可靠/a。/w对于/p电商/gi网站/gi来说/uls，/w高/a安全/gi的/ude1加密技术/nz及/cc严/a的/ude1身份验证/nz机制/gi可以/v确保/v部署/gissl/gi证书/gi的/ude1网站/gi安全可靠/i，/w所以/c建议/gi电商/gi网站/gi在/p全站/n使用/gihttps/gi，/w不要/d再/d用/phttp/gi了/ule。/w这里/rzs也/d多/a补充/vn一点/m，/w就是/v谷歌/ntc2014/nz年/qt8/nz月份/n，/w在/p其/rz官方/gi博客/gi上/f就/d宣布/v他们/rr将/dhttps/gi//nzssl/gi纳入/v其/rz搜索算法/gi机制/gi中/f，/w采用/vhttps/gi//nzssl/gi安全/gi认证/gi的/ude1网站/gi将/d会/v被谷歌/nz给予/vn更多/ad的/ude1信任/vn，/w从而/c有利于/v网站/gi在/p谷歌/ntc搜索/gi结果/n中的/v排名/gi提升/gi。/w当然/d，/wssl/gi证书/gi也/d是/vshi国际/n通用/gi的/ude1，/w目前/t主要/b国际上/nz比较/gi知名/a的/ude1有/vyou、/w、/w这三家/l，/w笔者/n也/d发现/v了/ule几/d个/q新的/a认证/gi网站/gi，/w包括/v、/w等等/udeng。/w2./nz waf/nz：/w可以/v有效/gi抵抗/vnddos/nz攻击/gi，/w保障/vn高/a可用/vweb application firewall/nz（/wwaf/gi）/w也/d称/v网站/gi应用/gi级/q入侵/gi防御/gi系统/gi，/w利用/v国际上/nz公认/v的/ude1一种/nz说法/n：/wweb应用/gi防火墙/gi是/vshi通过/p执行/v一系列/b针对/gihttp/gi//nzhttps/gi的/ude1安全策略/gi来/vf专门/d为/pweb应用/gi提供/v保护/gi的/ude1一/nz款/q产品/gi。/w当然/d，/wwaf/gi也/d代表/nnt了/ule一类/b新兴/gi的/ude1信息安全/gi技术/gi，/w用以/d解决/v诸如/v防火墙/gi一类/b传统/n设备/gi束手无策/vl的/ude1web应用/gi安全问题/gi。/w因为/cwaf/gi工作/gi在/p应用层/gi，/w因此/c对/pweb应用/gi防护/gi具有/v先天/n的/ude1技术/gi优势/gi。/w基于/p对/pweb应用/gi业务/gi和/cc逻辑/n的/ude1深刻理解/l，/wwaf/gi对/p来自/vweb/gi应用程序/nz客户端/gi的/ude1各类/r请求/gi进行/vn内容/gi检测/gi和/cc验证/v，/w确保/v其/rz安全性/gi与/cc合法性/n，/w对/p非法/b的/ude1请求/gi予以/vx实时/n阻断/v，/w从而/c对/p各类/r网站/gi站点/gi进行/vn有效/gi防护/gi。/wwaf/gi的/ude1特点/n主要/b包括/v异常检测/gi协议/gi、/w增强/v的/ude1输入/v验证/v、/w及时/ad补丁/gi、/w状态/gi管理/gi等等/udeng，/w当然/dwaf/gi还有/v一/nz些/q安全/gi增强/v的/ude1功能/gi，/w可以/v用来/v解决/vweb/gi程序员/gi过分/ad信任/vn输入/v数据/gi带来/v的/ude1问题/gi。/w目前/t国内/s主要/b采用/vwaf/gi这种/r解决方案/gi的/ude1厂商/gi有/vyou安全宝/nr（/w已/d被/pbei百度/ntc收购/gi）/w和/cc加速/gi乐/a（/w知道/v创宇/nz系/v腾讯/ntc所/usuo投/v）/w。/w这/rzv两/nz家/q公司/nis一个/mq有/vyou了/ule“亲/nz爹”/nz，/w一个/mq认/v了/ule“/w干爹/n”/w;/nz，/w在行/a业内/n的/ude1知名度/n也/d比较/gi高/a。/w当然/d，/w他们/rr提供/v的/ude1产品/gi也/d很/d类/gi，/w都/d能够/v帮助/v企业/gi客户/n防范/gi黑客/gi入侵/gi和/ccddos/nz攻击/gi，/w以及/cc其他/rzv一系列/b针对/giweb系统/gi的/ude1安全/gi威胁/gi。/w在/p保障/vn网站/gi的/ude1可用性/gi方面/n，/wwaf/gi的/ude1解决方案/gi还是/c比较/gi强/a的/ude1。/w3./nz /x保护/gi数据安全/gi：/w动态/gi防御/gi的/ude1安全/gi解决方案/girasp/nz（/w实时/n应用/gi自我/rr防护/gi）/wrasp/nz（/wruntime application self/nz-/nzprotection/nz）/w工作原理/gi如下/vi图/gi所示/nz，/w这种/r安全策略/gi在/p可疑/a行为/n进入/v应用程序/nz时/qt并不/d拦截/v，/w而是/c先/d对/p其/rz进行/vn标记/gi，/w在/p输出/gi时/qt再/d检查/gi是否/v为/p危险/an行为/n，/w所以/c能够/v大大减少/i误报/nz和/cc漏报/nz的/ude1概率/gi。/wrasp/nz也/d是/vshi目前/t业界/n已知/nz的/ude1对/psql注入/gi防护/gi最高/a的/ude1一种/nz手段/n，/w而且/c识别率/n非常/d高/a，/w它/rr能够/v有效地/nz解决/v电商/gi网站/gi的/ude1数据安全/gi和/cc泄露/gi问题/gi。/w众所周知/vl，/w对/p电商/gi的/ude1而言/uls，/w最重要/nz的/ude1资产/n就是/v“/w数据/gi”/w，/w如果/c数据/gi篡改/gi或者/c泄露/gi，/w就/d会/v导致/gi灾难性/nz的/ude1后果/gi。/w由于/prasp/nz对/p技术/gi的/ude1要求/n很高/d，/w目前/t国内外/s真正/d做/v这个/rz方面/n的/ude1公司/nis极少/d。/w国外/s的/ude1厂商/gi有/vyouwaratek/nz，/w国内/s也/d有/vyou一家/n公司/nis在/p做/v此类/r的/ude1产品/gi。/w他们/rr主要/b提供/v了/ule基于/p云/gi的/ude1应用程序/nz自我/rr保护/gi服务/gi，/w能够/v为/p软件产品/gi提供/v实时/n保护/gi，/w使/v其/rz免受/v安全漏洞/nz所累/v。/w4./nz /x使用/gi静态/gi检查/gi工具/gi，/w在/p上线/n之前/f检查/gi代码/gi问题/gi静态/gi检查/gi工具/gi就是/v在/p代码/gi上线/n之前/f，/w进行/vn充分/ad的/ude1静态/gi检查/gi，/w也/d应该/v把/pba静态/gi检查/gi成为/v系统/gi持续集成/gi的/ude1一/nz部分/n。/w比如/v数组/gi越界/vi或者/c空/ng指针/gi问题/gi都/d可以/v使用/gi静态/gi检查/gi工具/gi来/vf搞定/v。/w商业级/nz的/ude1静态/gi检查/gi工具/gi包括/v惠普/ntc的/ude1fortify/nz、/wibm security appscan source edition/nz、/wbugscout/nz、/winsight/nz、/wcontrast from contrast security/nz、/wparasoft test/nz、/wseeker/nz等等/udeng。/w也/d有/vyou一家/n新兴/gi的/ude1公司/nis，/w他们/rr的/ude1产品/gi能够/v解决/v影响/gi源代码/gi分析/gi有效性/gi的/ude1很/d多/a关键问题/n，/w诸如/v构建/gi集成/vn、/w编译/gi兼容性/gi、/w高/a误报/nz率/v、/w有效/gi的/ude1错误/gi根源/n分析/gi等等/udeng。/w其实/d大多/d数/n商业/n产品/gi的/ude1功能/gi上/f也/d很/d类/gi，/w只是/d支持/v的/ude1语言/gi有所/v差别/n。/w当然/d，/w这些/rz产品/gi有/vyou一个/mq共同/d的/ude1特点/n就是/v“贵”/nz，/w如果/c不想/v投入/v太多/ad的话/udh，/w也/d可以/v使用/gi开源/gi的/ude1产品/gi。/w以下/f简单/a介绍/gi几/d款/q比较/gi知名/a的/ude1开源/gi工具/gi：/w：/w是/vshi一种/nz开源/gi分析/gijava/gi代码/gi错误/gi的/ude1工具/gi，/w它/rr附带/v了/ule许多/m可以/v直接/ad使用/gi的/ude1规则/gi，/w利用/v这些/rz规则/gi可以/v找出/v源程序/gi的/ude1许/v多/a问题/gi。/w目前/t它/rr支持/v java/nz、/wjavascript/gi、/wplsql/nz、/wapache velocity/nz、/wxml/nz、/wxsl/nz等/udeng多种语言/l。/wfindbugs/nz：/wfindbugs/nz是/vshi一个/mq开源/gi的/ude1静态/gi代码/gi分析/gi工具/gi，/w主要/b寻找/vjava/gi中的/vbug/gi。/w它/rr检查/gi类/gi或者/c jar /nz文件/gi，/w将/d字/n节码/nz与/cc一/nz组/n缺陷/gi模式/gi进行/vn对比/gi以/p发现/v可能/v的/ude1问题/gi。/w的/ude1当前/t版本/n是/vshi3.0.1/nz，/w需要/v在/pjre/nz（/w或/cjdk/gi）/w1.7.0/nz或/c更高/d版本/n上/f才能/n运行/gi。/w：/w是/vshi一个/mq用于/v代码/gi质量管理/gi的/ude1开源平台/gi，/w用于/v管理/gi源代码/gi的/ude1质量/gi，/w可以/v从/p七个/nz维度/gi检测/gi代码/gi质量/gi；/w通过/p插件/gi形式/gi，/w可以/v支持/v包括/vjava/gi、/wc#/gi、/wc/nz//nzc/nz、/wpl/nz//nzsql/gi、/wcobo/nz、/wjavascrip/nz、/wgroovy/nz等等/udeng二十/nz几/d种/q编程语言/gi的/ude1代码/gi质量管理/gi与/cc检测/gi。/w限于/v篇幅/n的/ude1原因/n，/w本文/r不再/d一一列举/vl，/w大家/rr可以/v访问/gi维基百科/nz中的/vsource code analysis tools /nz（/w源代码/gi分析/gi工具/gi）/w可以/v进行/vn详细/gi的/ude1了解/v。/w其中/rz开源/gi工具/gi还包括/nz谷歌/ntc的/ude1codesearchdiggity/nz、/w微软/ntc的/ude1prefast/nz和/ccfxcop/nz、/wrats/nz、/wswaat project/nz、/wflawfinder/nz、/wbrakeman/nz、/wrips/nz、/wcodesake dawn/nz、/wvcg/nz等等/udeng。/w不过/c，/w整体而言/dl，/w由于/p静态/gi检查/gi工作/gi无法/v在/p程序运行/n时/qt进行/vn检查/gi，/w所以/c存在/v一/nz些/q“/w先天性/b”/w的/ude1不足/an，/w而且/c商业级/nz的/ude1产品/gi费用/n过于/d昂贵/a，/w如果/c使用/gi开源/gi的/ude1产品/gi，/w误报率/n也/d很高/d。/w所以/c建议/gi电商/gi网站/gi，/w可以/v作为/p一个/mq安全策略/gi的/ude1补充/vn。/w如果/c电商/gi网站/gi“/w不/d差钱/n”/w的话/udh，/w完全/ad也/d可以/v部署/gi使用/gi商业级/nz的/ude1解决方案/gi。/w5./nz /x在/p主机/gi上/f安装/gi“/w安全/gi审计”/nz，/w并且/c定期/d执行/v最后/f介绍/gi一个/mq“鲜/nz为/p人/n知”/nz的/ude1安全策略/gi，/w就是/v在/p主机/gi上/f安装/gi“/w安全/gi审计”/nz的/ude1组件/gi。/w这种/r方式/n的/ude1好处/gi在于/v：/w一旦/d发生/v变动/vn，/w对系统/l进行/vn非法/b访问/gi的话/udh，/w就/d会/v发生/v报警/vn。/w对/p电商/gi网站/gi的/ude1系统管理员/nnt来说/uls，/w为了/p保证系统/n的/ude1安全/gi，/w每天/r都/d需要/v进行/vn软件/gi补丁/gi管理/gi、/w恶意软件/gi扫描/gi、/w文件/gi完整性检查/gi、/w安全/gi审查/vn、/w配置/gi错误/gi检查/gi等等/udeng工作/gi。/w为了/p帮/v他们/rr在/p“/w双/q11/nz”/w能够/v稍微/d轻松/a一点/m，/w这里/rzs推荐/gi一/nz款/q开源/gi的/ude1安全/gi审计/vn工具/gi。/wlynis/nz能够/v帮助/v系统管理员/nnt和/cc安全/gi顾问/nnt来/vf评估/gilinux /nz//nz unix/nz系统/gi的/ude1安全等级/gi。/w因为/c它/rr本身/rz直接/ad运行/gi在/p主机/gi之上/f，/w所以/c它/rr的/ude1性能/gi要/v远超过/ns一般/ad的/ude1漏洞/n扫描/gi功能/gi。/wlynis/nz能够/v运行/gi在/p几乎/d所有/b的/ude1unix/gi版本/n上/f，/w包括/vaix/nz、/wfreebsd/nz、/whp/gi-/nzux/nz、/wlinux/gi、/wmac os/nz、/wnetbsd/nz、/wopenbsd/nz、/wsolaris/nz等等/udeng。/w甚至/d还/d可以/v运行/gi在/praspberry pi/nz（/w树莓派/gi）/w或者/cqnap/nz的/ude1存储设备/nz上/f。/w一旦/dlynis/nz开始/v扫描/gi系统/gi，/w它/rr就/d会/v执行/v许多/m类别/gi的/ude1审查/vn工作/gi：/w包括/v系统/gi工具/gi，/w内核/gi，/w内存/gi和/cc进程/gi，/w用户/gi、/w用户组/nz和/cc验证/v，/w同时/c还有/v文件系统/gi、/w存储/gi、/w数据库/gi、/w日志/gi和/cc文件/gi等等/udeng。/w因为/clynis/nz有/vyou一个/mq检查/gi列表/vi，/w所以/c它/rr执行/v的/ude1非常/d详细/gi，/w就/d像/v政府部门/gi的/ude1审计工作/nz一样/uyy，/w非常/d的/ude1细致/a。/w但是/c需要/v定期/d执行/v，/w并/cc及时/ad修补/v指出/v的/ude1问题/gi，/w才能/n保证/v网站/gi的/ude1高/a安全性/gi。/w关于/p作者/nnt程显峰/nz，/woneapm/nz公司/nis首席/n运营官/n，/w之前/f曾任/v积木/n盒子/n技术/givp/nz，/w擅长/v软件/gi研发/gi团队/gi的/ude1管理/gi。/w作为/p知名/a技术顾问/l，/w曾/d服务于/v花旗银行/nt、/w蓝色/n光标/n、/w国家电网/nz等/udeng多/a家/q大型/b集团/nis。/w致力于/v推动/v开源/gi软件/gi在/p国内/s的/ude1发展/gi，/w是/vshimongodb/gi和/ccdocker/gi技术/gi在/p国内/s早期/f的/ude1推动者/n，/w并/cc翻译/gi有/vyou《/wmongodb/gi权威/n指南/gi》/w和/cc《/w深入/ad学习/gimongodb/gi》/w等/udeng书籍/gi。/w经常/d在/p技术/gi会议/gi发表/v演讲/gi或/c担任/v出品人/nnt，/w拥有/v悉/vg大学/gi硕士学位/nz和/cc哈尔滨工业大学/nt学士学位/nz。/w（/w责编/nnt//nz仲浩/nz）/w