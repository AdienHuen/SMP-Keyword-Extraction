#Ajax jQuery Web/nz聊天室/nz
实现/gi界面/gi：/w1./nz进入/v聊天室/nz前/f必须/d进行/vn登录/gi，/w保存/gi用户/gi基本/a信息/gi，/w为了/p显示/gi在线/vn人数/n2./nz登录/gi聊天/gi时/qt，/w调用/giajax/gi的/ude1全局/n函数/gi$/nz./nzajax/gi(/nz)/nz,/nz将/d获取/gi的/ude1用户名/n和/cc密码/gi数据/gi向/p处理/vn逻辑/n发送/gi，/w使用/giajaxstart/nz和/ccajaxstop/nz事件/gi绑定/gi提示信息/n元素/gi，/w优化/gi用户/gi体验/v3./nz登录/gi时/qt，/w处理/vn逻辑/n端/v接收数据/nz，/w检测/gi密码/gi是否/v正确/a，/w如果/c不/d正确/a，/w弹出/vf错误/gi对话框/gi，/w否则/c进入/v聊天室/nz4./nz首/q次/qv登录/gi，/w如果/c当前/t没有/v聊天/gi数据/gi，/w则/d内容/gi区/n显示/gi目前/t没有/v聊天记录/nz，/w在线/vn用户区/n显示/gi登录/gi时/qt的/ude1用户名/n5./nz底部/f文本/gi框/ng输入/v聊天/gi内容/gi，/w点击/v发送/gi后/f，/w通过/p$/nz./nzajax/gi(/nz)/nz获取/gi聊天/gi内容/gi，/w向/p服务器/gi提交/gi请求/gi，/w同时/c，/w服务器/gi相应/vi数据/gi，/w写入/gi完成/v后/f，/w将/d数据/gi显示/gi在/p内容/gi区/n6./nz在/p发送/gi内容/gi时/qt还/d可以/v发送/gi表情/n，/w发送/gi时/qt仅/d传送/v表情/n图标/gi的/ude1名称/n，/w不/d发送/gi图片/gi，/w服务器返回/n的/ude1也/d是/vshi相应/vi的/ude1名称/n，/w再/d将/d名称/n对应/vi图标/gi显示/gi在/p页面/gi中/f7./nz发送/gi成功/a，/w服务器返回/n成功/a标志/n，/w客户端/gi接收/gi后/f清空/nz发送/gi文本/gi框/ng，/w刷新/v对话框/gi列表/vi，/w获取/gi最新/a聊天记录/nz经验/gi：/w1./nz发送信息/n和/cc获取信息/l都/d有/vyou发送/gi按钮/n触发/gi，/w但是/c要/v明确/a是/vshi两/nz个/q步骤/gi逻辑/nservlet/nz层/gi：/w1./nz登录/gi成功/a将/d用户名/n和/cc时间/gi存入/v在线/vn用户表/nz中/f2./nz发送数据/n到/v逻辑/n层/gi再/d发到/v数据库/gi层/gi3./nz请求/gi数据/gi时/qt，/w从/p数据库/gi中/f接收数据/nz后/f在/p逻辑层/nz封装/gi成/vhtml/gi字符串/gi返回/v到/v界面/gi数据库层/nz：/w1./nz登录/gi时/qt将/d用户名/n存入/v当前/t聊天室/nz的/ude1在线/vn用户表/nz中/f，/w并/cc记录/gi登录/gi时间/gi2./nz发送/gi聊天/gi内容/gi是/vshi将/d说话/vi人/n，/w时间/gi和/cc内容/gi一并/d存入/v数据库/gi的/ude1聊天/gi记录表/nz中/f3./nz刷新/v聊天记录/nz时/qt根据/p请求/gi的/ude1时间/gi，/w返回/v请求/gi时间/gi之前/f的/ude1聊天记录/nz，/w并/cc按/p时间/gi顺序/gi返回/v4./nz刷新/v在线/vn用户表/nz时/qt，/w按/p请求/gi的/ude1时间/gi顺序/gi返回/v在线/vn用户名/n