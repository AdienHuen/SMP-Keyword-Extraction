#设计模式/nz系列/n之三/r：/w工厂模式/gi（/wFactory Pattern/nz）/w
这/rzv是/vshi本/rz系列/n的/ude1第三篇/nz博客/gi，/w这次/r主要/b来说/uls一/nz下/f工厂模式/gi。/w基本/a工厂模式/gi简单/a来说/uls工厂模式/gi是/vshi将/d工程/n中的/v相同/a类型/gi对象/gi的/ude1创建活动/v集中管理/nz，/w一般/ad通过/p反射来/nz生成/v外界/n需要/v的/ude1实体类/nz。/w比如/vspring/gi中的/v容器/gibean/nz概念/gi，/w通过/pspring beanfactory/nz来/vf产生/v不同/a的/ude1bean/nz这样/rzv做/v有/vyou两/nz个/q好处/gi：/w /x1./nz /x便于/v之后/f的/ude1实体类/nz的/ude1拓展/v性/ng /x2./nz /x可以/v方便/a的/ude1进行/vn不同/a实体类/nz的/ude1具体/a初始化/v（/winit/nz）/w方案/gi我们/rr这里/rzs来用/v一个/mq水果店/nz来/vf说明/v这个/rz设计模式/nz的/ude1大体/d思路/gi：/w水果店/nz中/f售卖/v的/ude1水果/n是/vshi一系列/b相似/a的/ude1产品/gi这些/rz产品/gi都/d是/vshi可以/v被/pbei购买/gi的/ude1（/w相似/a的/ude1行为/n抽象/gi接口/gi）/w水果店/nz是/vshi可以/v售卖/v当前/t所有/b的/ude1水果/n的/ude1（/w工厂/gi可以/v产生/v这/rzv一系列/b产品/gi实体类/nz）/w那么/c我们/rr来/vf定义/gi水果/n的/ude1interface/nz苹果/nf实体类/nz：/w香蕉/nf和/cc梨略/nz现在/t来/vf构建/gi一个/mq工厂/gi类/gi，/w我们/rr这里/rzs因为/c用/p不到/v抽象工厂/gi类/gi，/w所以/c只/d需要/v建立/gi一个/mq实体类/nz即可/v，/w这个/rz实体类/nz可以/v通过/p反射来/nz生成/v指定/v的/ude1实体类/nz。/w测试/gi：/w抽象工厂模式/gi所谓/v的/ude1抽象工厂模式/gi只不过/d是/vshi在/p应对/v多种/m系列/n商品/gi的/ude1一种/nz工厂模式/gi。/w说/v简单/a点/gi就是/v所有/b的/ude1工厂/gi共同/d实现/gi一个/mq工厂/gi接口/gi或者/c继承/gi某个/rz工厂/gi基类/nz，/w在/p此/rzs不再/d赘述/vi了/ule。/w总结/gi工厂/gi类/gi说到底/dl，/w其实/d没有/v避免/v对象/gi的/ude1创建/gi操作/gi，/w但是/c一般来说/vl，/w工厂/gi类/gi和/cc其他/rzv设计模式/nz结合/v才能/n进一步/d优化/gi软件设计/nz思路/gi。/w工厂/gi类/gi和/cc实例/gi池/ng结合/v可以/v实现/gi限制/vn当前/t环境/n中的/v实例/gi个数/n（/w如一/r些/q数据库连接池/gi，/w每次/r请求/gi的/ude1实例/gi其实/d是/vshi直接/ad从/p空闲/gi连接/gi中/f取出/v，/w这样/rzv的/ude1速度/n会/v很快/d，/w使用/gi完毕/vi之后/f会/v返回/v给/p工厂/gi）/w工厂/gi类/gi可以/v初始化/v不同/a的/ude1实例/gi对象/gi，/w这/rzv点/gi可以/v降低/v程序代码/nz冗余/n度/qv，/w使/v从/p工厂/gi中/f获取/gi到/v的/ude1对象/gi都/d按照/p一定/b的/ude1标准/gi进行/vn了/ule初始化/v（/w有兴趣/v的/ude1同学/n可以/v参看/v一/nz下/fspring bean /nz中的/vbean/nz初始化/v方式/n）/w