#数据库调优/gi教程/gi（/w十一/nz）/w /x设计/gi一/nz张/q漂亮/a的/ude1表/n
四/nz、/w设计/gi一/nz张/q漂亮/a的/ude1表/n上/f一/nz章/q讲/v了/ule如何/ryv通过/p索引/gi来/vf提速/vn我们/rr的/ude1查询/gi语句/gi，/w这/rzv一/nz章/q让/v我们/rr回到/v数据库/gi开发/gi的/ude1初始/b阶段/gi，/w建表/nz。/w谈谈/v怎样/ryv设计/gi一/nz张/q漂亮/a的/ude1表/n。/w1./nz满足/v三范式/nz1/nznf/nz:/w /x即/v表/n的/ude1列/v的/ude1具有/v原子性/nz,/nz不可/v再/d分解/gi，/w即/v列/v的/ude1信息/gi，/w不能分解/l,/nz /x只要/c数据库/gi是/vshi关系型数据库/gi(/nzmysql/gi//nzoracle/gi//nzdb/nz2/nz//nzinformix/nz//nzsysbase/nz//nzsqlserver/gi)/nz，/w就/d自动/d的/ude1满足/v1/nznf/nz数据库/gi的/ude1分类/gi关系型数据库/gi:/w mysql/nz//nzoracle/gi//nzdb/nz2/nz//nzinformix/nz//nzsysbase/nz//nzsql server/gi非关系型数据库/gi:/w /x面向对象/gi或者/c集合/gi面向文档/gi数据库/gi:/w  mongodb/nz2/nznf/nz:/w /x表/n中的/v记录/gi是/vshi唯一/b的/ude1,/nz /x就/d满足/v2/nznf/nz,/nz /x通常/d我们/rr设计/gi一个/mq主键/nz来/vf实现/gi。/w一般/ad情况下/nz，/w表/n中都/ns必须/d设置/gi主键/nz，/w并且/c一般/ad不含/v业务逻辑/gi，/w可以/v设置/gi为/p自/p增长/gi。/w3/nznf/nz:/w /x即/v表/n中/f不要/d有/vyou冗余/n数据/gi,/nz /x就是说/c，/w表/n的/ude1信息/gi，/w如果/c能够/v被/pbei推导/gi出来/vf，/w就/d不/d应该/v单独/d的/ude1设计/gi一个/mq字段/gi来/vf存放/v./nz有时候/d为了/p减少/v查询/gi次数/gi，/w可以/v容忍/v冗余/n。/w2./nz字段/gi数目/gi不要/d过多/d一/nz张/q表/n的/ude1字段/gi过于/d庞大/a，/w会/v导致/gi查询/gi时/qt的/ude1扫描/gi范围/n加大/v，/w即使/c你/rr并/cc没有/v查询/gi相应/vi字段/gi。/w所以/c，/w如果/c一/nz张/q表/n某个/rz字段/gi，/w信息量/n大/a，/w但是/c我们/rr很少/ad查询/gi，/w则/d可以/v考虑/v把/pba这些/rz字段/gi，/w单独/d的/ude1放入/v到/v一/nz张/q表/n中/f，/w这种/r方式/n称为/v垂直分割/nz3./nz选择/gi合适/a的/ude1字段/gi类型/gi在/p创建/gi表/n的/ude1时候/n要/v选取/gi最/d适用/vi的/ude1字段/gi属性/gi。/w一般说来/vl，/w数据库/gi中的/v表越/nz小/a，/w在/p它/rr上面/f执行/v的/ude1查询/gi也/d就/d会/v越快/nz。/w因此/c，/w在/p创建/gi表/n的/ude1时候/n，/w为了/p获得/v更好/d的/ude1性能/gi，/w我们/rr可以/v将/d表/n中/f字段/gi的/ude1宽度/n设得/v尽可能/d小/a举/v个/q例子/gi11/nz位/q的/ude1手机号/n有/vyou两/nz种/q类型/gi可以/v存储/gibigint/nz、/wchar/nz(/nz11/nz)/nz。/wint/nz类型/gi最大/gm2147483647/nz不可存/nz考虑到/vbigint/nz占/v20/nz字节/gi，/w而/ccchar/nz(/nz11/nz)/nz占/v11/nz*/nz2/nz=/nz22/nz（/wgbk/gi）/w或/c11/nz*/nz3/nz=/nz33/nz(/nzutf-8/gi)/nz,/nz所以/c使用/gibigint/nz是/vshi最好/d的/ude1。/w如果/c在/p创建/gi表/n之后/f发现/v表/n的/ude1字段/gi设置/gi不够/a合理想/nz修改/gi时/qt怎么/ryv修改/gi呢/y？/w4./nz修改/gi表/n结构/gi如果/c发现/v表/n的/ude1字段/gi设置/gi不够/a合理想/nz修改/gi时/qt怎么/ryv修改/gi呢/y，/w有/vyou两/nz种/q方法/gi。/w传统/n方法/gi先/d使用/gishow createtable /nz查看/gi原先/d怎样/ryv创建/gi字段/gi的/ude1然后/c就/d可以/v根据/p需要/v修改/gi了/ule快速/d方法/gi（/w简单/a粗暴/a而/cc高效/b）/w创建/gi一个/mq结构/gi是/vshi你/rr所/usuo需要/v的/ude1空表/nz，/w关闭/gimysql/gi，/w在/p文件夹/n中/f直接/ad复制/gi新/a生成/v的/ude1表/n的/ude1frm/nz文件/gi替换/v掉/v原来/d表/n的/ude1的/ude1frm/nz文件/gi注/v：/wfrm/nz文件/gi位于/vmysql/gi安装/gi目录/gi下/f的/ude1  /x//nzdata/nz//nz数据库/gi名/q  /x目录/gi下/f本章/r结束/v，/w下/f一/nz章/q将/d谈谈/vsql语句/gi的/ude1优化/gi方法/gi。/w