#5/nz段/qSQL/nz可以/v测试/gi出/vf你/rr对/pSQL/nz性能优化/gi知识/gi了解/v多少/ry
数据库/gi是/vshi很/d强大/a的/ude1，/w它/rr可以/v实现/gi超/v预期/gi的/ude1执行/v性能/gi。/w但是/c很/d多/a人/n很容易/nz写出/v不能/v发挥/v最/d高效算法/gi的/ude1sql/gi查询/gi语句/gi，/w因而/c也/d容易/ad产生/v无法/v预期/gi的/ude1性能/gi结果/n。/w下面/funcletoo/nz为/p大家/rr整理/gi出/vf5/nz段/qsql/gi，/w都/d是/vshi大家/rr平时/t经常/d写/v的/ude1sql/gi，/w但是/c稍微/d经过/p一/nz些/q优化/gi，/w或者/c换/v种/q写法/gi，/w也许/d他/rr的/ude1执行/v效率/gi就/d会/v高出/v好/a几倍/nz，/w大家/rr也/d可以/v对照/v自己/rr平时/t的/ude1写法/gi，/w看看/v自己/rr是否/v还有/v继续/v学习/gi的/ude1空间/n。/w本文/r介绍/gi的/ude1sql/gi是/vshi基于/poracle数据库/gi的/ude1。/w1/nz、/w查询/gi2014/nz年/qt所有/b的/ude1行/ng有/vyou过/uguosql/gi优化/gi经验/gi的/ude1人/n也许/d会/v问/v，/w这样/rzv写/v没问题/nz啊/y，/w将/d出现/v在/p条件/n中的/v字段/gi加索/nz引/v，/w可以/v起到/v优化/gisql/gi的/ude1作用/gi，/w怎么会/nz有/vyou问题/gi呢/y？/w有/vyou这样/rzv疑问/n的/ude1朋友/n对/p数据库/gi优化/gi还是/c有所/v了解/v的/ude1，/w但是/c你/rr忽略/v了/ule一点/m：/w不管/c是/vshioracle/gi还是/c其他/rzv数据库/gi，/w一旦/d将/d字段/gi放在/v函数/gi里/f执行/v，/w该/rz字段/gi的/ude1索引/gi将/d不起作用/l。/w那么/c正确/a的/ude1写法/gi如下/vi：/w2/nz、/w查询/gi出/vf最近/t日期/gi的/ude1一行/n数据/gi这段/rsql/gi很/d经典/gi，/w开发/gi中/f很/d多/a地方/n都/d可能会/nz用/p到/v类/gi这样/rzv的/ude1查询/gi。/w没错/vi，/w这段/rsql/gi是/vshi不/d需要/v优化/gi的/ude1，/w它/rr可以/v按照/p经过/p索引/gi的/ude1 top/nz-/nzn /nz查询/gi方式/n执行/v，/w它/rr的/ude1效率/gi跟/p index unique scan/nz（/w唯一/b索引/gi扫描/gi）/w /x是/vshi等效/b的/ude1，/w所以/c会/v非常/d快/a。/w3/nz、/w两/nz个/q查询/gi语句/gi，/w通过/p一个/mq普通/a列/v查询/gi：/w这个/rz很/d简单/a，/w只有/c第一个/gisql/gi用/p到/v了/ule索引/gi，/w而/cc第二个/nz却/d无法/v使用/gi索引/gi。/w其实/d这/rzv就是/v单索引/nz与/cc组合/gi索引/gi在/p使用/gi上/f的/ude1区别/gi。/w4/nz、/w字符/gi串模/nz糊/v查询/gi在/p前面/f的/ude1文章/gi中/f，/w我们/rr曾经/d说/v过/uguo like /nz语句/gi如何/ryv使用/gi通配符/gi才能/n提高效率/nz（/w8/nz个/qsql语句/gi常用/a优化/gi技巧/gi）/w。/w当/p条件/n中/f遇到/v like /nz语句/gi，/w那么/c无论/c该/rz字段/gi是否/v设置/gi索引/gi效果/gi都/d一样/uyy，/w因为/c索引/gi遇到/v like /nz就/d会/v无法/v发挥/v其/rz效能/n，/w而且/c也/d没有/v更好/d的/ude1解决办法/n，/w因此/c建议/gi大家/rr除非/c万不得已/nz，/w否则/c不要/d轻易/d使用/gi like /nz语句/gi。/w5/nz、/w查询/gi某/rz条件/n下/f的/ude1记录/gi数/n上面/f两/nz条/q查询/gi语句/gi，/w第一条/nz可能会/nz查出/v几千/nz或者/c几/d万条/q记录/gi，/w而/cc第二条/nz语句/gi因为/c多/a了/ule一个/mq条件/n可能/v只/d查出/v几/d条/q或/c几/d十条/nz记录/gi，/w也许/d大家/rr会/v认为/v第二条/nz语句/gi的/ude1效率/gi更快/d。/w其实/d刚好/d相反/vi，/w第一条/nz语句/gi的/ude1执行/v效率/gi更快/d。/w因为/c第一条/nz语句/gi中/f，/w索引/gi覆盖/gi了/ule所有/b查询/gi字段/gi，/w而/cc第二个/nzsql/gi中的/vb/nz条件/n没有/v索引/gi。/w转载自/nz：/w