#结构体/gi大小/n与/ccsizeof/gi
一个/mq例子/gi字节对齐/gi原因/n：/w简化/gi了/ule形成/v处理器/gi和/cc存储器/gi之间/f的/ude1接口/gi的/ude1硬件设计/gi提高/v存储器/gi系统/gi的/ude1性能/gi结构体/gi的/ude1大小/n：/w结构体/gi中/f每个/r成员/nnt均/d需要/v对齐/gi结构体/gi整体/n以/p结构体/gi中/f占/v字节数/nz最多/ad的/ude1一个/mq基本/a类型/gi对齐/gi（/w如/vdouble/nz，/w对于/p结构体/gi中/f嵌/v套/q结构体/gi的/ude1情况/n，/w仅/d考虑/v嵌/v套/q结构体/gi中的/v最大/gm基本/a类型/gi，/w数组/gi类似/a）/w。/w#/nzpragma pack/nz(/nzn/nz)/nz /x设定/v字节对齐/gi：/w编译器/gi中/f提供/v了/ule#/nzpragma pack/nz(/nzn/nz)/nz来/vf设定/v变量/gi以/pn/nz字节对齐/gi方式/n。/wn/nz字节对齐/gi就是说/c变量/gi存放/v的/ude1起始/gi地址/gi的/ude1偏移量/gi有/vyou两/nz种/q情况/n：/w如果/cn/nz大于/v等于/v该/rz变量/gi所/usuo占用/v的/ude1字节数/nz，/w那么/c偏移量/gi必须/d满足/v默认/v的/ude1对齐/gi方式/n；/w如果/cn/nz小于/v该/rz变量/gi的/ude1类型/gi所/usuo占用/v的/ude1字节数/nz，/w那么/c偏移量/gi为/pn/nz的/ude1倍数/n，/w不用/d满足/v默认/v的/ude1对齐/gi方式/n。/wsizeofsizeof/nz计算/gi分配/gi的/ude1空间/n大小/nsizeof/gi是/vshi运算符/gi，/w括号/n内/f的/ude1内容/gi在/p编译/gi过程/gi中/f是/vshi不/d被/pbei编译/gi的/ude1，/w而是/c被/pbei替代/v类型/gi数组/gi做/vsizeof/gi的/ude1参数/gi不/d退化/vi，/w传递/v给/pstrlen/nz就/d退化/vi为/p指针/gi