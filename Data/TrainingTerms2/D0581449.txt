#设计模式/nzC++/gi实现/gi十五/nz：/w组合模式/gi
组合模式/gi（/wcomposite/nz)/nz：/w将/d对象/gi组合/gi成树/nz的/ude1结构/gi以/p表示/v部分-整体/nz的/ude1层次结构/gi。/w组合模式/gi使得/vi用户/gi对/p单个/b对象/gi和/cc组合/gi对象/gi的/ude1使用/gi具有/v一致性/gi。/w树/gi可能/v有/vyou无数/m的/ude1分支/n，/w只有/c反复/d使用/gicomposite/nz就/d可以/v实现/gi树状/b结构/gi了/ule。/w在/pcomponent/nz中/f声明/gi所有/b用来/v管理子/nz对象/gi的/ude1方法/gi，/w其中/rz包括/vadd/nz,/nzremove/nz方法/gi，/w这样/rzv实现/gicomponent/nz接口/gi的/ude1所有/b子类/gm都/d具备/vadd/nz,/nzremove/nz方法/gi。/w这样/rzv做/v的/ude1好处/gi就是/v叶结点/nz和/cc枝/ng节点/gi相对于/nz外界/n没有/v区别/gi，/w他们/rr具备/v完全一致/i的/ude1行为/n接口/gi。/w称为/v透明/a方式/n。/w使用场景/gi：/w当/p我们/rr发现/v需求/gi中/f是/vshi体现/v部分/n和/cc整体/n的/ude1层次结构/gi时/qt，/w以及/cc我们/rr希望/v用户/gi可以/v忽略/v组合/gi对象/gi与/cc单个/b对象/gi的/ude1不同/a，/w统一/vn地/ude2使用/gi组合/gi结构/gi中的/v所有/b对象/gi时/qt，/w就/d可以/v考虑/v使用/gi组合模式/gi。/w下面/f代码/gi使用/gi组合/gi模式定义/l了/ule包含/v人力资源部/nz和/cc财务部/nis这些/rz基本/a对象/gi和/cc分公司/nis、/w办事处/nis等/udeng组合/gi对象/gi的/ude1类/gi层次结构/gi。/w基本/a对象/gi可以/v被/pbei组合成/l更/d复杂/a的/ude1组合/gi对象/gi，/w而/cc这个/rz组合/gi对象/gi又/d可以/v被/pbei组合/gi，/w这样/rzv不断/d的/ude1递归/gi下去/vf，/w客户端/gi代码/gi中/f，/w任何/rz用/p到/v基本/a对象/gi的/ude1地方/n都/d可以/v使用/gi组合/gi对象/gi。/w简单/a的/ude1说/v组合模式/gi可以/v让/v客户/n一致/a地/ude2使用/gi组合/gi结构/gi和/cc单个/b对象/gi。/w