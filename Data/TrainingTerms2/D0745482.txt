#树链剖分/gi模板/gi+/nz入门/gi题/n SPOJ /nz-/nz QTREE/nz
题目/gi链接/gi：/w[/nz点击/v进入/v]/nz(/nz）/w /x树链剖分/gi并/cc不是/c一个/mq复杂/a的/ude1算法/gi或者/c数据结构/gi，/w只是/d能/v把/pba一棵树/nz拆成/nz链/ng来/vf处理/vn而已/y，/w换/v一种/nz说法/n，/w树链剖分/gi只是/dxxx/nz数据结构/gi//nz算法/gi在/p树上/s的/ude1推广/gi，/w或者说/c，/w树链剖分/gi只是/d把/pba树/gihash/gi到/v了/ule几/d段/q连续/gi的/ude1区间/gi上/f。/w比如说/vl下面/f这/rzv道/qv题/n，/w就是/v将/d树/gi分为/v重链/nz和/cc轻链/gb然后/c映射/gi到/v线段/n树上/s，/w然后/c再/d在线/vn段/q树上/s进行/vn查询/gi和/cc修改/gi等/udeng操作/gi。/w所以/c树链剖分/gi的/ude1重点/n有/vyou两/nz个/q，/w一/nz是/vshi正确/a的/ude1将/d树/gi分解成/n几/d段/q并/cc映射/gi到/v线/n段树/nz上去/vf，/w二是/nz在线/vn段树/nz中/f进行/vn查询/gi和/cc修改/gi操作/gi时/qt要/v注意/v借助/v分解/gi后/f树/gi的/ude1性质/n。/w /x下面/f这份/r代码/gi是/vshi针对/gi查询/gi修改/gi树上/s的/ude1边/k的/ude1，/w可以/v作为/p模板/gi使用/gi。/w /x一篇/nz讲/v的/ude1非常/d好/a的/ude1博客/gi：/w代码/gi如下/vi：/w