#Wifi/nz设备/gi接入/vn流程/gi
这/rzv是/vshi硬件平台/l下文/n档/ng结构图/gi，/w详细/gi了解/v戳/v这里/rzs。/w什么/ry意思/n呢/y？/w要/v想/v实现/gi控制/vnwifi/gi设备/gi，/w基本流程/gi是/vshi：/w /x咱/rr自己/rr的/ude1wifi/gi设备----------自己/nz的/ude1服务器/gi（/w指/v图/gi中的/v厂商/gi服务器/gi）/w-------微信/nz公众平台/gi服务器-----微信/nz手机/gi。/w就是说/c咱想/nz发一个/nz命令/gi控制/vn设备/gi，/w首先/d用户/gi进入/v公众号/gi发/v命令-----微信/nz公众/gi平台------自己/nz的/ude1服务器/gi接受/gi到/v命令----告诉/nz设备/gi，/w设备/gi完成/v，/w完成/v后/f告诉/v自己/rr的/ude1服务器-----自己/nz的/ude1服务器-----微信/nz公众/gi平台-----微信/nz。/w反过来/d亦然/nz。/w /x注/v：/wwifi/gi设备/gi通信/gi和/cc蓝牙/gi是/vshi不/d一样/uyy的/ude1，/wwifi/gi里/f设备/gi和/cc微信/gi不/d直接/ad发生/v关系/gi，/w他们/rr是/vshi通过/p咱们/rr自己/rr的/ude1服务器/gi来/vf交互/gi，/wwifi/gi设备/gi告诉/v咱们/rr自己/rr的/ude1服务器/gi要/v做/v什么/ry，/w咱们/rr自己/rr的/ude1服务器/gi再/d告诉/v公众平台/gi，/w公众平台/gi再/d到/v微信/gi。/w同理/v，/w微信/gi想/v告诉/v设备/gi，/w先/d告诉/v公众平台/gi，/w然后/c平台/gi告诉/v咱们/rr自己/rr的/ude1服务器/gi，/w咱们/rr自己/rr的/ude1服务器/gi告诉/v设备/gi。/w wifi/nz设备/gi和/cc咱们/rr自己/rr的/ude1服务器之间/n的/ude1通信/gi是/vshi需要/v咱们/rr自己/rr定义/gi的/ude1，/w就/d和/cc普通/a的/ude1网络通信/gi差不多/al。/w /x咱们/rr自己/rr的/ude1服务器/gi和/cc微信/gi公众号/gi通信/gi是/vshi要/v遵守/v微信/gi硬件平台/l下/f文档/gi里/f的/ude1通信协议/gi的/ude1。/w设备/gi连接/gi也/d是/vshi这个/rz道理/n，/w首先/dwifi/gi设备/gi的/ude1状态/gi是/vshi告诉/v咱们/rr自己/rr的/ude1服务器/gi，/w只有/c咱们/rr自己/rr的/ude1服务器/gi是/vshi知道/vwifi/gi设备/gi状态/gi的/ude1。/w /x微信/gi要/v想/v知道/vwifi/gi设备/gi的/ude1状态/gi，/w是否/v在线/vn？/w是/vshi通过/p微信/gi公众号/gi，/w公众号/gi再/d去/vf询问/v咱们/rr自己/rr的/ude1服务器/gi，/w服务器返回/n设备/gi的/ude1状态/gi信息/gi，/w告诉/v公众号/gi，/w公众号/gi告诉/v微信/gi。/w流程/gi /x如下/vi：/w /x设备/gi状态----咱们/nz自己/rr的/ude1服务器/gi /x微信/gi想/v知道/v设备/gi状态--------微信/nz公众/gi号------咱们/nz自己/rr的/ude1服务器/gi设备/gi状态/gi发生变化/l：/w设备/gi状态/gi变化-------告诉/nz咱们/rr自己/rr的/ude1服务器-----告诉/nz公众平台/gi设备/gi状态/gi变了---告诉/nz微信/gi，/w微信/gi做出/v反应/vn。/w文档/gi结构图/gi：/w（/w）/wwifi/gi设备/gi根本/a不/d与/cc公共/b平台/gi直接/ad发生/v关系/gi，/w都/d是/vshi通过/p咱们/rr自己/rr的/ude1服务器/gi连接起来/l得/ude3。/w