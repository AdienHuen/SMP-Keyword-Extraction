#Linux/gi高级/a文件系统/gi管理/gi之/uzhi基本/aRAID/nz的/ude1工作原理/gi
 raid/nz0/nz的/ude1工作原理/gi raid/nz0/nz又/d称为/vstrip/nz（/w条带/n化/v）/w或/cstripping/nz。/w它/rr代表/nnt了/ule所有/braid/gi级别/n中/f最高/a的/ude1存储/gi性能/gi。/wraid/gi0/nz是/vshi将/d连续/gi的/ude1数据/gi分散/a到/v多/a个/q磁盘/gi上/f存取/gi，/w这/rzv在/p多/a个/q磁盘/gi上/f并行执行/gi，/w每个/r磁盘/gi执行/v自己/rr那/rzv部分/n数据/gi，/w这样/rzv可以/v充分利用/n总线/n带宽/n，/w显著/ad提高/v磁盘/gi整体/n存取/gi性能/gi。/w raid/nz0/nz的/ude1缺点/gi是/vshi没有/v提供数据/n冗余/n，/w因此/c一旦/d数据/gi损坏/v将/d无法/v恢复/gi。/w /x只要/c有/vyou两/nz个/q硬盘/gi就/d可以/v组成/giraid/gi0。/nz会/v将/d数据/gi依照/p顺序/gi分别/d平均/a地/ude2写入/giraid/gi0/nz的/ude1每个/r硬盘/gi中/f。/wraid/gi0/nz磁盘阵列/gi的/ude1总/b容量/gi就是/v每个/r硬盘容量/nz的/ude1和/cc。/w /x但是/craid/gi0/nz中/f，/w只要/c有/vyou一个/mq硬盘/gi损坏/v了/ule，/w有可能/nz整个/b数据/gi就/d损坏/v了/ule，/w也/d可能/v整个/b磁盘阵列/gi的/ude1数据/gi就/d无法/v读取/gi了/ule，/w因为/c每个/r数据/gi都会/n分散/a一/nz部分/n到/v损坏/v的/ude1硬盘/gi上/f，/w所以/c一个/mq数据/gi整体/n部分/n损坏/v了/ule整体/n也/d是/vshiover/nz了/ule。/w raid/nz1/nz的/ude1工作原理/gi raid/nz1/nz提供/v了/ule数据/gi的/ude1镜像/gi，/w也/d就是/v百分之百/bl的/ude1数据/gi冗余/n，/w每个/r硬盘/gi称为/v一个/mq镜像/gi成员/nnt。/wraid/gi1/nz也/d常/d被/pbei成为/v磁盘镜像/gi。/wraid/gi1/nz对/p操作系统/gi来说/uls是/vshi由/p多/a个/q硬盘/gi组成/gi的/ude1逻辑/n卷/q，/w而/cc对于/p应用程序/nz来说/uls只是/d一个/mq单一/gi的/ude1卷/q，/w即/v当作/v一个/mq硬盘/gi使用/gi。/w系统/gi向/praid/gi1/nz的/ude1逻辑/n卷/q中/f写入/gi数据/gi时/qt，/w会/v将/d数据/gi分别/d写到/v这个/rz卷/q中的/v所有/b成员/nnt上/f，/w也/d就是/v每个/r硬盘/gi会/v写/v一份儿/nz，/w以/p提供数据/n冗余/n，/w所以/craid/gi1/nz所需/nz的/ude1空间/n是/vshiraid/gi0/nz的/ude1n/nz倍/q，/w即/vraid/gi1/nz实际/n只能/v使用/gi一个/mq硬盘/gi的/ude1空间/n容量/gi大小/n，/w其它/rz硬盘/gi作为/p备份/gi。/wraid/gi1/nz只能/v提高/v读取/gi的/ude1效率/gi，/w因为/c读取/gi时/qt一个/mq数据/gi会/v从/p多/a个/q硬盘/gi分别/d读取/gi一/nz部分/n。/w raid/nz1/nz磁盘阵列/gi的/ude1总/b容量/gi是/vshi单个/b磁盘/gi的/ude1容量/gi（/w假设/gi每个/r磁盘空间/nz大小/n相同/a）/w。/w raid/nz1/nz对于/p数据/gi是/vshi安全/gi的/ude1，/w即使/c一个/mq硬盘/gi换/v了/ule也/d没有/v关系/gi，/w因为/c数据/gi完整/a地/ude2存放在/v了/ule每个/r硬盘/gi上/f。/w且/c读取/gi的/ude1时候/n是从/v多/a个/q硬盘/gi并行/vn读取/gi一个/mq数据/gi的/ude1，/w即/v每个/r硬盘/gi读取/gi一个/mq数据/gi的/ude1一/nz部分/n。/w但是/c写/v操作/gi和/ccraid/gi0/nz比/p就/d大大降低/n了/ule，/w因为/c这/rzv相当于/v一个/mq数据/gi完整/a地/ude2写到/v一个/mq硬盘/gi而/cc不是/c分开/vi并行/vn写到/v多/a个/q硬盘/gi。/w /x所以/c对于/p写/v操作/gi不大/d而/cc读取/gi比较/gi频繁/a且/c数据安全/gi型/k要求/n很高/d的/ude1情况/n就/d可以/v使用/giradi/nz1/nz级别/n。/w raid/nz5/nz的/ude1工作原理/gi raid/nz5/nz是/vshi一种/nz存储/gi性能/gi，/w数据安全/gi和/cc存储/gi成本/n折中/vn的/ude1存放/v方案/gi。/wraid/gi5/nz至少/d需要/v3/nz个/q硬盘/gi。/w raid/nz5/nz提供/v的/ude1数据/gi冗余/n并/cc不是/c真正/d的/ude1数据/gi冗余/n（/w数据/gi镜像/gi）/w，/w而是/c使用/gi数据/gi校验码/nz。/wraid/gi5/nz的/ude1数据/gi校验码/nz是/vshi分布/vi在/p磁盘阵列/gi中的/v不同/a硬盘/gi上/f的/ude1，/w且/c与/cc真正/d的/ude1数据/gi放在/v不同/a的/ude1硬盘/gi上/f。/w raid/nz5/nz是/vshi比较/gi流行/v的/ude1一种/nzraid/gi方式/n，/w它/rr在/p提高/v系统/gi效率/gi的/ude1同时/c使/v相同/a的/ude1数据/gi对/p磁盘空间/nz的/ude1需求/gi比/praid/gi1/nz小/a，/w因为/c数据/gi校验码/nz所/usuo占/v的/ude1磁盘克/nz磁盘空间/nz比/p真正/d的/ude1数据/gi少/a。/w raid/nz5/nz的/ude1原理/gi是/vshi，/w假设/gi该/rzraid/gi5/nz有/vyou3/nz个/q硬盘/gi，/w假设/gi数据/gi是/vshiabcdef/nz，/w系统/gi会/v将/da/nz首先/d写到/vraid/gi5/nz的/ude1第一个/gi硬盘/gi上/f，/w将/db/nz写到/v第二个/nz硬盘/gi上/f，/w再/d将/da/nz和/ccb/nz进行/vn数据/gi校验/v算法/gi的/ude1结果/n（/w数据/gi校验码/nz）/w存入第/nz3/nz个/q硬盘/gi上/f。/w这样/rzv如果/c磁盘阵列/gi的/ude1任何/rz一个/mq硬盘/gi上/f的/ude1数据/gi损坏/v时/qt，/w例如/v数据/gib/nz损坏/v了/ule（/w或/cb/nz所在/n硬盘/gi损坏/v了/ule）/w，/w就/d可以/v利用/v数据/gia/nz和/cc数据/gi校验码/nz使用/gi数据/gi校验/v算法/gi重新/d生成/v数据/gib/nz。/w接下来/vl将/dc/nz写到/v第/mq3/nz个/q硬盘/gi中/f，/w将/dd/nz写到/v第一个/gi硬盘/gi中/f，/w然后/c将/dc/nz和/ccd/nz的/ude1进行/vn数据/gi校验/v算法/gi运算/gi结果/n存放/v到/v第二个/nz硬盘/gi上/f。/w这样/rzv每/rz写入/gi两/nz个/q数据/gi块/q（/wstrips/nz）/w就/d会/v将/d两/nz个/q数据块/nz的/ude1数据/gi校验码/nz存放/v到/v下一个/nz硬盘/gi中/f。/w最后/f将/d所有/b的/ude1数据/gi和/cc数据/gi校验码/nz都/d存放/v到/v了/ule磁盘阵列/gi的/ude1每个/r磁盘/gi中/f。/w     raid/nz5/nz磁盘阵列/gi的/ude1总/b容量/gi是/vshi所有/b磁盘/gi容量/gi的/ude1和/cc再/d减去/v一个/mq磁盘/gi的/ude1容量/gi（/w假设/gi每个/r磁盘/gi容量/gi相同/a）/w。/w    raid/nz5/nz比/praid/gi0/nz安全/gi，/w因为/craid/gi5/nz允许/v有一个/nz磁盘/gi上/f的/ude1某个/rz数据/gi甚至/d磁盘/gi本身/rz损坏/v。/w这种/r情况/n可以/v使用/gi数据/gi校验码/nz恢复/gi丢失/v的/ude1数据/gi，/w但是/c同时/c损坏/v两/nz个/q磁盘/gi损坏/v就/d无法/v恢复/gi了/ule。/wraid/gi5/nz理论上/nz比/praid/gi1/nz块/q，/w因为/c只要/c多/a写/v一份儿/nz数据/gi校验码/nz，/w但是/c数据/gi校验码/nz的/ude1运算/gi是/vshi比较慢/l的/ude1，/w所以/c实际/n也/d不一定/nz比/praid/gi1/nz快/a多少/ry。/w如果/c系统对/l写入/gi速度/n要求/n比较/gi高/a，/w最好/d不要/d使用/giraid/gi5/nz，/w可以/v使用/giraid/gi0/nz结合/v实时/n备份/gi工具/gi将/d数据备份/nz到/v其它/rzraid/gi0/nz的/ude1磁盘阵列/gi中/f。/w