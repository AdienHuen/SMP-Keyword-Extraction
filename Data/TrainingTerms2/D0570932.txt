#LoadRunner/nz如何/ryv处理/vnAJAX/nz异步请求/gi
最近/t在/p网上/s经常/d有人/r问/v“/wloadrunner/gi脚本/gi回放/v成功/a，/w但/c数据/gi没有/v写入/gi数据库/gi，/w这/rzv是/vshi什么/ry原因/n”/w，/w记得/v以前/f的/ude1同事/n也/d遇到/v过/uguo相同/a的/ude1问题/gi，/w再次/d将/d解决方法/gi贴出来/vn，/w希望/v能/v帮助/v大家/rr。/w相信/v大家/rr在/p做/v测试/gi的/ude1过程/gi中/f，/w特别/d是/vshib/nz//nzs/nz的/ude1应用程序/nz，/w或多或少/d都会/n遇到/v研发/gi用/pajax/gi或者/cactivex/nz实现/gi的/ude1功能/gi，/w而/cc这些/rz功能/gi通常/d会/v包含/v一/nz些/q客户端/gi函数/gi(/nz一般/ad为/pjavascript/gi)/nz，/w我们/rr知道/v，/wloadrunner/gi主要/b是/vshi处理/vn客户端/gi与/cc服务器之间/n的/ude1交互/gi，/w因此/c针对/gi于/pjavascript/gi是/vshi无能为力/vl的/ude1，/w那么/c，/w针对/gi于/p这类/r情况/n我们/rr需要/v如何/ryv处理/vn呢/y？/w其实/d大家/rr可以/v仔细/ad想想/vloadrunner/gi的/ude1原理/gi，/wloadrunner/gi主要/b是/vshi基于/p协议/gi来/vf进行/vn性能测试/gi的/ude1，/w不管/cajax/gi或者/cactivex/nz在/p客户端/gi做/v了/ule多少/ry事情/n，/w只要/c它/rr是/vshi通过/phttp/gi协议/gi来/vf发送/gi请求/gi的/ude1，/w那么/c我们/rr就/d只/d需要/v模拟/gi这个/rz请求/gi就/d可以/v完成/v测试/gi了/ule。/w以下/f是/vshi之前/f同事/n遇到/v的/ude1该类/r问题/gi：/w测试/gi融资/vn融券/nz业务/gi时/qt，/w脚本/gi能/v正常/a回放/v成功/a，/w但/c提交/gi的/ude1数据/gi未/d写入/gi后台/gi数据库/gi，/w通过/p与/cc研发/gi沟通/gi及/cc抓包/gi工具/gi，/w了解到/v研发/gi在/p实现/gi融资/vn融券/nz品种/n的/ude1交易/gi业务/gi时/qt，/w采用/v了/uleajax/gi技术/gi进行/vn提交/gi数据/gi，/w下图/n为/p抓包/gi工具/gi的/ude1截图/vn：/w /x因此/c为/p解决/v该/rz问题/gi，/w需要/v在/p提交/gi数据/gi的/ude1请求/gi前/f添加/gi相关/vn的/ude1包头/ns方法/gi，/w如下/vi：/w /x再次/d回放/v，/w提交/gi的/ude1数据/gi能/v正常/a写入/gi数据库/gi了/ule，/w至此/d问题/gi解决/v。/w