#mongoDB/gi―/w―/w前序/n(/nzNoSQL/gi)/nz
mongodb/gi是非/n关系型数据库/gi的/ude1一种/nz。/w在/p进入/vmongodb/gi的/ude1学习/gi之前/f，/w我们/rr先/d来/vf了解/v一下/m非关系型数据库/gi(/nznosql/gi)/nz。/w /x一/nz、/wnosql/gi的/ude1产生/v /x随着/pweb/gi2.0/nz的/ude1兴起/v，/w特别/d是/vshi超大规模/b和/cc高并发/gi的/ude1网站/gi对/p数据库/gi提出/v了/ule进一步/d的/ude1需求/gi(/nz大数据量/gi引发/v的/ude1一系列/b问题/gi)/nz，/w而/cc关系型数据库/gi面对/v这些/rz新的/a需求/gi，/w显得/v有些/rz力不从心/vl，/w例如/v：/w /x1./nz /x面对/v数据库/gi高并发/gi读写/gi的/ude1需求/gi，/w关系数据库/gi应付/v上/f万/nz次/qvsql/gi查询/gi还/d勉强/ad顶/v的/ude1住/vi，/w但是/c应付/v上/f万/nz次/qvsql/gi写/v数据/gi请求/gi，/w硬盘/giio/gi就/d无法/v承受/v了/ule。/w因为/c关系型数据库/gi各个/rz数据/gi之间/f存在/v关联/vn，/w为了/p进行/vnjoin/nz处理/vn，/w不得不/d把/pba数据存储/gi在/p同一个/b服务器/gi内/f，/w这样/rzv不/d利用/v数据/gi分散/a，/w不具备/v写/v扩展性/n。/w /x2./nz /x面对/v海量数据/gi的/ude1高效率/nz存储/gi和/cc访问/gi的/ude1需求/gi，/w在/p一张/nz上/f万条/q甚至/d上/f亿条/nz记录/gi的/ude1表里/n进行/vnsql/gi查询/gi，/w效率/gi是/vshi极其/d低下/a的/ude1。/w关系型数据库/gi是/vshi使用/gi专门/d的/ude1sql/gi语言/gi进行/vn数据读取/gi的/ude1，/w它/rr需要/v对/psql/gi语言/gi进行/vn解析/gi，/w同时/c还有/v对/p表/n的/ude1锁定/v和/cc解析/gi这样/rzv的/ude1额外/b开销/n。/w /x3./nz /x面对/v数据库/gi的/ude1高/a可扩展性/gi和/cc高可用性/n的/ude1需求/gi，/w因为/c关系型数据库/gi的/ude1存储/gi是/vshi建立/gi在/p关系/gi模型/gi基础上/nz的/ude1，/w当/p关系/gi模型/gi发生/v变动/vn时/qt，/w对于/p已经/d存储/gi了/ule大量/m数据/gi的/ude1关系型数据库/gi来说/uls，/w是/vshi非常/d麻烦/an的/ude1事情/n。/w /x在/p新/a需求/gi面前/f，/w关系数据库/gi遇到/v了/ule难以克服/nz的/ude1障碍/gi，/w而/cc与此同时/c，/wweb/gi2.0/nz对/p关系数据库/gi的/ude1很/d多/a主要/b特性/gi却/d往往/d要求/n不/d那么/c高/a，/w例如/v：/w /x1./nz /x对/p数据库/gi事务/gi一致性/gi的/ude1需求/gi，/w很/d多/aweb/gi实时系统/gi并不/d要求/n严/a的/ude1数据库/gi事务/gi，/w对读/v一致性/gi的/ude1要求/n很低/d，/w有些/rz场合/n对/p写/v一致性/gi要求/n也/d不/d高/a。/w /x2./nz /x对/p数据库/gi的/ude1写/v实时性/nz和/cc读/v实时性/nz需求/gi，/w很/d多/a网站/gi并不需要/l插入/gi数据/gi后/f立即/d显示/gi。/w /x3./nz /x对/p复杂/a的/ude1sql/gi查询/gi，/w特别/d是/vshi多/a表/n关联/vn查询/gi的/ude1需求/gi，/w任何/rz大数据量/gi的/ude1web系统/gi，/w都/d非常/d忌讳/v多/a个/q大/a表/n的/ude1关联/vn查询/gi，/w以及/cc复杂/asql/gi报表/gi查询/gi，/w特别/d是/vshisns/nz类型/gi的/ude1网站/gi，/w从/p需求/gi以及/cc产品设计/nz角度/n，/w就/d避免/v了/ule这种/r情况/n的/ude1产生/v。/w往往/d更多/ad的/ude1只是/d单表/nz的/ude1主键/nz查询/gi，/w以及/cc单表/nz的/ude1简单/a条件/n分页/nz查询/gi，/wsql/gi的/ude1功能/gi被/pbei极大/a的/ude1弱化/v了/ule。/w /x关系数据库/gi在/p这些/rz越来越/d多/a的/ude1应用场景/gi下/f显得/v不/d那么/c合适/a了/ule，/w为了/p解决/v这些/rz问题/gi，/w非关系型数据库/gi应运而生/vl。/w /x二/nz、/wnosql/gi优点/gi /x1./nz /x大数据量/gi，/w高性能/gi nosql/nz数据库/gi都/d具有/v非常/d高/a的/ude1读写/gi性能/gi，/w尤其/d在/p大数据量/gi下/f，/w同样/d表现/v优秀/gi。/w这/rzv得益于/v它/rr的/ude1无关系性/nz，/w数据库/gi结构/gi简单/a，/w这样/rzv，/w可以/v利用/v通过/p增加/v主/ag服务器/gi来/vf实现/gi数据库/gi的/ude1读/v扩展性/n。/w而/cc上面/f也/d说/v过/uguo了/ule，/w面对/v大数据量/gi的/ude1写入/gi问题/gi，/w关系型数据库/gi还是/c存在/v压力/n的/ude1。/w /x2./nz /x灵活/a的/ude1数据模型/gg /x在/p关系型数据库/gi中/f，/w每/rz一/nz张/q表/n就是/v一个/mq关系/gi模式/gi的/ude1映射/gi，/w当/p关系/gi模型/gi发生/v改变/v时/qt，/w哪怕/c是/vshi很小/a的/ude1变更/gi，/w都/d是/vshi很/d麻烦/an的/ude1，/w甚至/d还/d需要/v停机/vi或者/c降低/v服务/gi级别/n。/w /x而/ccnosql/gi的/ude1存储/gi是/vshi模式自由/gi的/ude1，/w无需/v事先/d为/p要/v存储/gi的/ude1数据/gi建立/gi字段/gi，/w随时/d可以/v存储/gi自定义/nz的/ude1数据式/nz，/w数据/gi之间/f可以/v没有/v任何/rz式/k限制/vn。/w /x3./nz /x易/ad扩展/gi /x由于/pnosql数据库/gi所/usuo存储/gi数据/gi之间/f的/ude1无关系性/nz，/w使/v数据库/gi易于/vd扩展/gi，/w而且/c，/w在/p架构/gi的/ude1层面/n上/f也/d带来/v了/ule可扩展/nz的/ude1能力/gi。/w /x三/nz、/wnosql/gi与/cc关系型数据库/gi设计/gi理念/gi的/ude1比较/gi关系型数据库/gi是/vshi建立/gi在/p关系/gi模型/gi基础上/nz的/ude1，/w借助于/v集合/gi代数/n等/udeng数学/gi概念/gi和/cc方法/gi来/vf处理/vn数据库/gi中的/v数据/gi。/w其中/rz每/rz一/nz张/q表/n就是/v一个/mq关系/gi模式/gi的/ude1映射/gi，/w每条/d记录/gi字段/gi的/ude1组/n成都/ns一样/uyy，/w即使/c不是/c每条/d记录/gi都/d需要/v所有/b的/ude1字段/gi，/w但/c数据库/gi也/d会/v为/p每条/d记录/gi分配/gi所有/b的/ude1字段/gi。/w这样/rzv的/ude1结构/gi便于/v表/n与/cc表/n之间/f的/ude1关联/vn。/w nosql/nz数据库/gi是/vshi模式自由/gi的/ude1，/w存储/gi的/ude1数据/gi不/d局限于/v固定/a的/ude1结构/gi，/w数据/gi之间/f可以/v没有/v任何/rz关系/gi。/w这样/rzv的/ude1结构/gi显得/v更加/d灵活/a，/w也/d减少/v了/ule一些/m时间/gi和/cc空间/n的/ude1开销/n。/w /x四/nz、/w总结/gi nosql/nz数据库/gi的/ude1出现/v，/w弥补/v了/ule关系型数据库/gi在/p某些/rz方面/n的/ude1不足/an，/w但/c从/p功能/gi上/f讲/v，/wnosql/gi的/ude1几乎/d所有/b功能/gi，/w在/p关系数据库/gi上都/ns能/v满足/v，/w所以/c，/w选择/ginosql/gi的/ude1原因/n并不/d在/p功能/gi上/f，/w而是/c二者/rzv都/d有/vyou各自/rr的/ude1特点/n和/cc应用场景/gi，/w两者/rzv的/ude1紧密结合/nz将/d会/v给/pweb/gi2.0/nz的/ude1数据库/gi发展/gi带来/v新的/a思路/gi，/w让/v关系型数据库/gi关注/v在/p关系/gi上/f，/w非关系/gi型/k数据/gi关注/v在/p存储/gi上/f。/w