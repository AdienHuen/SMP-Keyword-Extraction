#虚拟化项目/gi之/uzhi运维/gi实践/gi7/nz
磁盘缓存/gi方式/n，/w常见/a的/ude1有/vyou四种/nz，/wwriteback/nz,/nzwritethrough/nz,/nznone/nz,/nzunsafe/nz。/w实际上/d是/vshi在/p虚拟化层/nz和/cc宿主机/n的/ude1文件系统/gi这/rzv一/nz /x层/gi，/w开/v不开/vcache/gi的/ude1各种/rz组合/gi，/w现在/tcentos/gi系列/n上/f默认/v是/vshiwriteback/nz模式/gi，/w这种/r模式/gi启用/gi了/ule宿主机/n文件系统/gi的/ude1缓存/gi，/w性能/gi会/v好/a很/d多/a。/w我们/rr在/p生产/gi环境/n比较/gi保守/a，/w一般/ad在/p单机虚拟化/gi的/ude1时候/n，/w使用/giwritethrough/nz方式/n，/w以/p数据安全/gi为/p第一位/nz，/w在/p集群虚拟化/gi，/w就是/v需要/v虚拟机/gi迁移/gi的/ude1场景/gi，/w使用/ginone /nz方式/n，/w因为/c虚拟/gi机要/b迁移/gi，/w必须/d使用/ginone/nz方式/n下面/f介绍/gi下/f虚拟化/gi的/ude1存储/gi方式/n：/w单机虚拟化/gi单机虚拟化/gi的/ude1形式/gi是/vshi一/nz台宿/nz主机/gi虚拟/gi几/d台/q虚拟机/gi，/w虚拟机/gi的/ude1计算/gi、/w存储/gi、/w网络/gi都/d在/p这/rzv台/q宿主机/n内/f，/w是/vshi一种/nz非常灵活/i的/ude1虚拟化/gi方式/n，/w他/rr不/d对/p原有/v的/ude1环境/n做/v任何/rz改变/v，/w一/nz台宿/nz主机/gi，/w放到/v机房/gi，/w虚拟化/gi就/d搞/v起来/vf了/ule。/w虚拟化集群/gi这种/r虚拟化/gi方式/n由/p商业/n存储/gi和/cc若/c干/v计算/gi节点/gi组成/gi，/w虚拟机/gi镜像/gi在/p商业/n存储/gi上/f，/w虚拟机/gi使用/gi计算/gi节点/gi的/ude1计算/gi、/w内存/gi、/w网络/gi资源/gi。/w因为/c有/vyou了/ule共享/gi存储/gi，/w就/d可以/v做/v虚拟机/gi的/ude1在线/vn迁移/gi，/w配置/gi虚拟机/gi搞/v可用/v，/w配置/gi计算/gi资源/gi的/ude1动态平衡/n。/w