#prim/gi+/nzBFS/nz
大致/d题意/n：/w在/p一个/mqy/nz行/ng x/nz列/v的/ude1迷宫/gi中/f，/w有/vyou可/v行走/vi的/ude1通路/n空格/n /x，/w不可/v行走/vi的/ude1墙/n#/nz，/w还有/v两/nz种/q英文字母/nza/nz和/ccs/nz，/w现在/t从/ps/nz出发/vi，/w要求/n用/p最/d短/a的/ude1路径/gil/nz连接/gi所有/b字母/gi，/w输出/gi这/rzv条/q路径/gil/nz的/ude1总长度/n。/w一格/nz的/ude1长度/gi为/p1/nz，/w而且/c移动/vn的/ude1方法/gi只有/c上/f、/w下/f、/w左/f、/w右/f，/w所以/c在/p无/v任何/rz墙/n的/ude1情况下/nz（/w但/c墙/n#/nz是/vshi必须/d考虑/v的/ude1，/w这里/rzs只是/d为了/p说明/v）/w任意/d两/nz个/q字母/gi之间/f的/ude1距离/gi就是/v直接/ad把/pba /x横坐标/n之/uzhi差/a /x加上/v /x纵坐标/n之/uzhi差/a注意/v的/ude1是/vshi，/w可行/a的/ude1路/n为/p /x字母/gi /x和/cc /x空格/n /x不/d可行/a的/ude1路/n为/p /x#/nz /x和/cc /x矩阵/gi范围/n之外/f根据/p题意/n的/ude1分离/vi规则/gi，/w重复/gi走过/gi的/ude1路/n不再/d计算/gi因此/c当/p使用/giprim/gi算法/gi求/vl/nz的/ude1长度/gi时/qt，/w根据/p算法/gi的/ude1特征/gi恰好/d不用/d考虑/v这个/rz问题/gi（/w源点/gp合并/gi很好/ad地/ude2解决/v了/ule这个/rz问题/gi）/w，/wl/nz就是/v最少/d生成树/nz的/ude1总权值/nzw/nz由于/p使用/giprim/gi算法/gi求/v在/p最小生成树/gi，/w因此/c无论/c哪个/ry点/gi做/v起点/gi都/d是/vshi一样/uyy的/ude1，/w（/w通常/d选取/gi第一个/gi点/gi）/w，/w因此/c起点/gi不是/cs/nz也/d没有/v关系/gi所以/c所有/b的/ude1a/nz和/ccs/nz都/d可以/v一视同仁/vl，/w看成/v一模一样/al的/ude1顶点/gi就/d可以/v了/ule最后/f要/v注意/v的/ude1就是/v /x字符/gi的/ude1输入/vcin/nz不/d读入/gi空/ng字符/gi（/w包括/v /x空格/n，/w换行/gi等/udeng）/wgets/nz读入/gi空格/n，/w但/c不/d读入/gi换/v行符/nz）/w剩下/v的/ude1问题/gi关键/n就是/v处理/vn任意/d两/nz字母/gi间/f的/ude1最短距离/gi，/w由于/p存在/v了/ule墙/n#/nz /x，/w这个/rz距离/gi不/d可能/v单纯/a地/ude2利用/v坐标/gi加减/v去/vf计算/gi，/w必须/d额外/b考虑/v，/w推荐/gi用/pbfs/gi（/w广搜/gi、/w宽/a搜/v）/w，/w这/rzv是/vshi本题/n的/ude1唯一/b难点/gi，/w因为/cprim/gi根本/a直接/ad套用/v就/d可以/v了/ule求/v任意/d两/nz字母/gi间/f的/ude1最短距离/gi时/qt不能/v直接/ad用/pbfs/gi求/v，/w1/nz、/w必须/d先/d把/pba矩阵/gi中/f每一个/nz允许/v通行/vi的/ude1格/b看做/v一个/mq结点/gm（/w就是/v在/p矩阵/gi内/f所有/b非/b#/nz的/ude1格/b都/d作为/p图/gim/nz的/ude1一个/mq顶点/gi）/w，/w对/p每一个/nz结点/gmi/nz，/w分别/d用/pbfs/gi求出/v它/rr到/v其他/rzv所有/b结点/gm的/ude1权值/nz（/w包括/v其/rz本身/rz，/w为/p0/nz）/w，/w构造/n结点/gm图/gim/nz；/w2/nz、/w然后/c再加/nz一个/mq判断/gi条件/n，/w从/p图/gim/nz中/f抽取/v以/p字母/gi为/p顶点/gi的/ude1图/gi，/w进而/c构造/n字母/gi图/gin/nz这个/rz判定/gi条件/n就是/v当结/nz点/gi图/gim/nz中的/v某/rz点/gij/nz为/p字母/gi时/qt，/w把/pbai/nz到/vj/nz的/ude1权值/nz再/d复制/gi（/w不是/c抽离/nz）/w出来/vf，/w记录/gi到/v字母/gi图/gin/nz的/ude1邻接矩阵/gm中/f3/nz、/w剩下/v的/ude1就是/v对/p字母/gi图/gin/nz求/v最小生成树/gi了/ulesample outputview code/nz