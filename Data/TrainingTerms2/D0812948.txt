#「/nzRedis/gi学习/gi笔记」/nz事务/gi和/cc错误处理/i
1./nz事务/gi执行/v单元/n2./nz错误处理/ia/nz./nz语法错误/nzb/nz./nz执行/v时/qt出错/giredis /nz的/ude1事务/gi没有/v关系数据库/gi事务/gi提供/v的/ude1回滚/gi（/wrollback/nz）/w功能/gi。/w为此/bl开发者/gi必须/d在/p事务/gi执行/v出错/gi后/f自己/rr收拾/v剩下/v的/ude1摊子/n（/w将/d数据库/gi复原/vi会/v事务/gi执行/v前/f的/ude1状态/gi）/w3./nzwatchwatch /nz命令/gi可以/v监控/gi一个/mq或/c多/a个/q键/n，/w一旦/d其中/rz有/vyou一个键/nz被/pbei修改/gi（/w或/c删除/gi）/w，/w之后/f的/ude1事务/gi就/d不会/v执行/v执行/vexec/nz命令/gi后会/n取消/v对/p所有/b键/n的/ude1监控/gi，/w如果/c不想/v执行/v事务/gi中的/v命令/gi，/w也/d可以/v使用/giunwatch/nz命令/gi来/vf取消/v监控/gi。/w比如/v，/w我们/rr要/v实现/gihsetxx/nz函数/gi，/w作用/gi与/cchsetnx/nz命令/gi类/gi，/w只不过/d仅/d当/p字段/gi存在/v时/qt才/d赋/ng。/w为了/p避免/v竞态/nz条件/n，/w我们/rr使用/gi事务/gi来/vf完成/v这/rzv一/nz功能/gi：/w