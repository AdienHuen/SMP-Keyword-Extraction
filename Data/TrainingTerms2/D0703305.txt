#tcp/gi服务器/gi和/cc防火墙/gi是/vshi如何/ryv识别/gi已/d连接套/nz接字/v的/ude1？/w？/w？/w
下面/f是/vshi一个/mq学长/n的/ude1困惑/an：/w于是/cc，/w一个/mq困惑/an了/ule我/rr很久/d的/ude1问题/gi就/d产生/v了/ule。/w如果/c一个/mqsocket/gi创建/gi后/f并/cc与/cc80端口/gi绑定/gi后/f，/w是否/v就/d意味着/v该/rz socketsocket/nz占用/v了/ule80端口/gi呢/y？/w /x如果/c是/vshi这样/rzv的/ude1，/w那么/c当/p其/rzaccept/nz一个/mq请求/gi后/f，/w生成/v的/ude1新的/asocket/gi到底/d使用/gi的/ude1是/vshi什么/ry端口/gi呢/y？/w（/w我/rr一直/d以为/v系统/gi会/v默认/v给/p其/rz分配/gi一个/mq空闲/gi的/ude1端口号/n）/w？/w如果/c是/vshi一个/mq空闲/gi端口/gi，/w那/rzv一定/b不是/c80端口/gi了/ule，/w于是/cc以后/f的/ude1tcp/gi数据包/gi的/ude1目标/gi端口/gi就/d不是/c80/nz了---防火墙/nz一定会/nz阻止/v其/rz通过/p的/ude1！/w实际上/d，/w我们/rr看到/v，/w防火墙/gi并/cc没有/v阻止/v这样/rzv的/ude1连接/gi，/w而且/c这/rzv是/vshi最/d常见/a的/ude1连接/gi请求/gi和/cc处理方式/n。/w我/rr不解/v的/ude1就是/v，/w为什么/ryv防火墙/gi没有/v阻止/v这样/rzv的/ude1连接/gi？/w？/w？/w它/rr是/vshi如何/ryv判断/gi那/rzv条/q连接/gi是因为/cconnect/nz80端口/gi生成/v的/ude1？/w？/w？/w是不是/vtcp/gi数据包/gi里/f有/vyou什么/ry特别/d的/ude1标志/n？/w？/w？/w或者说/c，/w防火墙/gi记住/v了/ule什么/ry东西/n？/w？/w？/w