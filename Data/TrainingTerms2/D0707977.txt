#感知/gi哈希算法/gi
感知/gi算法/gi（/wpreceptatual hash algorithm/nz）/w /x，/w它/rr的/ude1作用/gi是/vshi对/p每/rz一/nz张/q图/gi生成/v一个/mq64位/gi哈希/nrf，/w之后/f比较/gi不同/a图片/gi的/ude1哈希/nrf，/w结果/n越/d接近/v，/w说明/v图片/gi越/d相/d。/w下面/f是/vshi简单/a的/ude1实现/gi：/w第一步/nz：/w缩小/v尺寸/gi。/w将/d图片/gi缩小/v到/v8/nzx/nz8/nz的/ude1尺寸/gi，/w总共/d64/nz个/q像素/gi，/w这/rzv一步/nz的/ude1作用/gi是/vshi去除/v图片/gi的/ude1细节/gi，/w仅仅/d保留/v结构/gi等/udeng基本/a信息/gi，/w忽略/v不同/a尺寸/gi、/w比例/n带来/v的/ude1图片/gi差异/n第二步/nz：/w简化/gi色彩/n，/w进行/vn灰度/gi处理/vn将/d缩小/v的/ude1图片/gi，/w转换成/i64/nz级/q灰度/gi，/w也/d就是说/c，/w所有/b的/ude1像素点/nz总共/d只有/c64/nz中/f颜色/gi第三步/nz：/w计算/gi平均/a计算/gi所有/b64/nz个/q像素/gi的/ude1灰度/gi平均/a第四步/nz：/w比较/gi像素/gi灰度/gi将/d每个/r像素/gi的/ude1灰度/gi，/w与/cc平均/a进行/vn比较/gi，/w大于/v或者/c等于/v平均/a，/w即为/c1/nz，/w小于/v平均/a为/p0/nz第五步/nz：/w计算/gi哈希/nrf将/d上/f一步/nz的/ude1比较/gi结果/n，/w组合/gi在/p一起/s，/w就/d构成/v了/ule一个/mq64位/gi的/ude1整数/gi，/w组合/gi顺序/gi不/d重要/a，/w只要/c保证/v所有/b的/ude1图片/gi都/d是/vshi采用/v同样/d的/ude1次序/gi就/d行/ng。/w