#漫谈/vn自动化测试/gi（/w六/nz）/w―/w―/w环境部署/gi
在/p自动化/gi测试过程/gi中/f，/w最/d郁闷/a的/ude1事情/n莫过于/vl没有/v测试/gi机器/gi供/vi使用/gi，/w申请/v机器/gi资源/gi需要/v层层/q审批/vn，/w焦心/nz地/ude2等待/gi设备/gi的/ude1到来/gi了/ule。/w测试环境/nz（/w包含/v硬件资源/l、/w软件资源/l等/udeng）/w是/vshi一套/nz复杂/a的/ude1系统/gi，/w我们/rr的/ude1自动化测试/gi和/cc手工/gi测试/gi都/d在/p其中/rz运行/gi，/w没有/v环境/n，/w一切/rz都/d无从谈起/l。/w测试环境/nz构建/gi测试环境/nz（/w包括/v自动化测试/gi、/w手工/gi测试/gi、/w性能测试/gi等/udeng）/w的/ude1搭建/v，/w包含/v硬件/gi设备/gi，/w如/vcpu/gi（/w大量/m计算/gi型/k）/w、/w内存/gi（/w大量/m缓存/gi和/cc服务/gi加载/gi）/w、/w磁盘/gi（/w大量/mio/gi读写/gi）/w、/w显卡/gi（/w涉及/v视频/gi图像处理/gi的/ude1产品/gi）/w、/w声卡/gi（/w涉及/v语音/gi视频/gi的/ude1产品/gi）/w、/w网卡/gi（/w网络流量/nz巨大/a的/ude1服务/gi产品/gi）/w，/w软件资源/l（/whttp/gi服务器/gi、/wftp/nz服务器/gi、/wemail/nz服务器/gi、/w测试/gi框架/gi、/w测试工具/nz、/w编译/gi执行/v依赖/v软件/gi、/w测试用例/gi管理系统/gi、/wbug/gi管理系统/gi等等/udeng）/w，/w以及/cc网络/gi资源/gi（/w路由器/gi、/w交换机/gi、/wvpn/gi、/w防火墙/gi等等/udeng）/w。/w这里/rzs罗列/v了/ule这么/rz多/a，/w大部分/n测试环境/nz都/d需要/v考虑/v这些/rz问题/gi，/w哪怕/c你/rr用/p的/ude1是/vshi分布式/gi云计算/gi（/w背后/f也/d是/vshi在/p一堆/nz的/ude1容器/gi或/cvm/nz上/f执行/v软件/gi服务/gi，/w本质/n上/f还是/c以上/f这些/rz资源/gi）/w。/w当然/d，/w如果/c有一套/r成熟/a的/ude1云计算平台/gi，/w环境/n搭建/v就/d简单/a多/a了/ule，/w否则/c这些/rz一般/ad都/d是/vshi测试人员/n自己/rr手动/b搭建/v完成/v。/w环境/n搭建/v原则/gi牵涉到/l原则性/n的/ude1问题/gi，/w我/rr这里/rzs不敢/d随便/ad说/v，/w就/d给/p几/d个/q建议/gi吧/y。/w1./nz尽量/d仿真/vn。/w测试环境/nz理想/n情况/n是/vshi与/cc产品/gi运行/gi环境/n一致/a，/w包括/v硬件/gi和/cc软件/gi的/ude1，/w但/c实际上/d在/p互联网/gi公司/nis，/w几乎/d没有/v哪家/r能够/v做到/v这/rzv点/gi，/w不/d现实/n。/w但/c作为/p测试人员/n，/w应该/v想尽办法/l做到/v与/cc产品/gi运行/gi环境/n一致/a或/c接近/v，/w越/d接近/v，/w测试/gi结果/n越/d可靠/a，/w测试数据/gi越/d有/vyou说服力/n。/w2./nz尽量/d独立/a。/w条件/n允许/v的话/udh，/w尽量/d把/pba手工/gi测试/gi、/w自动化测试/gi、/w性能测试/gi（/w这个/rz比较/gi特殊/a，/w一般/ad都/d单独/d拿出/v来/vf）/w的/ude1环境/n隔离/vn，/w各自/rr在/p独立/a的/ude1环境/n下/f操作/gi执行/v。/w为何/ryv要/v隔离开/i？/w因为/c手工/gi测试/gi涉及/v人/n为/p频繁/a操作/gi，/w包括/v各种/rz异常/gi测试/gi，/w极易/nz把/pba环境/n的/ude1纯净性/nz破坏/v掉/v。/w自动化/gi测试环境/nz独立/a，/w不受/v外界/n干扰/gi，/w容易/ad高效率/nz执行/v自动化/gi测试用例/gi，/w避免/v无谓/b的/ude1环境/n和/cc人为因素/nz造成/v误判/vn。/w性能测试/gi一般/ad运行时间/gi比较/gi长/a，/w如果/c放在/v日常/b的/ude1自动化/gi测试环境/nz中/f，/w不利于/v持续集成/gi和/cc每日/r频繁/a的/ude1产品/gi验证/v工作/gi。/w3./nz易/ad扩展/gi。/w在/p每套/r测试环境/nz相对/d独立/a的/ude1情况下/nz，/w各/rz套/q环境/n的/ude1配置/gi应该/v具备/v可扩展性/gi，/w便于/v增加/v或/c减少/v某些/rz设备/gi配置/gi，/w适应/v业务/gi的/ude1需求/gi和/cc成本/n控制/vn。/w4./nz容灾性/nz。/w时刻/n牢记/v心中/s，/w某天/r测试环境/nz坏/a了/ule的/ude1情况下/nz，/w至少/d数据/gi不会/v被/pbei丢失/v。/w如果/c你/rr曾经/d经历/gi过/uguo这种/r情况/n，/w那/rzv就/d明白/v这/rzv条/q有/vyou多么/d重要/a了/ule。/w数据/gi无价/vi，/w不要/d吝啬/a备份/gi！/w环境/n管理/gi原则/gi测试环境/nz一般/ad都/d是/vshiit/gi工程师/gi搭建/v和/cc配置/gi，/w测试人员/n负责管理/n维护/gi，/w也/d有些/rz公司/nis是/vshi测试人员/n全程/n搭建/v和/cc维护/gi。/w所以/c也/d不能/v给/p什么/ry具体/a建议/gi，/w只是/d一个/mq比较/gi通用/gi的/ude1准则/n吧/y。/w1./nz维护/gi环境/n信息/gi清单/n。/w创建/gi和/cc维护/gi一份/nz测试环境/nz信息/gi的/ude1清单/n，/w包括/v机器/gi名称/n、/w操作系统/gi版本/n、/wip/gi、/w用户名/n、/w密码/gi、/w各/rz硬件/gi配置/gi信息/gi、/w各/rz重要/a软件/gi版本/n等/udeng。/w2./nz专人/n维护/gi测试环境/nz。/w对于/p测试环境/nz，/w包括/v上述/b的/ude1信息/gi清单/n，/w需要/v给/p专人/n进行/vn维护/gi。/w专人/n维护/gi，/w可以/v控制/vn访问/gi权限/gi，/w对/p设备/gi信息/gi也/d熟悉/v，/w利于/v管理/gi和/cc控制/vn访问/gi使用/gi等/udeng。/w3./nz基本/a环境/n信息/gi公开/ad。/w对于/p通用/gi的/ude1环境/n信息/gi，/w比如/v硬件/gi配置/gi和/cc软件/gi版本/n等/udeng，/w应该/v对/p团队/gi公开/ad共享/gi，/w对于/p用户名/n和/cc密码/gi等/udeng，/w视/vg情况/n进行/vn分配/gi控制/vn，/w在/p一定/b范围内/nz进行/vn共享/gi。/w