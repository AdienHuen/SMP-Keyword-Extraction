#浏览/gi过/uguo该/rz商品/gi的/ude1用户/gi最终/d购买/gi推荐/gi模型/gi实现/gi
这周/r做/v了/ule一个“/nz浏览/gi过/uguo该/rz商品/gi的/ude1用户/gi最终/d购买/gi”/w的/ude1商品/gi推荐/gi，/w很/d多/a网站/gi上/f比如/v京东/ntc等/udeng都/d有此/r功能/gi，/w先/d讲/v一下/m自己/rr的/ude1实现/gi方法/gi：/w方法/gi是/vshi基于/p数据库/gi中的/v三个表/nz实现/gi的/ude1，/w这/rzv三个表/nz分别/d是/vshipersona/nz_/nzorder/nz、/wpersona/nz_/nzbrowse/nz、/w以及/ccproduct/nz_/nzsimilarity/nz,/nz分别/d是/vshi用户/gi购买/gi的/ude1商品/gi（/wuid/nz_/nzproids/nz）/w、/w用户/gi浏览/gi的/ude1商品/gi、/w以及/cc商品/gi的/ude1相度表/nz。/w基本思路/nz：/w根据/p正在/d浏览/gi的/ude1商品/giid/nz获取/gi浏览/gi过/uguo该/rz商品/gi的/ude1用户/gi集/q，/w然后/c根据/p用户/gi集/q得到/v他们/rr购买/gi的/ude1商品/gi集/q以及/cc对应/vi的/ude1用户/gi购买/gi比例/n，/w由于/p此时/r得出/v的/ude1商品/gi集/q不一定/nz与/cc浏览/gi的/ude1商品/gi属于/v同类产品/nz，/w所以/c将/d这个/rz商品/gi集/q与/cc正在/d浏览/gi的/ude1商品/gi进行/vn相度/nz的/ude1计算/gi，/w根据/p用户/gi购买/gi比例/n和/cc与/cc浏览/gi商品/gi的/ude1相度/nz，/w对/p这些/rz商品/gi进行/vn排序/gi，/w然后/c给出/v排名/gi靠/v前/f的/ude1商品/gi，/w最后/f将/d结果/n保存/gi到/v数据库表/gi中/f，/w这样/rzv前端/gi页面/gi展示/gi时候/n，/w只要/c去/vf查结果/nz就/d可以/v了/ule。/w当然/d这个/rz方法/gi纯/a属于/v统计/gi，/w不/d知道/v还有/v没有/v更/d高效/b的/ude1方法/gi，/w欢迎/v大家/rr分享/gi！/w最终/d的/ude1结果/n存/v的/ude1是/vshi一个/mqmap/nz（/wstring pid/nz,/nzfloat value/nz）/w,/nz其中/rzvalue/nz=/nzratio/nz=/nzuserratio/nz*/nzfactorsim/nz(/nzpid/nz,/nzpid/nz)/nz*/nz(/nz1/nz-/nzfactor/nz)/nz。/wfactor/nz是/vshi用户/gi比例/n和/cc相度/nz的/ude1权重/nz因子/n。/w另外/c，/w在/p商品/gi展示/gi时/qt，/w可以/v按/p商品/gi标签/gi类别/gi展示/gi，/w标签/gi分为/v三级/gi、/w二级/b、/w一级/b，/w这样/rzv看起来/v顺一点/nz。/w欢迎/v大家/rr提出/v问题/gi指正/v问题/gi哈/b！/w