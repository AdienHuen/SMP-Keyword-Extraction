#工作日志/gi4/nz-/nz27/nz
工作日志/gi4/nz-/nz271/nz、/w讨论/gi共享/gi问题/gi，/w表/n结构/gi问题/gi2/nz、/w /x总结/gi数据库/gi建表/nz的/ude1几/d个/q重要/a原则/gi：/w /x1/nz、/w原始/a单据/n与/cc实体/n之间/f的/ude1关系/gi：/w可以/v是/vshi一对一/vl、/w一/nz对/p多/a、/w多/a对/p多/a的/ude1关系/gi。/w在/p一般/ad情况下/nz，/w它们/rr是/vshi一对一/vl的/ude1关系/gi：/w即/v一/nz张/q原始/a单据/n对应/vi且/c只/d对应/vi一个/mq实体/n。/w在/p特殊/a情况下/nz，/w它们/rr可能/v是/vshi一/nz对/p多/a或/c多对一/nz的/ude1关系/gi，/w即/v一/nz张/q原始/a单证/n对应/vi多/a个/q实体/n，/w或/c多/a张/q原始/a单证/n对应/vi一个/mq实体/n。/w这里/rzs的/ude1实体/n可以/v理解/gi为/p基本表/nz。/w明确/a这种/r对应/vi关系/gi后/f，/w对/p我们/rr设计/gi录入/gi界面/gi大/a有/vyou好处/gi。/w /x2/nz、/w主键/nz与/cc外键/gi：/w一般而言/vl，/w一个/mq实体/n不能/v既/c无/v主键/nz又/d无/v外键/gi。/w在/pe/nz―/wr /nz图/gi中/f,/nz /x处于/v叶子/gi部位/n的/ude1实体/n,/nz /x可以/v定义/gi主键/nz，/w也/d可以/v不/d定义/gi主键/nz(/nz因为/c它/rr无/v子孙/n)/nz,/nz /x但/c必须/d要/v有/vyou外键/gi(/nz因为/c它/rr有/vyou父亲/n)/nz。/w主键/nz与/cc外键/gi的/ude1设计/gi，/w在/p全局/n数据库/gi的/ude1设计/gi中/f，/w占有/v重要/a地位/n。/w /x3/nz、/w基本表/nz的/ude1性质/n：/w /x基本表/nz与/cc中间表/nz、/w临时/gi表/n不同/a，/w因为/c它/rr具有/v如下四/nz个/q特性/gi：/w(/nz1/nz)/nz /x原子性/nz。/w基本表/nz中的/v字段/gi是/vshi不可/v再/d分解/gi的/ude1。/w(/nz2/nz)/nz /x原始性/n。/w基本表/nz中的/v记录/gi是/vshi原始数据/gi（/w基础/gi数据/gi）/w的/ude1记录/gi。/w(/nz3/nz)/nz /x演绎/v性/ng。/w由/p基本表/nz与/cc代码/gi表/n中的/v数据/gi，/w可以/v派生/v出/vf所有/b的/ude1输出/gi数据/gi。/w(/nz4/nz)/nz /x稳定性/n。/w基本表/nz的/ude1结构/gi是/vshi相对/d稳定/an的/ude1，/w表/n中的/v记录/gi是/vshi要/v长期/d保存/gi的/ude1。/w4/nz、/w要/v善于/v识别/gi与/cc正确处理/nz多/a对/p多/a的/ude1关系/gi：/w /x若/c两/nz个/q实体/n之间/f存在/v多/a对/p多/a的/ude1关系/gi，/w则/d应/v消除/v这种/r关系/gi。/w消除/v的/ude1办法/gi是/vshi，/w在/p两者之间/nz增加/v第三/nz个/q实体/n。/w这样/rzv，/w原来/d一/nz个/q多/a对/p多/a的/ude1关系/gi，/w现在/t变为/v两/nz个/q一/nz对/p多/a的/ude1关系/gi。/w要/v将/d原来/d两/nz个/q实体/n的/ude1属性/gi合理/a地/ude2分配/gi到/v三/nz个/q实体/n中/f去/vf。/w这里/rzs的/ude1第三/nz个/q实体/n，/w实质上/nz是/vshi一个/mq较/d复杂/a的/ude1关系/gi，/w它/rr对应/vi一/nz张/q基本表/nz。/w一般来讲/l，/w数据库设计/gi工具/gi不能/v识别/gi多/a对/p多/a的/ude1关系/gi，/w但/c能/v处理/vn多/a对/p多/a的/ude1关系/gi。/w /x5/nz、/w范式/gi标准/gi：/w /x基本表/nz及其/cc字段/gi之间/f的/ude1关系/gi,/nz /x应/v尽量/d满足/v第三范式/nz（/w第三范式/nz：/w3/nznf/nz是/vshi对/p字段/gi冗余/n性/ng的/ude1约束/gi，/w即/v任何/rz字段/gi不能/v由/p其他/rzv字段/gi派生/v出来/vf，/w它/rr要求/n字段/gi没有/v冗余/n）/w。/w但是/c，/w满足/v第三范式/nz的/ude1数据库设计/gi，/w往往/d不是/c最好/d的/ude1设计/gi。/w为了/p提高/v数据库/gi的/ude1运行/gi效率/gi，/w常常/d需要/v降低/v范式/gi标准/gi：/w适当/a增加/v冗余/n，/w达到/v以/p空间/n换/v时间/gi的/ude1目的/gi。/w