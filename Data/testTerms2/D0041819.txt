#大型网站/gi架构/gi技术/gi一览/n
 /x对于/p大型网站/gi技术/gi的/ude1理解/gi，/w可以/v从/p架构/gi技术/gi原理/gi的/ude1组织/gi方式/n以/p架构/gi要素/gi作为/p维度/gi，/w从/p系统/gi性能/gi、/w可用性/gi、/w伸缩性/gi、/w扩展性/n、/w安全性/gi几个/nz角度/n阐述/v网站架构/gi的/ude1技术/gi要点/n。/w还有/v另一种/nz较为/d直观/a的/ude1组织/gi方式/n，/w是从/v不同/a架构/gi层次/n所/usuo使用/gi的/ude1网站架构/gi技术/gi这个/rz维度/gi进行/vn描述/gi的/ude1。/w /x网站/gi系统架构/gi层次/n如下/vi图/gi所示/nz：/w /x这个/rz网站架构/gi层次/n，/w共/d分为/v8/nz个/q层次/n，/w其中/rz数据库/gi中心/gi机房/gi架构/gi是/vshi上面/f所有/b架构/gi的/ude1物理/n基础/gi；/w安全/gi架构/gi和/cc数据库/gi采集/v监控/gi架构/gi是/vshi贯穿/v在/p各个/rz层次/n的/ude1重要/a保障/vn，/w这/rzv两/nz个/q架构/gi主要/b解决/v五个/nz业务/gi相关/vn层次/n的/ude1安全问题/gi和/cc数据采集/gi监控/gi问题/gi，/w是/vshi一直/d都/d需要/v关注/v的/ude1地方/n；/w /x对于/p目前/t的/ude1大型/b网络/gi来看/u，/w可以/v分为/v前端/gi、/w应用层/gi、/w服务/gi层/gi、/w存储层/nz、/w后台/gi等/udeng5/nz个/q方面/n，/w简单/a来说/uls，/w前端/gi存放/v的/ude1是/vshi静态/gi网页/gi，/w不/d涉及/v业务/gi，/w就是/v为了/p客户端/gi能够/v及时/ad响应/v，/w并/cc展现/v一/nz些/q静态/gi内容/gi；/w应用层/gi是/vshi处理/vn业务逻辑/gi的/ude1地方/n，/w前端开发/nz的/ude1代码/gi，/w主要/b就是/v发布/gi在/p这个/rz地方/n，/w实际/n用户/gi的/ude1各种/rz业务/gi处理/vn，/w也/d主要/b在/p这个/rz地方/n进行/vn；/w服务/gi层/gi介于/v应用层/gi和/cc存储层/nz之间/f，/w主要/b为/p两者/rzv提供/v各种/rz分布式服务/n，/w比如/v分布式/gi缓存/gi，/w能/v减少/v存储层/nz的/ude1压力/n，/w并/cc尽快/d响应/v应用层/gi的/ude1请求/gi，/w提高/v性能/gi；/w存储层/nz是/vshi存放/v各种/rz业务/gi数据/gi的/ude1地方/n，/w包括/v关系型/b、/w非关系型数据库/gi、/w文件/gi已经/d它们/rr之间/f的/ude1数据/gi同步/gi；/w上面/f4/nz个/q层次/n可以/v说/v是/vshi实时/n的/ude1业务/gi功能/gi，/w有/vyou一个/mq层次/n出现/v问题/gi，/w就/d会/v直接影响/v用户/gi体验/v，/w在/p这/rzv4/nz个/q层次/n后面/f，/w还有/v一个/mq后台/gi，/w它/rr是/vshi不/d直接/ad与/cc用户/gi沟通/gi，/w但/c从/p上面/f的/ude1业务/gi中/f通过/p搜索引擎/gi、/w数据仓库/gi、/w推荐系统/gi等/udeng，/w创造/v更加/d有/vyou价/n的/ude1信息/gi，/w在/p后台/gi为/p业务/gi提供/v支撑/v。/w1./nz前端/gi架构/gi /x（/w包括/v：/w浏览器/gi优化/gi技术/gi、/wcdn/gi、/w动静/n分离/vi，/w静态/gi资源/gi独立/a部署/gi、/w图片/gi服务/gi、/w反向代理/gi、/wdns/nz等/udeng7/nz种/q技术/gi）/w /x前端/gi指/v用户/gi请求/gi到达/v网站/gi应用服务器/gi之前/f经历/gi的/ude1环节/gi，/w通常/d不/d包含/v网站/gi业务逻辑/gi，/w不/d处理/vn动态/gi内容/gi。/w一般/ad打开/gi网页/gi或/c界面/gi时/qt，/w一/nz输入/vurl/gi就/d可以/v看到/v的/ude1信息/gi，/w就/d属于/v这/rzv部分/n，/w然后/c再/d慢慢/d加载/gi的/ude1，/w就是/v后面/f业务/gi层/gi的/ude1内容/gi了/ule，/w因为/c内容/gi都/d是/vshi静态/gi的/ude1，/w不会/v发生/v改变/v，/w所有/b可以/v在/p各个/rz地方/n准备好/nz，/w放在/vcdn/gi中/f，/w达到/v瞬时/t响应/v的/ude1效果/gi。/w为了/p实现/gi这样/rzv的/ude1效果/gi，/w有/vyou下面/f几/d种/q架构/gi技术/gi：/w浏览器/gi优化/gi技术/gi /x并/cc不是/c优化/gi浏览器/gi，/w而是/c通过/p优化/gi响应/v页面/gi，/w加快/v浏览器/gi页面/gi的/ude1加载/gi和/cc显示/gi，/w常用/a的/ude1有/vyou页面缓存/gi、/w合并/gihttp/gi减少/v请求/gi次数/gi、/w使用/gi页面/gi压缩/gi等/udeng。/wcdn /nz内容/gi分发/v网络/gi，/w部署/gi在/p网络/gi运营商/gi机房/gi，/w通过/p将/d静态/gi页面/gi内容/gi分发/v到/v离/v用户/gi最近/t最近/t的/ude1cdn/gi服务器/gi，/w使/v用户/gi可以/v通过/p最短路径/gi获取/gi内容/gi。/w动静/n分离/vi，/w静态/gi资源/gi独立/a部署/gi /x静态/gi资源/gi，/w如/vjs/gi、/wcss/nz等/udeng文件/gi部署/gi在/p专门/d的/ude1服务器/gi集群/gi上/f，/w和/ccweb应用/gi动态/gi内容/gi服务/gi分离/vi，/w并/cc使用/gi专门/d的/ude1（/w二级/b）/w域名/gi。/w图片/gi服务/gi /x图片/gi不是/c指/v网站/gilogo/nz、/w按钮图标/nz等/udeng，/w这些/rz文件/gi属于/v上面/f提到/v的/ude1静态/gi资源/gi，/w应该/v和/ccjs/gi、/wcss/nz部署/gi在/p一起/s。/w这里/rzs的/ude1图片/gi指/v用户/gi上传/v的/ude1图片/gi，/w如/v产品图片/nz、/w用户/gi头像/n等/udeng，/w图片/gi服务/gi同样/d适用/vi独立/a部署/gi的/ude1图片/gi服务器/gi集群/gi，/w并/cc使用/gi独立/a（/w二级/b）/w域名/gi。/w反向代理/gi /x部署/gi在/p网站/gi机房/gi，/w在/p应用服务器/gi、/w静态/gi资源/gi服务器/gi、/w图片/gi服务器/gi之前/f，/w提供/v页面缓存/gi服务/gi。/wdns /nz域名服务/gi，/w将/d域名解析/gi成/vip/gi地址/gi，/w利用/vdns/nz可以/v实现/gidns/nz负载均衡/gi，/w配置/gicdn/gi也/d需要/v修改/gidns/nz，/w使/v域名解析/gi后/f指向/vcdn/gi服务器/gi。/w2./nz应用/gi层/gi架构/gi /x（/w包括/v：/w开发/gi框架/gi、/w页面/gi渲染/gi、/w负载均衡/gi、/wsession/gi管理/gi、/w动态/gi页面/gi静态/gi化/v、/w业务/gi拆分/gi、/w虚拟化/gi服务器/gi等/udeng7/nz种/q技术/gi）/w /x应用层/gi是/vshi处理/vn网站/gi主要/b业务逻辑/gi的/ude1地方/n。/w一般/ad说/v的/ude1使用/giphp/gi或则/cjava/gi等/udeng技术/gi实现/gi的/ude1网络/gi逻辑/n和/cc前端/gi框架/gi，/w就是指/i这/rzv部分/n的/ude1内容/gi，/w该/rz部分/n是/vshi交互式/gi业务/gi实现/gi的/ude1主要/b层次/n，/w相应/vi的/ude1架构/gi技术/gi有/vyou：/w开发/gi框架/gi /x网站/gi业务/gi是/vshi多变/z的/ude1，/w网站/gi的/ude1大部分/n软件工程师/gi都/d是/vshi在/p加班加点/vl开发/gi网站/gi业务/gi，/w一个/mq好/a的/ude1开发/gi框架/gi至关重要/bl。/w一个/mq号/q的/ude1开发/gi框架/gi应该/v能够/v分离/vi关注面/nz，/w使/v美工/nnt、/w开发/gi工程师/gi可以/v各司其事/nz，/w易于/vd协作/gi。/w同时/c还/d应该/v内置/vn一/nz些/q安全策略/gi，/w防护/giweb/gi用/p攻击/gi。/w页面/gi渲染/gi /x将/d分别/d开发/gi维护/gi的/ude1动态/gi内容/gi和/cc静态/gi页面/gi模板/gi集成/vn起来/vf，/w组合成/l最终/d显示/gi给/p用户/gi的/ude1完整/a页面/gi。/w负载均衡/gi /x将/d多/a台/q应用服务器/gi组成/gi一个/mq集群/gi，/w通过/p负载均衡/gi技术/gi将/d用户/gi请求/gi分发/v到/v不同/a的/ude1服务器/gi上/f，/w以/p应对/v大量/m用户/gi同时/c访问/gi时/qt产生/v的/ude1高并发/gi负载/gi压力/n。/wsession/gi管理/gi /x为了/p实现/gi高/a可用/v的/ude1应用服务器/gi集群/gi，/w应用服务器/gi通常/d设计/gi为/p无/v状态/gi，/w不/d保存/gi用户/gi请求/gi上下文/gi信息/gi，/w但是/c网站/gi业务/gi通常/d需要/v保持/v用户/gi会话/v信息/gi，/w需要/v专门/d的/ude1机制/gi管理/gisession/gi，/w使/v集群/gi内/f甚至/d跨/v集群/gi的/ude1应用服务器/gi可以/v共享/gisession/gi。/w动态/gi页面/gi静态/gi化/v /x对于/p访问量/nz特别/d大/a而/cc更新/gi又/d不/d很/d频繁/a的/ude1动态/gi页面/gi，/w可以/v将/d其/rz静态/gi化/v，/w即/v生成/v一个/mq静态/gi页面/gi，/w利用/v静态/gi页面/gi的/ude1优化/gi手段/n加速/gi用户/gi访问/gi，/w如/v反向代理/gi、/wcdn/gi、/w浏览器/gi缓存/gi等/udeng。/w业务/gi拆分/gi /x将/d复杂/a而/cc庞大/a的/ude1业务/gi拆分/gi开来/v，/w形成/v多/a个/q规模/gi较小/d的/ude1产品/gi，/w独立/a开发/gi、/w部署/gi、/w维护/gi，/w除了/p降低/v系统/gi耦合度/gp，/w也/d便于/v数据库/gi业务/gi分库/gi。/w按/p业务/gi对/p关系数据库/gi进行/vn拆分/gi，/w技术难度/n相对/d较小/d，/w而/cc效果/gi又/d相对/d较好/d。/w虚拟化/gi服务器/gi /x将/d一台/nz物理/n服务器虚拟化/gi成/v多态/gi虚拟服务器/gi，/w对于/p并发访问/gi较低/d的/ude1业务/gi，/w更容易/nz用/p较少/ad的/ude1资源/gi构架/n高/a可用/v的/ude1应用服务器/gi集群/gi。/w3./nz服务/gi层/gi架构/gi /x（/w包括/v：/w分布式/gi消息/n、/w分布式服务/n、/w分布式/gi缓存/gi、/w分布式/gi配置/gi等/udeng4/nz种/q技术/gi）/w /x提供/v基础/gi服务/gi，/w供应/vn用/p层/gi调用/gi，/w完成/v网站/gi业务/gi。/w服务/gi层/gi介于/v应用层/gi和/cc存储层/nz之间/f，/w顾名思义/vl就是/v为/p应用层/gi提供/v各种/rz服务/gi的/ude1，/w而/cc服务/gi层/gi本身/rz内容/gi的/ude1来源/gi，/w又/d可能/v与/cc存储层/nz有关/vn，/w比如/v缓存/gi就是/v将/d存储层/nz中的/v一/nz部分/n数据/gi做/v以/p加工/gi和/cc展现/v，/w供应/vn用/p层/gi快速/d调用/gi的/ude1。/w服务/gi层/gi的/ude1架构/gi技术/gi主要/b是/vshi几/d种/q分布式/gi的/ude1服务/gi功能/gi：/w分布式/gi消息/n /x利用/v消息队列/gi机制/gi，/w实现/gi业务/gi和/cc业务/gi、/w业务/gi和/cc服务/gi之间/f的/ude1异步/gi消息/n发送/gi及/cc低/a耦合/vn的/ude1业务/gi关系/gi。/w分布式服务/n /x提供/v高性能/gi、/w低/a耦合/vn、/w易/ad复用/gi、/w易/ad管理/gi的/ude1分布式服务/n，/w在/p网站/gi实现/gi面向服务/gi架构/gi（/wsoa/gi）/w。/w分布式/gi缓存/gi /x通过/p可/v伸缩/vn的/ude1服务器/gi集群/gi提供/v大规模/b热点/gi数据/gi的/ude1缓存/gi服务/gi，/w是/vshi网站/gi性能优化/gi的/ude1重要/a手段/n。/w分布式/gi配置/gi /x系统/gi运行/gi需要/v配置/gi许多参数/nz，/w如果/c这些/rz参数/gi需要/v修改/gi，/w比如/v分布式/gi缓存/gi集群/gi加入/v新的/a缓存/gi服务器/gi，/w需要/v修改/gi应用程序/nz客户端/gi的/ude1缓存/gi服务器/gi列表/vi配置/gi，/w并/cc重启/gi应用程序/nz服务器/gi。/w分布式/gi配置/gi在/p系统/gi运行/gi期/qv提供/v配置/gi动态/gi推送/nz服务/gi，/w将/d配置/gi修改/gi实时/n推送/nz到/v应用系统/gi，/w无需/v重启/gi服务器/gi。/w4./nz存储层/nz架构/gi /x（/w包括/v：/w分布式/gi文件/gi、/w关系数据库/gi、/wnosql数据库/gi、/w数据/gi同步/gi等/udeng4/nz种/q技术/gi）/w /x提供数据/n、/w文件/gi的/ude1持久化/nz存储/gi访问/gi与/cc管理/gi服务/gi。/w该/rz层次/n也/d是/vshi一般/ad意义/n上/f的/ude1数据库层/nz，/w主要/b用来/v存放/v各种/rz数据/gi的/ude1，/w当然/d在/p大型网站/gi中/f数据层/nz的/ude1概念/gi，/w不仅/c包括/v传统/n关系型数据库/gi，/w还包括/nz分布式/gi文件/gi数据/gi，/wnosql数据库/gi以及/cc数据/gi同步/gi技术/gi。/w存储层/nz的/ude1架构/gi技术/gi主要/b有/vyou：/w分布式/gi文件/gi /x网站/gi在线/vn业务/gi需要/v存储/gi的/ude1文件/gi大部分/n都/d是/vshi图片/gi、/w网页/gi、/w视频/gi等/udeng比较/gi小/a的/ude1文件/gi，/w但是/c这些/rz文件/gi的/ude1数量/n非常/d庞大/a，/w而且/c通常/d都/d在/p持续/vd增加/v，/w需要/v伸缩性/gi设计/gi比较/gi好/a的/ude1分布式文件系统/nz。/w关系数据库/gi /x大部分/n万丈/q的/ude1主要/b业务/gi是/vshi基于/p关系数据库/gi开发/gi的/ude1，/w但是/c关系数据库/gi对/p集群/gi伸缩性/gi的/ude1支持/v表/n较差/d。/w通过/p在/p应用程序/nz的/ude1数据访问层/gi增加/v数据库/gi访问/gi的/ude1路由/gi功能/gi，/w根据/p业务/gi配置/gi将/d数据库/gi访问/gi路由/gi到/v不同/a的/ude1物理/n数据库/gi上/f，/w可实现/nz关系数据库/gi的/ude1分布式/gi访问/gi。/wnosql数据库/gi /x目前/t各种/rznosql数据库/gi层出不穷/vl，/w在/p内存/gi管理/gi、/w数据模型/gg、/w集群/gi分布式/gi管理/gi等/udeng方面/n各/rz有/vyou优势/gi，/w不过/c从/p社区/gi活动性/n角度看/v，/whbase/gi无疑/d是/vshi目前/t最好/d的/ude1。/w数据/gi同步/gi /x在/p支持/v全球/gi范围内/nz数据共享/gi的/ude1分布式数据库/gi技术/gi成熟/a之前/f，/w拥有/v多/a个/q数据中心/gi的/ude1网站/gi必须/d在/p多/a个/q数据中心/gi之间/f进行/vn数据/gi同步/gi，/w以/p保证/v每个/r数据中心/gi都/d拥有/v完整/a的/ude1数据/gi。/w在实践中/n，/w为了/p减轻/v数据库/gi压力/n，/w将/d数据库/gi的/ude1事物/n日志/gi（/w或者/cnosql/gi的/ude1写/v操作/gilog/gi）/w同步/gi到/v其他/rzv数据中心/gi，/w根据/plog/gi进行/vn数据/gi重演/v，/w实现/gi数据/gi同步/gi。/w5./nz后台/gi架构/gi /x（/w包括/v：/w搜索引擎/gi、/w数据仓库/gi、/w推荐系统/gi等/udeng3/nz种/q技术/gi）/w /x网站/gi应用/gi中/f，/w除了/p要/v处理/vn用户/gi的/ude1实时/n访问/gi请求/gi外/f，/w还有/v一些/m后台/gi非/b实时/n数据分析/gi要/v处理/vn。/w后台/gi架构/gi主要/b是/vshi进行/vn一/nz些/q非/b实时/n操作/gi，/w对/p前端/gi业务/gi处理/vn提供/v支撑/v，/w主要/b的/ude1架构/gi技术/gi有/vyou：/w搜索引擎/gi /x即使/c是/vshi网站/gi内部/f的/ude1搜索引擎/gi，/w也/d需要/v进行/vn数据/gi增量/gi更新/gi及/cc全量/nz更新/gi、/w构建/gi索引/gi等/udeng。/w这些/rz操作/gi通过/p后台/gi系统/gi定时/d执行/v。/w数据仓库/gi /x根据/p离线/n数据/gi，/w提供/v数据分析/gi与/cc数据挖掘/gi服务/gi。/w推荐系统/gi /x社交网站/gi及/cc购物/vn网站/gi通过/p挖掘/gi人/n与/cc人/n之间/f的/ude1关系/gi，/w人/n和/cc商品/gi之间/f的/ude1关系/gi，/w发展/gi潜在/b的/ude1人际关系/n和/cc购物/vn兴趣/gi，/w为/p用户/gi提供/v个性化/gi推荐/gi服务/gi。/w6./nz数据采集/gi与/cc监控/gi /x（/w包括/v：/w浏览器/gi数据采集/gi、/w服务器/gi业务/gi数据采集/gi、/w服务器/gi性能/gi数据采集/gi、/w系统监控/n、/w系统/gi报警/vn等/udeng5/nz种/q技术/gi）/w /x监控/gi网站/gi访问/gi情况/n与/cc系统/gi运行/gi情况/n，/w为/p网站/gi运营决策/nz和/cc运维管理/gi提供/v支持/v保障/vn。/w数据采集/gi与/cc监控/gi存在/v于/p整个/b业务/gi架构/gi的/ude1生命周期/nz，/w在/p业务/gi上线/n后/f，/w业务/gi运行/gi状态/gi是否/v正常/a，/w运维/gi人员/gi日常/b做/v的/ude1主要/b工作/gi，/w就是/v数据采集/gi与/cc监控/gi，/w在/p业务/gi系统/gi发生/v故障/gi或者/c性能/gi问题/gi时/qt，/w也/d需要/v改/v系统/gi进行/vn支持/v和/cc问题/gi定位/gi，/w进而/c解决问题/v。/w该/rz层次/n的/ude1主要/b架构/gi技术/gi有/vyou：/w浏览器/gi数据采集/gi /x通过/p在/p网站/gi页面/gi中/f嵌入/vjs/gi脚本/gi采集/v用户/gi浏览器/gi环境/n与/cc操作/gi记录/gi，/w分析/gi用户/gi行为/n。/w服务器/gi业务/gi数据采集/gi /x服务器/gi业务/gi数据/gi包括/v两/nz种/q，/w一种/nz是/vshi采集/v在/p服务器端/gi记录/gi的/ude1用户/gi请求/gi操作/gi日志/gi；/w一种/nz是/vshi采集/v应用程序/nz运行/gi期/qv业务/gi数据/gi，/w比如/v待处理/n消息/n数目/gi等/udeng。/w服务器/gi性能/gi数据采集/gi /x采集/v服务器/gi性能/gi数据/gi，/w如/v系统/gi负载/gi、/w内存/gi使用率/n、/w网卡/gi流量/gi等/udeng。/w系统监控/n /x将/d前述/b采集/v的/ude1数据/gi以/p图表/gi的/ude1方式/n展示/gi，/w以便/d运营/gi和/cc运维/gi人员/gi监控/gi网站/gi运行状况/nz，/w做到/v这一步/nz仅仅/d是/vshi系统/gi监视/v。/w更/d先进/a的/ude1做法/n是/vshi根据/p采集/v的/ude1数据/gi进行/vn自动化/gi运维/gi，/w自动/d处理/vn系统/gi异常/gi状况/n，/w是/vshi吸纳/v自动化/gi控制/vn。/w系统/gi报警/vn /x如果/c采集/v来/vf的/ude1数据/gi超过/v预设/v的/ude1正常/a情况/n的/ude1阀/n，/w比如/v系统/gi负载/gi过/uguo高/a，/w就/d通过/p邮件/n、/w短信/n、/w语音/gi电话/gi等/udeng方式/n发出/v警报/n信号/gi，/w等待/gi工程师/gi干预/vn。/w7./nz安全/gi架构/gi /x（/w包括/v：/wweb/gi攻击/gi、/w数据保护/n等/udeng2/nz种/q技术/gi）/w /x保护/gi网站/gi免遭/v攻击/gi及/cc敏感/gi信息/gi泄露/gi。/w安全/gi也/d业务/gi能够/v正常/a运行/gi的/ude1一个/mq非常/d重要/a的/ude1问题/gi，/w安全/gi主要/b有/vyou两/nz方面/n，/w一/nz是/vshi来自/v外边/f的/ude1攻击/gi与/cc防护/gi，/w会/v影响/gi到/v网站/gi业务/gi的/ude1可用性/gi和/cc性能/gi；/w二是/nz网站/gi内部/f的/ude1数据/gi安装/gi和/cc保护/gi，/w会/v影响/gi到/v数据/gi层/gi总的/b敏感/gi信息/gi。/w安全/gi架构/gi技术/gi主要/b有/vyou：/wweb/gi攻击/gi /x以/phttp/gi请求/gi的/ude1方式/n发起/v的/ude1攻击/gi，/w危害/gi最大/gm的/ude1就是/vxss/nz和/ccsql注入/gi攻击/gi。/w但是/c只要/c措施/gi得当/a，/w这/rzv两/nz种/q攻击/gi都/d是/vshi比较/gi容易/ad防范/gi的/ude1。/w数据保护/n /x敏感/gi信息/gi加密/gi传输/gi与/cc存储/gi，/w保护/gi网站/gi和/cc用户/gi资产/n。/w8./nz数据中心/gi机房/gi架构/gi /x（/w包括/v：/w机房/gi架构/gi、/w机柜/gi架构/gi、/w服务器架构/gi等/udeng3/nz种/q技术/gi）/w /x大型网站/gi需要/v的/ude1服务器/gi规模/gi数以十万计/bl，/w机房/gi物理/n架构/gi也/d需要/v关注/v。/w对于/p大型/b网络/gi系统/gi来说/uls，/w物理/n服务器/gi数量/n必然/d是/vshi非常/d巨大/a的/ude1，/w这样/rzv在/p机房/gi、/w机柜/gi、/w服务器/gi等/udeng层次/n都/d要/v有/vyou相应/vi的/ude1规划/gi，/w这样/rzv才能/n比较/gi好/a的/ude1支撑/v上面/f的/ude1各个/rz层次/n。/w机房/gi架构/gi /x对于/p一个/mq拥有/v十万/nz台/q服务器/gi的/ude1大型网站/gi，/w每/rz台/q服务器/gi耗电/vi（/w包括/v服务器/gi本身/rz耗电/vi及/cc空调/n耗电/vi）/w每年/r大约/d需要/v人民币/gi2000/nz元/q，/w那么/c网站/gi每年/r机房/gi电费/n就/d需要/v两亿/nz人民币/gi。/w数据中心/gi能耗/n问题/gi日趋严重/l，/wgoogle/nz、/wfacebook/nz选择/gi数据中心/gi地理位置/gg的/ude1时候/n趋向/v选择/gi散热/gi良好/a，/w供电/gi充裕/a的/ude1地方/n。/w机柜/gi架构/gi /x包括/v机柜/gi大小/n，/w网线/n布局/gi、/w指示/gi灯规/nz、/w不间断/l电源/gi、/w电压/gi规/ng（/w是/vshi48/nzv/nz直流电/n还是/c220/nzv/nz民用/b交流/gi电/n）/w等/udeng一系列/b问题/gi。/w服务器架构/gi /x大型网站/gi由于/p服务器/gi采购/vn规模/gi庞大/a，/w大/a都/d采用/v定制/n服务器/gi的/ude1方式/n代替/v购买/gi服务器/gi整机/n。/w根据/p网站/gi应用/gi需求/gi，/w定制/n硬盘/gi、/w内存/gi、/w甚至/dcpu/gi，/w同时/c去除/v不必要/a的/ude1外设/gi接口/gi（/w显示器/n输出/gi接口/gi，/w鼠标/gi、/w键盘输入/n接口/gi）/w，/w并/cc使/v空间结构/n利于/v散热/gi。/w