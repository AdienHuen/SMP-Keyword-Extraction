#关于/p微信/gi开发/gi的/ude1语音/gi存储/gi问题/gi
 /x关于/p微信/gi开发/gi有时/d我们/rr可能会/nz用/p到/v语音/gi的/ude1接收存储/nz功能/gi，/w因此/c将/d我/rr这/rzv一/nz周/qt在/p语音/gi这块/r碰到/v的/ude1问题/gi共享/gi给/p大家/rr。/w /x微信/gi提供/v的/ude1官方/gi文档/gi里/f关于/p接收/gi语音/gi这块/r的/ude1说明/v是/vshi：/w语音/gi的/ude1式/kformat/nz为/pamr/nz或者/cspeex/nz等/udeng式/k，/w因此/c第一次/nz我/rr默认/v把/pba语音/gi存为/v./nzarm/nz的/ude1式/k，/w但是/c过程/gi中/f发现/v几乎/d没有/v软件/gi支持/vamr/nz式/k数据/gi的/ude1播放/v，/w因此/c就/d涉及/v到/v式/k转换/gi的/ude1问题/gi，/w但/c式/k如何/ryv来/vf转/v，/w第一次/nz我/rr以为/v是/vshi直接/ad可以/v改/v后缀名/nz，/w我/rr直接/ad在/p存储/gi的/ude1时候/n就/d将/d语音/gi式/k存储/gi为/p./nzmp/nz3/nz式/k的/ude1数据/gi，/w但是/c研究/gi中/f发现/vpc/nz端/v还是/c不/d可以/v播放/v该/rz类型/gi数据/gi，/w但是/c从/p互联/vi上/f下载/gi的/ude1mp/nz3/nz式/k文件/gi是/vshi可以/v正常/a播放/v的/ude1，/w因此/c判定/gi这样/rzv直接/ad改/v后缀名/nz的/ude1方式/n是/vshi错误/gi的/ude1。/w通过/p查看/gi手机/gi中的/v微信/gi语音/gi文件/gi，/w发现/v都/d是/vshi./nzamr/nz式/k的/ude1数据/gi,/nz然后/c我/rr就/d觉得/v语音/gi文件/gi默认/v应该/v就是/v./nzamr/nz式/k的/ude1数据/gi。/w /x接下来/vl我/rr就/d下载/gi了/ule一/nz些/q式/k转换/gi的/ude1软件/gi（/w例如/v式/k工厂/gi之类/rz的/ude1）/w，/w但是/c发现/v，/w它们/rr并不/d支持/v对/p./nzamr/nz式/k的/ude1数据式/nz进行/vn转换/gi。/w追根溯源/i，/w我/rr就/d了解到/v了/uleffmpeg/gi这个/rz多媒体/gi处理/vn工具/gi，/w然后/c就/d直接/ad调用/gi该/rz工具/gi在/p代码/gi中/f实现/gi将/d./nzamr/nz式/k的/ude1数据/gi转为/gi./nzmp/nz3/nz式/k的/ude1数据/gi（/wffmpeg /nz-/nz i demo/nz./nzamr demo/nz./nzmp/nz3/nz）/w，/w执行/v结束/v发现/vmp/nz3/nz文件/gi可/v正常/a播放/v。/w则/d微信/gi语音/gi的/ude1播放/v即可/v解决/v。/w