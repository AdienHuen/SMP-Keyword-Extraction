#node/nz，/wcore/nz，/wCPU/nz和/ccGPU/nz的/ude1关系/gi
最近/t在/p看/v论文/gi时/qt，/w经常/d会/v出现/vcpu/gi，/wcore/nz和/cccache/gi之类/rz的/ude1，/w实验室/gi的/ude1服务器/gi又/d总是/dnode/nz和/ccprocessor/nz之类/rz的/ude1，/w概念/gi很/d多/a，/w有些/rz晕/vi。/w经过/p调研/gi请教/gi，/w现/tg总结/gi如下/vi：/w（/w1/nz）/wnode/nz和/cccpu/gi是/vshi等价/vn的/ude1，/w其/rz标志/n就是/v都/d有/vyou自己/rr的/ude1cache/gi和/cc主存/gi，/w有/vyou独立/a的/ude1支持/v电路/gi。/w（/w2/nz）/w一个/mqcpu/gi上/f可能/v有/vyou多/a个/qcore/nz，/w每个/rcore/nz是/vshi一个/mq独立/a的/ude1计算/gi单元/n，/w同一个/bcpu/gi的/ude1多/a个/qcore/nz共用/b缓存/gi和/cc主存/gi。/w（/w3/nz）/wprocessor/nz更多/ad的/ude1是/vshios/gi角度/n看到/v的/ude1逻辑/n处理器/gi，/w由于/pcpu/gi可以/v有/vyou多/a个/q物理核/nz，/w而/cc在/p操作系统/gi的/ude1角度看/v，/w一个/mq核/n就是/v一个/mq逻辑/n处理器/gi和/cc独立/a的/ude1计算/gi单元/n，/w所以/cprocessor/nz的/ude1个数/n往往/d多余/gicpu/gi的/ude1个数/n。/w（/w4/nz）/w多/a个/qcpu/gi可以/v共享内存/nz和/cc统一/vn寻址/gi，/w即/vdsm/nz或/csmp/nz结构/gi，/w也/d可以/v不/d共享内存/nz，/w每个/rcpu/gi都/d有/vyou自己/rr独立/a专用/gi的/ude1内存空间/nz和/cc地址/gi，/w例如/v集群/gi系统/gi。/w（/w5/nz）/w关于/p多/a个/q单核/ncpu/gi与/cc多/a核/ncpu/gi。/w1/nz）/w从/p通信/gi角度/n来看/u，/w多核/nzcpu/gi通过/p芯片/gi内部/f总线/n通信/gi，/w而/cc多/acpu/gi往往/d需要/v通过/p主板/gi总线/n、/w以太网/gi或/c光纤/n通信/gi。/w因此/c，/w多/a个/q单核/ncpu/gi运行/gi多/a线/n程程序/nz时/qt，/w由于/p每个/r线程/gi需要/v独立/a运行/gi在/p一个/mqcpu/gi上/f，/w则/d线/n程间/nz通信/gi开销/n较大/d。/w2/nz）/w从/p布线/gp的/ude1角度/n，/w每个/rcpu/gi都/d有/vyou独立/a的/ude1cache/gi、/w主存/gi和/cc支持/v电路/gi，/w因此/c主板/gi布线/gp难度/n较大/d。/w而/cc多核/nzcpu/gi对/p主板/gi空间/n的/ude1占用/v较小/d，/w布线/gp压力/n较小/d。/w目前/t大部分/n主板/gi仅/d支持/v单/bcpu/gi，/w一般/ad商用/b机器/gi多/a采用/v多/a核单/nzcpu/gi的/ude1架构/gi，/w系统/gi具有/v多/a个/q逻辑/n核心/n，/w而/cc少数/mq高端/nz机器/gi和/cc分布式系统/gi需要/v更/d强/a的/ude1多任务/n并行计算/gi能力/gi，/w会/v采用/v多/acpu/gi架构/gi。/w3/nz）/w从/p程序设计/gi的/ude1角度/n，/w多核/nzcpu/gi可以/v通过/p软件/gi封装/gi被/pbei普通用户/nz视为/v一个/mq处理器/gi，/w原来/d在/p单机/n上/f运行/gi的/ude1程序/gi不用/d更改/gi就/d能/v执行/v，/w可以/v提高/vpc/nz的/ude1计算/gi能力/gi而/cc不/d增加/v程序/gi的/ude1复杂性/gi。/w而/cc多/acpu/gi由于/p存在/vcpu/gi间/f的/ude1数据/gi一致性/gi、/w主从关系/l控制/vn等/udeng，/w导致/gi程序实现/i、/w调试/gi和/cc运行/gi的/ude1复杂性/gi较高/ad。/w4/nz）/w从/p程序运行/n的/ude1角度/n，/w多/acpu/gi运行/gi时/qt线程/gi间/f的/ude1协作/gi需要/v通过/p网络/gi或/c主板/gi总线/n完成/v，/w效率/gi较低/d从而/c影响/gi总体/n性能/gi，/w而/cc多核/nzcpu/gi可以/v通过/p共享/gi的/ude1cache/gi和/cc主存/gi完成/v，/w协同/vd效率/gi更高/d。/w然而/c在/p同时/c运行/gi多/a个/q大型/b程序/gi时/qt，/w多/a个/q进程/gi会分/n时/qt使用/gi多/a核/ncpu/gi，/w程序/gi切换/vn开销/n较大/d。/w5/nz）/w从/p使用/gi范围/n的/ude1角度/n，/w多/acpu/gi常见于/v分布式系统/gi，/w多/a用于/vcluster/gi，/w云计算平台/gi等/udeng，/w该/rz架构/gi简单/a清晰/a，/w可以/v用/p商用机/nz做/v数量/n堆叠/v，/w具有/v成本/n优势/gi，/w适用/vi于/p大/a计算/gi量/n和/cc对/p速度/n时间/gi不/d敏感/gi的/ude1任务/gi，/w最大/gm的/ude1瓶颈/gi在于/vi/nz//nzo/nz，/w尤其/d是/vshi多/a个/qcpu/gi之间/f的/ude1通信/gi和/cc协同/vd，/w效率/gi较低/d。/w而/cc多核/nzcpu/gi架构/gi适用/vi于/p对/pi/nz//nzo/nz速度/n要求/n较高/ad的/ude1应用/gi，/w成本/n较高/ad。/w（/w6/nz）/w关于/pcpu/gi与/ccgpu/gi。/wcpu/gi为/p中央处理器/gi，/wcpu/gi为/p图形/gi处理器/gi。/w两者/rzv都/d有/vyou总线/n与/cc外界/n联系/gi，/w有/vyou自己/rr的/ude1数字/gi逻辑运算/gm单元/n和/cc缓存/gi体系/gi，/w都/d是/vshi为/p完成/v计算/gi任务/gi而/cc设计/gi。/w二者/rzv的/ude1区别/gi主要/b表现/v为/p：/w1/nz）/w从/p功能/gi和/cc原理/gi来看/u，/wcpu/gi主要/b用于/v管理/gi硬件/gi和/cc保证/v操作系统/gi及/cc应用程序/nz的/ude1运行/gi，/w包含/v运算/gi单元/n、/w控制/vn单元/n和缓/a存/v等/udeng，/w其/rz能够/v处理/vn显示/gi数据/gi但/c效率/gi较低/d。/wgpu/gi是/vshi一种/nz特殊/a用途/n的/ude1cpu/gi，/w为/p加速/gi视频/gi游戏/gi和/cc显示/gi而/cc设计/gi的/ude1。/w在/p三维游戏/nz和/cc显示/gi中/f，/w往往/d需要/v对/p海量数据/gi执行/v相同/a的/ude1操作/gi，/w因此/cgpu/gi采用/v众/ag核结构/nz把/pba相同/a的/ude1指令/gi发送到/l所有/b核/n上/f，/w每个/r核/n采用/v不同/a的/ude1输入/v数据/gi执行/v相同/a的/ude1操作/gi，/w同时/c针对/gi3d/gi图形处理/l进行/vn专门/d的/ude1指令/gi集优化/nz和/cc硬件设计/gi。/w2/nz）/w从/p结构上/nz，/wcpu/gi的/ude1核数/nz比/pgpu/gi少/a，/w但/c其/rz每个/r核/n拥有/v足够/v大/a的/ude1缓存/gi和/cc数字/gi逻辑运算/gm单元/n，/w并/cc辅助/vn有/vyou很/d多/a加速/gi分支/n等/udeng复杂/a逻辑/n判断/gi的/ude1硬件/gi，/w因此/c擅长/v处理/vn具有/v复杂/a计算/gi步骤/gi和/cc数据/gi依赖/v的/ude1计算/gi任务/gi，/w而/ccgpu/gi的/ude1核数/nz很/d多/a，/w被/pbei称为/v众/ag核/n，/w但/c每个/r核/n比较简单/l，/w拥有/v的/ude1缓存/gi较少/ad，/w数字/gi逻辑运算/gm单元/n的/ude1数量/n也/d较少/ad，/w擅长/v对/p海量数据/gi执行/v相同/a的/ude1操作/gi，/w同时/cgpu/gi针对/gi视频/gi和/cc显示/gi任务/gi的/ude1特点/n进行/vn专门/d的/ude1指令/gi集优化/nz和/cc硬件设计/gi以/p加速/gi。/w3/nz）/w从/p程序设计/gi的/ude1角度看/v，/w为/pcpu/gi编写程序/n时/qt，/w往往/d倾向/n于/p利用/v复杂/a的/ude1逻辑结构/gi优化/gi算法/gi，/w以/p减小/v计算/gi任务/gi的/ude1运行时间/gi，/w为/pgpu/gi编写程序/n时/qt，/w则/d会/v利用/v其/rz数据/gi计算/gi能力/gi的/ude1优势/gi，/w通过/p提高/v数据/gi吞吐量/gi来/vf减小/v计算/gi任务/gi的/ude1运行时间/gi。/w由于/pgpu/gi中/f蕴含/v大量/m的/ude1计算/gi能力/gi，/w目前/t已经/d开始/v将/d其/rz用于/v通用/gi计算/gi，/w即/vgpgpu/nz，/w例如/vcuda/nz，/wopencl/nz等/udeng。/w