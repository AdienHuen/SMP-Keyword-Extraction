#IaaS/gi私有云/nz数据中心/gi系统设计-罗逸秀/nz（/wIaaS /nz云数据中心/gi）/w
iaas/gi私有云/nz数据中心/gi将/d逐步/d替代/v原有/v形态/n的/ude1企业/gi数据中心/gi，/w为/p企业/gi日常/bit/gi等/udeng业务/gi运营/gi环境/n提供/v更加/d强有力/bl的/ude1支持/v。/wiaas/gi私有云/nz数据中心/gi系统设计/gi文/ng//nz罗逸秀/nz当前/t云计算/gi产业/gi正在/d如火如荼/al的/ude1发展/gi，/w大型/b互联网/gi运营商/gi如/v阿里/nrf、/w百度/ntc等/udeng都/d已经/d提供/v了/ule公有云/gi业务/gi，/w专门/d服务于/v中小型/b企业/gi，/w为/p其/rz提供/v基础/giit/gi建设/gi与/cc维护/gi服务/gi。/w而/cc对/p部分/n大型/b企业/gi和/cc安全性/gi有/vyou较高/ad要求/n的/ude1用户/gi来说/uls，/w私有云/nz则/d成为/v其/rz自身/rrit/gi建设/gi的/ude1首选/vn。/w在/p云计算/gi的/ude1三个/nz层面/n中/f，/w上层/f架构/gi的/ude1paas/gi与/ccsaas/gi要求/n更加/d贴合/nz企业/gi自身/rr的/ude1业务/gi系统/gi特征/gi，/w因此/c系统设计/gi更加/d注重/v个性化/gi和/cc独立化/i部署/gi。/w而/cc底层/n的/ude1iaas/gi结构/gi则/d具有/v更高/d的/ude1通用性/n与/cc普适性/nz，/w可以/v在/p大多/d数/n云计算/gi数据中心/gi中/f部署/gi，/w为/p企业/gi提供/v灵活/a的/ude1业务/gi部署/gi环境/n。/w本文/r将/d重点/n阐述/viaas/gi私有云/nz数据中心/gi较为/d常见/a的/ude1基础/gi系统设计/gi结构/gi。/w1./nz iaas/nz私有云/nz数据中心/gi整体/n系统结构/gi从/p架构/gi上/f来看/u，/wiaas/gi私有云/nz数据中心/gi主要/b由/p7/nz个/q部分/n组成/gi：/w?/nz /x计算/gi虚拟化/gi资源/gi；/w?/nz /x共享/gi存储资源/n；/w?/nz /x融合/v网络/gi资源/gi；/w?/nz /x安全/gi防护/gi资源/gi；/w?/nz /x应用/gi优化/gi资源/gi；/w?/nz /x统一/vn管理/gi平台/gi；/w?/nz /x使用/gi交付/v平台/gi。/w图/gi1./nz iaas/nz私有云/nz数据中心/gi整体/n系统架构/gi如/v图/gi1/nz所示/nz，/w计算/gi虚拟化/gi资源/gi与/cc共享/gi存储资源/n提供/v了/ule云计算/gi中/f最为/d基础/gi的/ude1计算/gi与/cc存储系统/gi，/w安全/gi防护/gi资源/gi与/cc应用/gi优化/gi资源/gi提供/v了/ule安全/gi优化/gi的/ude1附加增/nz服务/gi，/w统一/vn管理/gi平台/gi和/cc使用/gi交付/v平台/gi为/p外部/f的/ude1用户/gi与/cc管理员/gi提供/v了/ule云计算/gi资源/gi管理/gi使用/gi的/ude1入口/n，/w融合/v网络/gi资源/gi通过/p连接/gi整合/gi将/d上述/b6/nz个/q部分/n紧密结合/nz在/p一起/s，/w使/v云计算/gi资源/gi能够/v作为/p一个/mq真正/d的/ude1整体/n对外/vn提供/viaas/gi服务/gi。/w2./nz /x计算/gi虚拟化/gi系统设计/gi为了/p使/v大量/m的/ude1服务器资源/nz能够/v集成/vn在/p一起/s，/w统一/vn对外/vn提供/v计算/gi服务/gi，/w必需/vi部署/gi软件/gi的/ude1虚拟化系统/gi来/vf整合/gi成云/nz。/w因此/c在/piaas/gi私有云/nz数据中心/gi内/f，/w服务器虚拟化/gi软件平台/l是/vshi该/rz系统/gi最为/d核心/n的/ude1组成/gi内容/gi。/w虚拟化/gi软件平台/l通常/d分为/v虚拟化/gi业务/gi平台/gi和/cc管理/gi平台/gi两/nz个/q部分/n，/w业务/gi平台/gi部署/gi在/p大量/m的/ude1物理/n服务器/gi计算/gi资源/gi上/f，/w实现/gi计算/gi资源/gi一/nz虚/a多/a的/ude1虚拟化/gi业务/gi需求/gi；/w而/cc管理/gi平台/gi则/d通常/d会/v部署/gi在/p统一/vn管理/gi平台/gi组件/gi内部/f，/w对/p业务/gi平台/gi所在/n物理/n服务器/gi计算/gi资源/gi进行/vn统一/vn调度/vn部署/gi。/w服务器虚拟化/gi平台/gi主要/b提供/v分区/gi、/w隔离/vn、/w封装/gi和/cc迁移/gi4/nz个/q关键/n特性/gi。/w?/nz /x分区/gi：/w在/p单一/gi物理/n服务器/gi上/f同时/c运行/gi多/a个/q虚拟机/gi。/w?/nz /x隔离/vn：/w在/p同一/b服务器/gi上/f的/ude1虚拟机/gi之间/f相互/d隔离/vn。/w?/nz /x封装/gi：/w整个/b虚拟机/gi都保/nz存在/v文件/gi中/f，/w而且/c可以/v通过/p移动/vn和/cc复制/gi这些/rz文件/gi的/ude1方式/n来/vf移动/vn和/cc复制/gi该/rz虚拟机/gi。/w?/nz /x迁移/gi：/w运行/gi中的/vvm/nz可实现/nz动态/gi迁移/gi到/v不同/a物理机/nz的/ude1虚拟/gi平台/gi上/f。/w目前/tiaas/gi数据中心/gi的/ude1虚拟化/gi业务/gi平台/gi有/vyouesx/nz//nzesxi/nz、/whyper/nz-/nzv/nz、/wxen/nz和/cckvm/nz四大/n主流/gi软件产品/gi。/w其中/rzesx/nz//nzesxi/nz是/vshivmware/gi公司/nis的/ude1私有/gi技术/gi平台/gi，/whyper/nz-/nzv/nz是/vshimicrosoft/nz公司/nis的/ude1私有/gi技术/gi平台/gi。/w而/ccxen/nz和/cckvm/nz则/d是/vshi两/nz款/q主流/gi开源/gi虚拟化/gi平台/gi，/w有/vyou诸/rz多/a厂商/gi（/w如/vcitrix/gi、/wredhat/nz、/wamazon/nz等/udeng）/w的/ude1虚拟化/gi平台/gi产品/gi都/d是/vshi基于/p这/rzv两/nz款/q开源平台/gi修改/gi实现/gi的/ude1。/wh/nz3/nzc cas/nz系统/gi也/d是/vshi基于/pkvm/nz平台/gi实现/gi的/ude1服务器虚拟化/gi功能/gi。/w从/p基本功能/nz支持/v与/cc性能/gi可靠性/gi上/f比较/gi，/w上述/b四款/nz平台/gi的/ude1差别/n不大/d。/w相对来说/nz，/wxen/nz和/cckvm/nz由于/p属于/v开源平台/gi项目/gi，/w更加/d符合/v目前/t软件/gi行业/gi趋于/v开源/gi的/ude1整体/n发展方向/gi，/w在/piaas/gi私有云/nz和/cc公有云/gi数据中心/gi建设/gi部署/gi时/qt被/pbei选用/v的/ude1也/d相对/d更多/ad。/w其中/rzxen/nz是/vshi2002/nz年/qt发布/gi的/ude1早期/f虚拟化/gi平台/gi，/wkvm/nz是/vshi2007/nz年/qt发布/gi的/ude1新一代/nz虚拟化/gi平台/gi，/w xen/nz在/p已有/v数据中心/gi项目/gi应用/gi较多/d，/w kvm/nz则/d由于/p其/rz结构/gi精简/v，/w且/c与/cclinux/gi内核/gi结合/v的/ude1更加/d紧密/ad，/w在/p近些年/t新建/v的/ude1iaas/gi数据中心/gi中/f更/d受欢迎/nz，/w大/a有/vyou后来居上/vl的/ude1趋势/gi。/w图/gi2./nz kvm/nz虚拟化/gi平台/gi结构/gi以/pkvm/nz为/p例/n简单/a分析/gi虚拟化/gi平台/gi的/ude1结构/gi与/cc运行机制/nz。/w如/v图/gi2/nz所示/nz，/w最底层/n为/p物理/n服务器/gi的/ude1硬件平台/lplatform/nz，/w其/rz上/f运行/gi的/ude1是/vshi虚拟化/gi业务/gi处理/vn平台/gihypervisor/gi层/gi，/w最/d上面/f是/vshi运行/gi的/ude1虚拟服务器/giguestos/nz，/wguest os/nz会/v安装/gi主流/gi的/ude1windows server/nz或/clinux/gi等/udeng操作系统/gi，/w所有/b的/ude1数据中心/gi业务/gi应用/giapps/nz都/d是/vshi运行/gi在/p虚拟服务器/gi的/ude1操作系统/gi中/f。/w当/p业务/gi应用/gi下发/v某个/rzcpu/gi计算/gi、/w数据/gi读写/gi或/c网络/gi收发/vn报文/n等/udeng任务/gi时/qt，/wkvm/nz平台/gi会/v首先/d将/dguest os/nz发出/v的/ude1请求/gi通过/pkvm/nz-/nzqemu/nz进行/vn指令/gi转换/gi，/w然后/c再/d发给/vhypervisor/gi层/gi上/f的/ude1硬件/gi驱动程序/gidriver/nz，/w最后/f由/p驱动/gi通知/gi硬件平台/l执行/v完成/v任务/gi。/w当/p不同/a的/ude1guest os/nz同时/c下发/v任务/gi指令/gi时/qt，/w由/phypervisor/gi进行/vn任务调度/gi，/w整合/gi处理/vn。/w3./nz /x共享/gi存储/gi系统设计/gi在/piaas/gi数据中心/gi内部/f，/w除了/p使用/gi虚拟化/gi平台/gi对/p物理/n服务器/gi计算/gi资源/gi进行/vn整合/gi以外/f，/w还/d需要/v对/p存储资源/n进行/vn集中处理/l，/w以/p达到/v数据/gi级别/n的/ude1资源整合/nz。/w存储系统/gi实现/gi上有/v很/d多/a技术/gi分类/gi，/w根据/p服务/gi规模/gi要求/n，/w在/piaas/gi私有云/nz数据中心/gi内/f主要/b使用/giip san/nz或/cfc san/nz作为/p共享/gi存储系统/gi提供数据/n存储/gi服务/gi。/wip san/nz通常/d针对/gi数据/gi规模/gi较小/d，/wiops/nz（/w每秒/di/nz//nzo/nz吞吐/vn）/w要求/n较低/d的/ude1场景/gi使用/gi，/w投资/vn成本/n相对/d降低/v。/wfc san/nz则/d针对/gi大型/b数据/gi规模/gi或/c高/aiops/nz要求/n的/ude1场景/gi使用/gi，/w系统/gi搭建/v消耗/gi较高/ad。/w近些年/t随着/pfcoe/nz技术/gi的/ude1发展/gi，/w这种/r兼具/v了/uleip/gi网络带宽/gi优势/gi与/ccfc/nz存储/gi高/aiops/nz特点/n的/ude1融合/v型/k存储系统/gi开始/v受到/v关注/v，/w但/c由于/p厂商/gi产品/gi还/d不够/a成熟/a，/w大规模/b部署/gi实现/gi还/d需要/v一定/b的/ude1时间/gi。/w几/d种/q主流/gi的/ude1存储系统/gi进行/vn架构/gi比较/gi如/v图/gi3/nz所示/nz。/w图/gi3./nz /x主流/gi存储系统/gi比较/gi存储系统/gi整合/gi后/f，/w可以/v通过/p专业/n的/ude1软件平台/l为/p服务器/gi集群/gi提供/v数据共享/gi服务/gi。/w共享/gi存储/gi平台/gi产品/gi分为/v两/nz大类/n，/w其中/rz绝大/nz部分/n是/vshi由/p存储设备/nz厂商/gi根据/p自身/rr产品/gi特性/gi设计/gi提供/v，/w主要/b在/p自己/rr的/ude1产品/gi上/f使用/gi，/w如/vemc/gi、/wibm/nz、/wnetapp/nz和/cchitachi/nz等/udeng。/w另外/c一/nz部分/n是/vshi由/p专业/n的/ude1软件厂商/nz设计/gi，/w通过/p增加/v一层/nz数据/gi管理/gi平台/gi架构/gi，/w可以/v在/p绝大/nz部分/n存储/gi产品/gi上/f使用/gi，/w如/vsymantec/nz的/ude1veritas/nz等/udeng。/w具体/a选择/gi取决于/v决策者/nnd更加/d看重/v数据中心/gi存储管理/gi的/ude1运维/gi简化/gi还是/c兼容/vi异构/gi。/w得一提/nz的/ude1是/vshi，/w在/p近几年/qt，/w随着/p服务器/gi计算/gi能力/gi和/cc网络/gi传输/gi带宽/n的/ude1极大/a提升/gi，/w整个/b业务/gi系统/gi的/ude1性能/gi瓶颈/gi开始/v向/p存储设备/nz上/f转移/v，/w如上/b介绍/gi的/ude1传统/n集中式/n存储/gi受到/v带宽/n和/cci/nz//nzo/nz吞吐/vn等/udeng硬件/gi条件/n限制/vn，/w发展/gi已/d现/tg颓势/n。/w新兴/gi的/ude1分布式/gi存储技术/nz正在/d逐步/d走进/v大众/ntc的/ude1视野/n，/w该/rz技术/gi将/d原有/v单一/gi磁盘阵列/gi中的/v存储资源/n分散/a到/v大量/m低成本/nz的/ude1服务器/gi中/f，/w通过/p软件/gi方式/n进行/vn数据/gi读写/gi调度/vn，/w并/cc提供数据/n冗余/n。/w代表/nnt技术/gi如/vgoogle/nz的/ude1gfs/nz和/cchadoop/gi的/ude1hdfs/gi等/udeng，/w都/d已经/d拥有/v一定/b的/ude1使用/gi规模/gi。/w一/nz些/q专业/n厂商/gi也/d已经/d推出/v了/ule适用/vi于/p小型/b应用/gi业务/gi的/ude1产品/gi，/w但/c由于/p相对于/nz传统/n集中式/n存储技术/nz成熟度/gi较低/d，/w还/d需要/v时间/gi成长/gi。/w4./nz /x融合/v网络/gi系统设计/gi如果/c将/diaas/gi私有云/nz数据中心/gi比作/v为/p人体/gi，/w计算/gi资源/gi就/d好像/v心脏/n，/w网络/gi系统/gi则/d是/vshi遍布/v全身/n的/ude1血管/n。/w再/d强健/a有力/a的/ude1心脏/n，/w如果/c没有/v繁茂/a通畅/an的/ude1血管/n，/w也/d无法/v将/d能量/n发挥出来/l，/w整个/b人/n也/d谈不上/v健康/a精神/gi了/ule。/w在/piaas/gi数据中心/gi内/f，/w网络/gi系统/gi将/d其他/rzv组件/gi联通/v在/p一起/s，/w使/v所有/b系统/gi密切/ad结合/v为/p一个/mq整体/n。/w如/v图/gi4/nz所示/nz，/w在/p数据中心/gi内部/f，/w根据/p位置/gi和/cc连接/gi资源/gi的/ude1不同/a，/w网络/gi系统/gi通常/d可以/v分为/v五个/nz部分/n。/w?/nz /x接入/vn网络/gi：/w服务器/gi到/v接入/vn设备/gi之间/f。/w?/nz /x后端/f网络/gi：/w服务器/gi到/v存储设备/nz之间/f。/w?/nz /x前端/gi网络/gi：/w接入/vn设备/gi到/v核心/n设备/gi之间/f。/w?/nz /x互/d连/ulian网络/gi：/w数据中心/gi之间/f互/d连/ulian部分/n。/w?/nz /x边缘/n网络/gi：/w数据中心/gi与/cc外部/f网络/gi互/d连/ulian部分/n。/w图/gi4./nz iaas/nz数据中心/gi网络/gi系统结构/gil /nz接入/vn网络/gi接入/vn网络/gi主要/b用于/v连接/gi物理/n服务器/gi与/cc接入/vn层/gi设备/gi，/w在/piaas/gi私有云/nz中/f，/w由于/p大量/m虚拟化技术/gi的/ude1应用/gi，/w对/p接入/vn网络/gi的/ude1挑战/gi从/p传统/n的/ude1物理/n服务器/gi间/f流量/gi传输/gi变化/gi为/p如何/ryv更好/d的/ude1承载/v虚拟机/gi之间/f的/ude1流量/gi。/w从/p技术/gi思路/gi上/f来说/uls，/w目前/t主要/b有/vyou两/nz个/q发展方向/gi，/w一/nz是/vshi由/p虚拟化/gi软件厂商/nz主导/n的/ude1将/d流量/gi处理/vn工作/gi都/d交由/v物理/n服务器/gi的/ude1虚拟/gi交换机/givswitch/nz完成/v，/w同一/b物理/n服务器/gi内部/f虚拟机/gi交互/gi流量/gi由/pvswitch/nz本地/gi转发/gi，/w不同/a物理/n服务器/gi的/ude1虚拟机/gi通信/gi时/qt通过/p在/pvswitch/nz之间/f建立/gi隧道/n技术/gi完成/v，/w无需/v关心/v中间/f物理/n网络/gi的/ude1连接/gi方式/n，/w此类/r方案/gi代表/nnt技术/gi如/vvxlan/gi、/wnvp/nz等/udeng；/w另一个/nz方向/gi由/p网络/gi厂商/gi主导/n的/ude1将/d网络流量/nz处理/vn仍然/d交给/v网络设备/gi完成/v，/w服务器/gi内部/f不/d对/p虚拟机/gi的/ude1流量/gi进行/vn细分/gi控制/vn，/w由/p接入/vn层/gi网络设备/gi在/p连接/gi服务器/gi的/ude1物理/n接口/gi下/f建立/gi对应/vi虚拟机/gi的/ude1虚拟/gi接口/gi，/w从而/c达到/v精细化/n流量/gi控制/vn的/ude1目的/gi，/w代表/nnt技术/gi如/vieee/nz的/ude1802.1/nzbr/nz和/cc802.1/nzqbg/nz。/w进行/vn接入/vn网络/gi系统/gi架构设计/nz时/qt，/w对/p技术/gi的/ude1选择/gi主要/b依据/n服务器资源/nz与/cc网络/gi资源/gi投入/v情况/n。/wvswitch/nz处理方式/n明显/a会/v加剧/v服务器/gi的/ude1计算/gi资源/gi消耗/gi，/w如果/c所有/b服务器/gi的/ude1性能/gi都/d足够/v强大/a，/w且/c虚拟化/gi之后/f都会/n预留/v较多/d计算/gi资源/gi供/vivswitch/nz做/v任务处理/nz，/w则/d可以/v选择/gi使用/givswitch/nz处理/vn流量/gi的/ude1方案/gi。/w如果/c希望/v将/d更多/ad的/ude1计算/gi资源/gi用于/v虚拟化/gi后/f的/ude1业务/gi处理/vn，/w则/d可以/v考虑/v将/d虚拟机/gi流量/gi放到/v接入/vn设备/gi上/f处理/vn的/ude1方案/gi，/w即/v仍/d由/p网络设备/gi处理/vn网络/gi的/ude1任务/gi。/wl /nz后端/f网络/gi后端/f网络/gi主要/b用于/v连接/gi服务器资源/nz与/cc存储资源/n，/w可选/v方式/n以/pfc/nz//nzip/gi//nzfcoe/nz几/d种/q为主/vi，/w设计原则/gi依据/n存储资源/n的/ude1类型/gi选择/gi，/w前文/n共享/gi存储/gi设计/gi中/f有/vyou过/uguo说明/v，/w此处/s不再/d赘述/vi。/w得一提/nz的/ude1是/vshifcoe/nz网络/gi由于/p可以/v与/cc接入/vn网络/gi融合/v，/w从/p整体/n结构上/nz可以/v简化/gi网络/gi设计/gi与/cc降低/v投资/vn，/w同时/c能够/v兼容/vifc/nz存储资源/n，/w所以/c在/p最/d近几年/qt的/ude1发展/gi中/f越来越/d被/pbei看好/v。/wl /nz前端/gi网络/gi根据/p数据中心/gi的/ude1计算/gi资源/gi规模/gi大小/n，/w前端/gi网络/gi可以/v选择/gi采用/v二层/nz或/c三层/nz架构设计/nz。/w如/v接入/vn层/gi设备/gi采用/v1/nz:/w40/nz的/ude1服务器/gi接入/vn比例/n，/w所有/b服务器/gi都/d使用/gi双/q上行/vi到/v两台/nz接入/vn层/gi设备/gi实现/gi冗余/n，/w几/d种/q常见/a接入/vn层/gi到/v核心层/n网络/gi结构/gi对应/vi规模/gi如下/vi：/w?/nz /x使用/gi传统/n二层/nzmstp/nz设计/gi，/w网络/gi节点/gi规模/gi在/p50/nz以下/f，/w服务器资源/nz需要/v小于/v1000/nz台/q(/nz50/nz*/nz40/nz//nz2/nz)/nz；/w?/nz /x使用/gi三层/nzospf/nz设计/gi，/w网络/gi节点/gi规模/gi可以/v支持/v200/nz左右/f，/w服务器资源/nz达到/v4000/nz台/q；/w?/nz /x使用/gi大/a二层/nz如/vtrill/nz设计/gi，/w网络/gi节点/gi规模/gi理论上/nz可以/v达到/v500/nz以上/f，/w对应/vi服务器资源/nz规模/gi能够/v支持/v到/v10000/nz台/q。/w上述/b计算/gi都/d是/vshi理想/n情况下/nz的/ude1结果/n，/w实际/n部署/gi时/qt考虑到/v带宽/n和/cc管理/gi等/udeng其他/rzv因素/gi，/w对应/vi支持/v的/ude1服务器资源/nz规模/gi还要/d更少/d一/nz些/q。/w此外/c，/w较/d新的/asdn/gi（/w软件定义网络/gi）/w技术/gi如/vopenflow/gi等/udeng，/w原理/gi上将/nnt控制/vn层面/n与/cc转发/gi层面/n分离/vi，/w网络/gi节点/gi只/d处理/vn转发/gi任务/gi，/w所有/b的/ude1路径/gi计算/gi与/cc管理/gi都/d由/p独立/a的/ude1控制器/n设备/gi完成/v。/w此类/r技术/gi理论上/nz都/d是/vshi支持/v无限大/n的/ude1网络/gi与/cc计算/gi资源/gi规模/gi，/w实际/n部署/gi时/qt只/d受限于/l控制器/n软件/gi所在/n的/ude1硬件/gi（/w如/v服务器/gi）/w处理/vn能力/gi。/w但/c由于/psdn/gi技术/gi相对/d不够/a成熟/a，/w真正/d的/ude1达到/v大规模/b实施/gi还/d需要/v一定/b时间/gi。/wl /nz互/d连/ulian网络/gi受/v场地/n供电/gi等/udeng限制/vn以及/cc不同/a地理位置/gg用户/gi就近/d接入/vn的/ude1需求/gi，/w在/p扩大/v云计算/gi规模/gi时/qt，/wiaas/gi私有云/nz中/f多/a地/ude2部署/gi数据中心/gi站点/gi已经/d是/vshi很/d常见/a的/ude1建设/gi方式/n，/w尤其/d像/v一/nz些/q超大型/b全球/gi企业/gi，/w其/rz私有云/nz数据中心/gi势必/d需要/v多/a点/gi开花/vi，/w以/p支撑/v其/rz遍布/v世界各地/nz的/ude1分支/n使用/gi。/w互/d连/ulian网络/gi需要/v根据/p站点/gi的/ude1地理/n距离/gi以及/cc通信/gi需求/gi选择/gi合适/a的/ude1网络技术/gi进行/vn搭建/v。/w现有/v技术/gi主要/b是/vshi以/p搭建/v隧道/n为主/vi，/w如/v二层/nz隧道/nvpls/nz//nzotv/nz//nzevi/nz，/w三层/nz隧道/nmpls/nz//nzgre/nz等/udeng。/w这些/rz技术/gi都/d是/vshi来自/v网络/gi厂商/gi，/w通过/p数据中心/gi互/d连/ulian边缘/n的/ude1网络设备/gi实现/gi。/w但/c在/p计算/gi资源/gi虚拟化/gi的/ude1发展/gi下/f，/w软件厂商/nz更加/d倾向/n于/p引导/v使用/gi前面/f提到/v的/ude1vswitch/nz之间/f建立/gi的/ude1隧道/n如/vvxlan/gi//nznvp/nz等/udeng，/w好处/gi是/vshi对/p中间/f网络/gi没有/v特殊/a需求/gi，/w只要/c能够/v保证/v服务器/gi的/ude1vswitch/nz间/fip/gi层/gi能够/v实现/gi通信/gi即可/v，/w无论是/c数据中心/gi内部/f的/ude1前端/gi网络/gi还是/c站点/gi之间/f的/ude1互/d连/ulian网络/gi，/w只需/v提供/v最/d基本/a的/ude1ip/gi通信/gi，/w对/p网络/gi的/ude1依赖性/n降到/v最低/a。/w该/rz方案/gi仍然/d是/vshi将/d隧道/n的/ude1建立/gi维护/gi工作/gi都/d放到/v了/ule服务器/gi内部/f，/w虽然/c降低/v了/ule网络/gi资源/gi的/ude1需求/gi与/cc投资/vn，/w但/c增加/v了/ule对/p计算/gi资源/gi软硬件/gi的/ude1需求/gi及/cc相应/vi投资/vn成本/n。/wl /nz边缘/n网络/gi边缘/n网络/gi用于/v企业/gi用户/gi的/ude1接入/vn使用/gi，/w由于/piaas/gi私有云/nz的/ude1用户群/n主要/b为/p企业/gi内部/f雇员/nnt，/w因此/c接入/vn方式/n以/p专线/n为主/vi，/w相对来说/nz此/rzs部分/n技术/gi较为简单/z，/w只/d需要/v规划/gi好/a接入/vn办公/gi地点/n与/cc数据中心/gi之间/f的/ude1路由/gi即可/v。/w但/c随着/p目前/t移动/vn办公/gi的/ude1需求/gi，/w互联网/gi也/d成为/v私有云/nz必不可少/vl的/ude1接入/vn方式/n。/w考虑到/v企业/gi私有云/nz的/ude1安全性/gi，/w因此/c必须/d使用/gi一/nz些/q隧道/n技术/gi对/p通过/p互联网/gi接入/vn的/ude1企业/gi用户/gi进行/vn识别/gi与/cc保护/gi。/w如/v中小型/b办公/gi分支/n通常/d使用/gigre/nz//nzipsec/gi结合/v的/ude1手段/n接入/vn到/v私有云/nz中/f，/w而/cc单独/d的/ude1移动用户/nz更多/ad的/ude1使用/gissl vpn/nz方式/n接入/vn。/wiaas/gi私有云/nz还/d需要/v为/p业务/gi提供/v统一/vn的/ude1portal/nz访问/gi门户/n以/p集中/v进行/vn交付使用/v，/w具体/a见下文/nz将要/d介绍/gi的/ude1使用/gi交付/v系统/gi。/w5./nz /x安全/gi防护/gi系统设计/gi安全/gi在/p云计算/gi环境/n中/f更加/d重要/a。/wiaas/gi私有云/nz数据中心/gi系统设计/gi时/qt，/w要/v分四/nz个/q方面/n来/vf考虑/v安全/gi防护/gi系统设计/gi（/w如/v图/gi5/nz所示/nz）/w。/w图/gi5./nz iaas/nz私有云/nz数据中心/gi安全/gi防护系统/ll /nz接入/vn防护/gi由于/piaas/gi私有云/nz数据中心/gi是/vshi需要/v为/p终端用户/gi提供/v业务/gi服务/gi，/w首先/d需要/v对/p接入/vn用户/gi进行/vn安全/gi防护/gi。/w一/nz是/vshi接入/vn身份/n安全/gi，/w通过/pssl vpn/nz//nzipsec vpn/nz//nzportal/nz等/udeng手段/n对/p用户/gi身份/n进行/vn辨识/v确认/v，/w并/cc分配/gi访问/gi权限/gi；/w二是/nz接入/vn设备/gi安全/gi，/w通过/p客户端/gi代理/gi程序/gi等/udeng手段/n对/p用户/gi使用/gi的/ude1接入/vn设备/gi进行/vn安全/gi判断/gi，/w以/p防止/gi存在/v木马病毒/nz或/c不/d合规/nz软件/gi操作/gi等/udeng问题/gi。/w随着/p终端/gi技术/gi的/ude1发展/gi，/w接入/vn终端/gi已经/d不再/d局限于/v传统/n的/ude1个人电脑/gi，/w智能/gipad/nz和/ccphone/nz等/udeng都/d成为/v用户/gi常用工具/nz，/w因此/cbyod/nz（/wbring your own device/nz）/w解决方案/gi也/d应运而生/vl。/w从/p技术/gi角度/n分析/gi，/w接入/vn安全/gi技术/gi主要/b分为/v预装/v方式/n与/cc随装/nz方式/n两/nz种/q，/w预装/v指/v在/p接入/vn终端/gi上/f提前/vd安装/gi专门/d的/ude1客户端/gi软件/gi，/w集/q接入/vn身份/n认证/gi与/cc程序/gi代理/gi检查/gi功能/gi于/p一身/n，/w在/p用户/gi需要/v连接/gi私有云/nz时/qt运行/gi，/w属于/v传统/n的/ude1cs/gi（/wclient/nz-/nzserver/gi）/w结构/gi。/w随装/nz方式/n通常/d是/vshibs/nz（/wbrowser/nz-/nzserver/gi）/w结构/gi，/w一般/ad通过/p浏览器/gi实现/giweb/gi登录/gi进行/vn身份/n认证/gi，/w当/p认证/gi通过/p后会/n自动/d或/c手动/b下载/gi一段/nz代理/gi程序/gi到/v终端/gi上/f，/w对/p运行/gi环境/n进行/vn安全检查/gi，/w符合/v规则/gi才/d允许/v接入/vn。/w当/p用户/gi访问/gi业务/gi应用/gi时/qt，/w代理/gi程序/gi会/v一直/d在/p后台/gi运行/gi，/w监控/gi环境/n与/cc用户/gi行为/n，/w直到/v用户/gi退出/gi访问/gi，/w自动/d终止/v运行/gi并/cc卸载/gi。/wl /nz网络/gi防护/gi网络/gi防护/gi指/v数据中心/gi内部/f网络/gi中/f提供/v的/ude1流量/gi安全/gi防护/gi手段/n，/w技术/gi上/f通常/d是/vshi通过/p读取/gi流量/gi报/n文中/s的/ude1特定/b字段/gi，/w去/vf匹配/gi预设/v内容/gi，/w进而/c执行/v通过/p、/w删除/gi或/c统计/gi等/udeng动作/gi，/w针对/giosi模型/gil/nz2/nz-/nzl/nz7/nz可以/v提供/v不同/a层次/n的/ude1检测/gi防护/gi。/w由于/p数据报/gi文/ngl/nz2/nz-/nzl/nz4/nz的/ude1封装/gi报/n文头/nz内容/gi较为/d规范/gi，/w且/c种类/n较少/ad，/w因此/c交换机/gi和/cc路由器/gi等/udeng网络设备/gi可以/v使用/giasic/nz芯片/gi对/p相应/vi报/n文字/gi段/q进行/vn截取/v，/w解析/gi与/cc判断/gi处理/vn，/w即/v常用/a的/ude1acl/nz过滤/gi功能/gi。/w由于/pl/nz4/nz以上/f各/rz层/gi封装/gi内容/gi多种多样/bl，/w很难/d将/d大量/m的/ude1判断/gi工作/gi由/p简单/a的/ude1asic/nz完成/v，/w因此/c需要/v专门/d的/ude1防火墙/gi等/udeng安全设备/i使用/gicpu/gi进行/vn解析/gi处理/vn。/w而/cc病毒/gi漏洞/n等/udeng特征/gi代码/gi往往/d隐藏/v在/p报文/n的/ude1应用层/gi负载/gi中/f，/w所以/c相应/vi的/ude1工作/gi也/d需要/v更/d专业/n的/ude1如/vips/nz等/udeng安全设备/i来/vf识别/gi处理/vn。/w对/p网络/gi防护/gi安全/gi系统/gi进行/vn设计/gi时/qt，/w往往/d考虑/v的/ude1是/vshi需要/v提供/v何种/r级别/n的/ude1业务/gi安全/gi防护/gi，/w以及/cc对/p处理/vn性能/gi的/ude1要求/n。/w在/p网络/gi防护/gi层面/n，/w除了/p上述/b对/p业务/gi流量/gi数据报/gi文/ng的/ude1安全/gi防护/gi外/f，/w还/d需要/v考虑/v对/p网络通信/gi协议/gi层面/n的/ude1防护/gi设计/gi，/w如/vmac/gi防/v攻击/gi、/warp/gi防/v攻击/gi、/wip/gi防/v攻击/gi与/ccrip/nz//nzospf/nz等/udeng路由/gi协议/gi的/ude1认证/gi机制/gi。/w这些/rz功能/gi通常/d由/p网络设备/gi如/v路由器/gi和/cc交换机/gi等/udeng自身/rr具备/v并/cc部署/gi。/wl /nz虚拟化/gi防护/gi在/piaas/gi私有云/nz中/f，/w虚拟化系统/gi是/vshi计算/gi资源/gi必不可少/vl的/ude1部分/n，/w因此/c也/d需要/v考虑/v在/p虚拟化/gi方面/n进行/vn安全/gi防护/gi，/w但/c从/p技术/gi思路/gi上/f与/cc网络/gi防护/gi区别/gi不大/d，/w主要/b是/vshi以/p在/pvswitch/nz上/f部署/giacl/nz等/udeng安全策略/gi和/cc建立/gi虚拟/gi防火墙/givfw/nz如/vvmware/gi的/ude1vshield/gi为主/vi，/w和/cc前面/f提到/v的/ude1在/p物理/n网络设备/gi与/cc防火墙/gi//nzips/nz上/f是/vshi实现/gi的/ude1功能/gi大致/d相仿/vi。/w由于/p虚拟化/gi防护/gi需要/v额外/b占用/v较多/d的/ude1物理/n服务器/gi自身/rr计算/gi资源/gi，/w因此/c只有/c在/p服务器/gi硬件/gi性能/gi充足/a的/ude1情况下/nz建议/gi部署/gi。/w另外/c配合/v新兴/gi的/ude1ieee /nz802.1/nzqbg/nz和/cc802.1/nzbr/nz等/udeng标准协议/nz，/w可以/v将/d虚拟机/gi之间/f的/ude1流量/gi都/d牵引/vn到/v物理/n接入/vn交换机/gi上/f，/w此种/r方式/n可以/v解决/v虚拟/gi防火墙/gi占用/v服务器/gi性能/gi的/ude1问题/gi，/w但/c由于/p物理/n服务器/gi内部/f交互/gi流量/gi两/nz次/qv通过/p物理/n网卡/gi与/cc物理/n接入/vn交换机/gi之间/f的/ude1链路/gi，/w部署/gi时/qt需要/v保证/v拥有/v足够/v的/ude1网络带宽/gi余量/n。/wl /nz应用/gi防护/gi应用/gi防护/gi主要/b基于/p操作系统/gi层面/n，/w通过/p软件/gi防火墙/gi如/v360/nz、/w瑞星/gi等/udeng产品/gi或/c技术/gi基于/p应用/gi自身/rr进行/vn安全/gi防护/gi。/w在/piaas/gi私有云/nz中/f，/w由于/p数据中心/gi以/p提供/v底层/n虚拟服务器/gi环境/n为/p主要/b业务/gi，/w因此/c不/d需要/v做/v过多/d考虑/v，/w其/rz在/ppaas/gi和/ccsaas/gi云计算/gi服务/gi中/f更为/d关键/n。/w6./nz /x应用/gi优化/gi系统设计/giiaas/gi私有云/nz数据中心/gi内部/f，/w为了/p提供/v更好/d的/ude1业务/gi应用系统/gi访问/gi能力/gi，/w往往/d需要/v应用/gi优化/gi系统/gi，/w典型/n的/ude1应用/gi优化/gi系统/gi有/vyou应用/gi负载均衡/gi、/w链路/gi负载均衡/gi、/w全局/n负载均衡/gi和/cc应用/gi加速/gi等/udeng。/w这些/rz系统/gi可以/v是/vshi各自/rr独立/a的/ude1物理/n设备/gi，/w也/d能够/v以/p软件/gi授权/v的/ude1形式/gi部署/gi在/p同一/b套/q物理/n设备/gi上/f。/wl /nz应用/gi负载均衡/gi系统/gi应用/gi负载均衡/gi系统/gi提供/v对/p服务器/gi业务/gi访问/gi的/ude1负载均衡/gi能力/gi，/w原理/gi上/f通常/d使用/gi网络地址/gi转换/ginat/nz技术/gi，/w将/d多/a个/q实际/n的/ude1业务/gi系统/giip/gi地址/gi转换/gi为/p一个/mq虚拟/gi业务/giip/gi地址/gi对外部/nis提供/v业务/gi访问/gi。/w不同/a的/ude1用户/gi访问/gi到达/v时/qt，/w负载均衡/gi系统/gi会/v自动/d依据/n预设/v规则/gi（/w如/v轮转/vn、/w随机/b和/cc最小/a连接/gi等/udeng）/w，/w将/d这些/rz访问/gi请求/gi分发/v到/v不同/a的/ude1实际/n业务/gi系统/gi，/w达到/v资源/gi扩展/gi使用/gi的/ude1目的/gi。/w应用/gi负载均衡/gi系统/gi配合/v计算/gi资源/gi虚拟化/gi管理/gi平台/gi，/w还/d可以/v实现/gi弹性/n计算/gi智能/gi扩展/gi。/w即/v配置/gi虚拟化/gi管理/gi平台/gi与/cc负载均衡/gi系统/gi实现/gi联动/vn，/w当/p管理/gi平台/gi检测/gi到/v当前/t虚拟服务器/gi访问量/nz较大/d，/wcpu/gi或/c内存/gi等/udeng关键/n指标/gi运行/gi超过/v预设/v阀/n，/w则/d会/v自动/d创建/gi新的/a虚拟服务器/gi，/w并/cc通过/pdhcp/nz等/udeng技术/gi使用/gi不同/a的/ude1业务/gi访问/gi地址/gi。/w当/p新的/a虚拟服务器/gi启动/gi运行/gi后/f，/w管理/gi平台/gi会/v通知/gi负载均衡/gi系统/gi，/w将/d其/rz自动/d加入/v到/v现有/v的/ude1实际/n业务/gi系统/gi集群/gi中/f，/w新的/a访问/gi请求/gi可以/v被/pbei分配/gi到/v新建/v的/ude1虚拟服务器/gi上/f，/w从而/c降低/v原有/v实际/n业务/gi系统/gi的/ude1压力/n。/w当/p访问量/nz降低/v，/w虚拟机/gi的/ude1关键/n运行/gi指标/gi低于/v预设/v阀/n时/qt，/w管理/gi平台/gi可以/v通知/gi应用/gi负载均衡/gi系统/gi不要/d再/d分配/gi访问/gi请求/gi给/p一/nz些/q低/a负载/gi虚拟服务器/gi，/w并/cc当/p现有/v连接/gi处理/vn完成/v后/f关闭/gi这/rzv部分/n低/a负载/gi的/ude1虚拟服务器/gi，/w以/p达到/v节省/v能耗/n的/ude1效果/gi。/w应用/gi负载均衡/gi系统/gi多/a会/v部署/gi在/p靠近/v服务器/gi的/ude1网络/gi位置/gi，/w以/p降低/v网络/gi中的/v流量/gi负载/gi。/wl /nz链路/gi负载均衡/gi系统/gi链路/gi负载均衡/gi系统/gi往往/d部署/gi在/p数据中心/gi存在/v多/a个/q互联网/gi入口/n的/ude1场景/gi中/f。/w当/p用户/gi请求/gi从/p不同/a的/ude1入口/n进入/v数据中心/gi内部/f返回/v数据/gi时/qt，/w为了/p能够/v减少/v数据/gi报文/n在/p互联网/gi中/f传输/gi的/ude1距离/gi，/w使用/gi户侧/nz的/ude1业务/gi响应/v延迟/v更/d低/a，/w我们/rr会/v希望/v数据/gi都/d是从/v哪个/ry接口/gi进入/v，/w就/d还/d从/p哪个/ry接口/gi发出/v。/w技术/gi原理/gi上/f，/w链路/gi负载均衡/gi系统/gi会/v记录/gi不同/a入口/n收到/v报文/n的/ude1特征/gi表项/nz（/w如/v源/ng目的/giip/gi和/cc源目/nz的/ude1端口号/n等/udeng）/w和/cc入口/n下/f一/nz跳/vi设备/gi的/ude1mac/gi地址/gi，/w创建/gi相应/vi连接/gi信息/gi表项/nz，/w当/p收到/v返回/v数据报/gi文/ng时/qt，/w直接/ad查找/gi此表/nz，/w根据/p特征/gi表项/nz对应/vi的/ude1mac/gi地址/gi进行/vn二层/nz报文/n封装/gi，/w并/cc通过/p对应/vi接口/gi发送/gi，/w不会/v再/d去/vf查找/gi路由表/nz做/vip/gi转发/gi。/w因此/c链路/gi负载均衡/gi系统/gi多/a会/v部署/gi在/p数据中心/gi出口/vn位置/gi，/w连接/gi不同/a的/ude1互联网/gi入口/n。/wl /nz全局/n负载均衡/gi系统/gi当/piaas/gi私有云/nz包含/v多/a个/q数据中心/gi站点/gi时/qt，/w为了/p提供/v冗余/n与/cc高/a可靠/a，/w会/v需要/v多/a个/q站点/gi均/d同步/gi部署/gi相同/a的/ude1业务/gi应用/gi。/w我们/rr为了/p降低/v业务/gi响应/v延迟/v，/w让/v用户/gi能够/v获得/v更好/d的/ude1业务/gi访问/gi体验/v，/w往往/d会/v希望/v其/rz能够/v访问/gi就近/d的/ude1或/c负载/gi最小/a的/ude1数据中心/gi站点/gi。/w此时/r就/d需要/v通过/p全局/n负载均衡/gi系统/gi，/w对/p用户/gi访问/gi进行/vn统一/vn调度/vn，/w为/p其/rz定位/gi最/d适合/v的/ude1响应/v站点/gi。/w目前/t主流/gi的/ude1业务/gi访问/gi模式/gi都/d是/vshi使用/gi域名/gi的/ude1方式/n，/w通过/pdns/nz技术/gi来/vf解析/gi名称/n所/usuo对应/vi的/ude1ip/gi地址/gi，/w因此/c全局/n负载均衡/gi系统/gi的/ude1技术/gi原理/gi都/d是/vshi通过/p为/p不同/a用户/gi解析/gi不同/a的/ude1数据中心/gi站点/gi的/ude1ip/gi地址/gi来/vf达到/v负载均衡/gi效果/gi。/w既/c在/p全局/n负载均衡/gi系统/gi上/f同一/b域名/gi都会/n对应/vi多/a个/q数据中心/gi站点/gi的/ude1ip/gi地址/gi，/w当/pdns/nz请求/gi到达/v后/f，/w全局/n负载均衡/gi系统/gi会/v对/p各个/rz数据中心/gi站点/gi的/ude1业务/giip/gi进行/vn探测/vn，/w根据/p存活/vi情况/n以及/cc响应/v时间/gi等/udeng探测/vn结果/n，/w结合/v预设/v的/ude1一些/m分配/gi规则/gi（/w如/v最小/a响应/v时间/gi或/c最小/a连接数/nz等/udeng）/w，/w为/p用户/gi反馈/gi合适/a的/ude1ip/gi地址/gi。/w全局/n负载均衡/gi系统/gi可以/v选择/gi部署/gi在/p某个/rz数据中心/gi内部/f接近/v出口/vn的/ude1位置/gi，/w或者/c为了/p容灾/gi的/ude1需要/v，/w部署/gi在/p数据中心/gi站点/gi以外/f的/ude1单独/d位置/gi。/wl /nz应用/gi加速/gi系统/gi当前/t主流/gi的/ude1bs/nz结构/gi业务/gi系统/gi中/f，/w都/d采用/vhttp/gi方式/n进行/vn连接/gi处理/vn，/w用户/gi进行/vn业务/gi访问/gi时/qt，/w与/cc业务/gi服务器/gi间/f会/v存在/v大量/mtcp/gi-/nzhttp/gi连接/gi关系/gi，/w我们/rr可以/v将/d这些/rz连接/gi通过/p中间设备/n代理/gi方式/n进行/vntcp/gi连接/gi的/ude1合并/gi，/w减少/v服务器/gi上/f的/ude1连接/gi维护/gi数量/n，/w从而/c提升/gi业务/gi系统/gi的/ude1处理/vn能力/gi。/w这种/r技术/gi通常/d被/pbei称为/vtcp/gi卸载/gi，/w对应/vi的/ude1还有/vssl/gi卸载/gi技术/gi，/w专门/d处理/vnhttps/gi连接/gi的/ude1代理/gi优化/gi。/w另外/c当/p传输/gi内容/gi存在/v大量/m文本/gi或/c图片/gi等/udeng数据/gi时/qt，/w还/d可以/v使用/gi专用/gi的/ude1设备/gi或/c软件/gi对/p内容/gi进行/vn标准化/vn压缩/gi，/w当/p数据/gi传到/v用户/gi侧/ng终端/gi时/qt再/d解压/v，/w这样/rzv可以/v降低/v中间/f网络/gi的/ude1负荷/n，/w提高/v传输速度/nz与/cc减小/v延迟/v。/w应用/gi加速/gi系统/gi主要/b针对/gi应用/gi进行/vn业务/gi优化/gi，/w种类/n繁多/a，/w可/v根据/p业务/gi特点/n进行/vn系统设计/gi，/w灵活/a部署/gi，/w上面/f介绍/gi的/ude1两种/nz都/d是/vshi较为/d通用/gi的/ude1技术/gi。/w7./nz /x统一/vn管理系统设计/nz在/p传统/n数据中心/gi中/f，/w统一/vn管理/gi大多/d指/v的/ude1是/vshi将/d计算/gi、/w存储/gi和/cc网络/gi等/udeng资源/gi管理/gi平台/gi，/w集中/v放置/gi到/v管理/gi区域/n统一/vn进行/vn业务/gi处理/vn，/w但/c实质上/nz，/w各个/rz管理/gi平台/gi仍然/d是/vshi各自为政/vl的/ude1。/w当/p管理员/gi完成/v一个/mq业务/gi部署/gi时/qt，/w需要/v面对/v多/a套/q平台/gi系统/gi进行/vn任务/gi下发/v，/w往往/d需要/v很高/d的/ude1业务/gi技术/gi能力/gi要求/n，/w多方/d配合/v才能/n完成/v。/w在/piaas/gi私有云/nz数据中心/gi内/f，/w真正/d的/ude1统一/vn管理/gi是/vshi指/v可以/v由/p一位/nz管理员/gi通过/p一套/nz管理/gi平台/gi系统/gi，/w方便/a的/ude1完成/v整个/b业务/gi系统/gi的/ude1部署/gi。/w技术/gi原理/gi上/f，/w需要/v计算/gi、/w存储/gi和/cc网络/gi等/udeng资源/gi均/d提供/v基于/p标准/gi的/ude1api/gi开放/gi接口/gi，/w统一/vn管理/gi平台/gi可以/v通过/p这些/rz标准接口/n下发/v配置/gi，/w对/p资源/gi实现/gi创建/gi、/w修改/gi和/cc删除/gi等/udeng基本/a的/ude1处理/vn动作/gi。/w从/p架构设计/nz上/f，/w统一/vn管理/gi平台/gi可以/v直接/ad和/cc设备/gi资源/gi进行/vn交互/gi，/w也/d可以/v通过/p对应/vi的/ude1管理/gi平台/gi去/vf管理/gi不同/a的/ude1资源/gi（/w如/v图/gi6/nz所示/nz）/w。/w图/gi6./nz /x统一/vn管理/gi平台/gi架构/gi架构/gi一/nz的/ude1好处/gi是/vshi任务处理/nz效率高/nz，/w工作/gi一次/nz下发/v完成/v。/w但/c需要/v业内/n所有/b的/ude1设备/gi厂商/gi在/p其/rz所有/b型号/n的/ude1设备/gi上/f均/d支持/v统一/vn的/ude1标准/giapi/gi，/w整合/gi推进/vi难度/n高/a，/w进展/vn缓慢/a，/w短时期/n内/f还/d无法/v达到/v。/w架构二/nz是/vshi目前/t使用/gi最多/ad的/ude1方案/gi，/w各个/rz设备/gi厂商/gi都/d可以/v通过/p自己/rr的/ude1软件/gi管理/gi平台/gi上/f统一/vn管理/gi到/v自身/rr设备/gi资源/gi，/w同时/c开发/gi基于/prestful/nz//nzsoap/nz等/udeng标准/gi的/ude1平台/gi接口/gi，/w提供/v给/p统一/vn管理/gi平台/gi使用/gi，/w虽然/c中间/f存在/v二次/nz调度/vn，/w系统/gi较为/d复杂/a，/w但/c就/d目前/t业内/n发展/gi情况/n而言/uls，/w是/vshi最合适/a的/ude1设计/gi架构/gi，/w而且/c也/d已经/d有/vyou一/nz些/q相关/vn标准/gi和/cc产品/gi完成/v设计/gi投入使用/n。/w统一/vn管理/gi平台/gi的/ude1代表/nnt产品/gi如/vopenstack/nz和/cccloudstack/nz等/udeng都/d已经/d拥有/v一/nz些/q成功/a部署/gi的/ude1案例/gi，/w也/d推进/vi了/ule统一/vn管理/gi平台/gi架构/gi的/ude1前进/vi。/w8./nz /x使用/gi交付/v系统设计/gi使用/gi交付/v系统/gi是/vshiiaas/gi私有云有别于/nz传统/n数据中心/gi的/ude1专有/gi系统/gi组件/gi。/wiaas/gi私有云/nz定义/gi提供/v给/p用户/gi完整/a的/ude1虚拟/gi服务器资源/nz进行/vn使用/gi。/w用户/gi需要/v能够/v对/p资源/gi配给/v进行/vn申请/v，/w当/p获得/v虚拟/gi资源/gi后/f，/w在/p虚拟/gi机上/s能够/v自行/d安装/gi业务/gi系统/gi，/w并/cc对/p其/rz进行/vn启动/gi关闭/gi等/udeng常规/n服务器/gi处理/vn动作/gi。/w因此/c必须/d有一个/nz使用/gi交付/v平台/gi为/p用户/gi提供/v上述/b业务/gi接口/gi，/w并/cc通过/p统一/vn管理/gi平台/gi，/w将/d这些/rz用户/gi行为/n转换成/i对应/vi的/ude1指令/gi下/f发给/v资源/gi设备/gi执行/v。/w如果/c只是/d管理员/gi通过/p统一/vn管理/gi平台/gi对/p各项/r资源/gi进行/vn配置管理/gi与/cc业务/gi处理/vn，/w那么/c仍然/d属于/v传统/n数据中心/gi的/ude1架构/gi范畴/n，/w并/cc没有/v形成/v云/gi的/ude1概念/gi。/w只有/c通过/p使用/gi交付/v系统/gi，/w将/d数据中心/gi整个/b资源/gi进行/vn整合/gi，/w以/p逻辑/n资源/gi形式/gi提供/v给/p终端用户/gi使用/gi，/w才能/n称之为/v云计算/gi。/w用户/gi只/d关心/v自己/rr使用/gi的/ude1逻辑/n的/ude1计算/gi、/w存储/gi与/cc网络/gi资源/gi，/w看到/v的/ude1只是/d一朵/nz资源/gi云/gi，/w不会/v看到/v也/d不/d需/v看到/v数据中心/gi内部/f的/ude1实际/n物理/n资源/gi是/vshi如何/ryv在/p进行/vn任务调度/gi处理/vn。/w在/p进行/vn使用/gi交付/v系统设计/gi时/qt，/w通常/d包括/v提供/v给/p用户/gi的/ude1认证/gi授权/v、/w资源/gi申请/v、/w资源/gi使用/gi和/cc日志/gi统计/gi等/udeng功能模块/nz。/wl /nz认证/gi授权/v模块/gi可以/v结合/v安全/gi防护/gi功能/gi，/w使用/giportal/nz对/p用户/gi身份/n进行/vn确认/v，/w通过/p代理/gi程序/gi或/c客户端/gi安装/gi软件/gi方式/n检查用户/n终端/gi环境/n，/w结合/vldap/nz等/udeng工具/gi为/p用户/gi提供/v权限/gi设定/v。/wl /nz资源/gi申请/v模块/gi需要/v根据/p权限/gi设定/v，/w提供/v给/p用户/gi可以/v使用/gi的/ude1后台/gi资源/gi统计/gi信息/gi，/w如/vcpu/gi、/w内存/gi、/w存储/gi和/cc网络/gi等/udeng。/w然后/c用户/gi可以/v根据/p自身/rr业务/gi特点/n，/w定制/n申请/v使用/gi的/ude1虚拟/gi服务器资源/nz。/w资源/gi申请/v模块/gi再/d将/d此/rzs请求/gi发送给/n统一/vn管理/gi平台/gi，/w管理员/gi审批/vn通过/p后/f，/w由/p统一/vn管理/gi平台/gi连接/gi各个/rz资源/gi设备/gi的/ude1管理/gi平台/gi下发/v命令/gi，/w创建/gi相应/vi虚拟服务器/gi等/udeng资源/gi。/wl /nz资源/gi使用/gi模块/gi为/p用户/gi管理/gi已经/d创建/gi的/ude1资源/gi提供/v入口/n，/w并/cc提供/v一/nz些/q基本/a和/cc高级/a的/ude1使用/gi操作/gi，/w如/v对/p虚拟机/gi的/ude1开关机/nz、/wiso/gi挂载/v和/cc远程/gi登录/gi等/udeng功能/gi。/w用户/gi执行/v动作/gi时/qt，/w资源/gi使用/gi模块/gi会/v根据/p内容/gi将/d部分/n指令/gi转给/v统一/vn管理/gi平台/gi去/vf执行/v，/w也/d可以/v提供/v一/nz些/q资源/gi重定向/gi的/ude1服务/gi将/d部分/n指令/gi直接/ad下发/v到/v创建/gi好/a的/ude1虚拟服务器/gi上/f。/w同时/c操作/gi记录/gi和/cc性能监控/gi等/udeng日志/gi统计/gi类/gi功能/gi也/d需要/v在/p使用/gi交付/v系统设计/gi时/qt进行/vn考虑/v，/w具体/a设计/gi可以/v根据/p对/p业务/gi管控/nz的/ude1要求/n调整/vn。/w9./nz /x结束语/n随着/p云计算/gi产业/gi的/ude1发展/gi，/w数据中心/gi也/d已经/d不再/d是/vshi硬件/gi设备/gi的/ude1简单/a堆积/v。/w应用软件/gi的/ude1进步/vn和/cc业务/gi规模/gi的/ude1提升/gi，/w都/d对/p云计算/gi数据中心/gi系统设计/gi提出/v了/ule更高/d的/ude1要求/n。/w为了/p满足/v大中型/b企业/gi的/ude1发展/gi需要/v，/wiaas/gi私有云/nz数据中心/gi会/v逐步/d替代/v原有/v形态/n的/ude1企业/gi数据中心/gi，/w为/p企业/gi提供/v更加/d强有力/bl的/ude1支持/v。/wiaas/gi私有云/nz数据中心/gi系统/gi涉及/v到/v的/ude17/nz个/q组件/gi中/f，/w计算/gi、/w存储/gi和/cc网络/gi资源/gi都/d是/vshi必要/a的/ude1组成/gi部分/n，/w提供/v最/d基础/gi的/ude1设备/gi资源/gi使用/gi，/w与/cc传统/n数据中心/gi系统/gi比较/gi，/w主要/b针对/gi虚拟化技术/gi做出/v了/ule部分/n专门/d设计/gi；/w安全/gi防护/gi与/cc应用/gi优化/gi根据/p业务/gi系统/gi的/ude1需求/gi规划/gi，/w可以/v较为/d灵活/a的/ude1进行/vn设计/gi，/w从而/c实现/gi不同/a级别/n的/ude1安全/gi与/cc优化/gi能力/gi；/w统一/vn管理/gi平台/gi和/cc使用/gi交付/v平台/gi则/d是/vshi针对/giiaas/gi私有云/nz进行/vn的/ude1专业/n设计/gi，/w有别于/v传统/n的/ude1数据中心/gi设备/gi级别/n的/ude1管理/gi监控/gi功能/gi，/w与/cc云计算/giiaas/gi服务/gi层面/n紧密结合/nz，/w达到/v业务/gi应用/gi级别/n的/ude1深度/gi管控/nz与/cc访问/gi交付/v。/w