#bzoj/nz1834/nz[/nzZJOI/nz2010/nz]/nznetwork /nz网络/gi扩容/v【/w最大/gm流/gi+/nz费用/n流/gi】/w
第一/mq问/v很/d简单/a，/w裸/ag着上/v第二问/nz费用/n流/gi，/w主要/b是/vshi建/v图/gi，/w那么/c可以/v从/p第一/mq问/v的/ude1残留/vn网络/gi上/f继续/v建图/nz，/w对/p残留/vn网络/gi上/f的/ude1每/rz一条边/nz建/v一条/nz容量/gi是/vshi∞/nz费用/n是/vshiw/nz的/ude1边/k（/w反向/gi弧容量/nz为/p0/nz，/w费用/n为/p-/nzw/nz）/w，/w然后/c建/v一个/mq超级/b源点/gp，/w从/p超级/b源向/nz1/nz建/v一条/nz容量/gi为/pk/nz，/w费用/n为/p0/nz的/ude1边/k（/w用来/v控制/vn）/w，/w对/p这个/rz图/gi进行/vn最小/a费用/n最大/gm流算法/nz。/w最小/a费用/n最大/gm流操作/nz：/w1./nz首先/d要/v对于/p这/rzv道/qv题/n的/ude1图/gi来说/uls，/w有的/rz边/k需要/v花费/v费用/n，/w而/cc有的/rz又/d不用/d，/w而/cc不用/d扩容/v的/ude1边/k费用/n为/p0/nz，/w需要/v扩容/v的/ude1边/k费用/n为/pw/nz，/w容量/gi无限/b，/w这/rzv就是/v本题/n这样/rzv建/v图/gi的/ude1原因/n。/w2./nz对于/p残留/vn网络/gi进行/vn费用/n最短路/gispfa/gi算法/gi，/w不用/d扩容/v的/ude1边/k一定会/nz选/v费用/n为/p0/nz的/ude1边/k，/w然后/c记录/gi路径/gi，/w找/v最小/a容量/gi对/p可行路/nz进行/vn增流/nz，/w更新/gians/nz