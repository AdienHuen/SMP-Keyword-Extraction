#数据库-主键/nz和/cc外键/gi及其/cc约束/gi
1/nz：/w什么/ry是/vshi主键/nz在/p一张表/nz中/f，/w用来/v唯一/b标识/n一条/nz记录/gi的/ude1字段/gi集/q，/w叫做/v主/ag关键字/gi或者/c主/ag关键码/nz，/w简称/v主键/nz(/nz或/c主码/gi)/nz，/w这里/rzs说/v字段/gi集/q是因为/c主键/nz可能/v用/p一个/mq字段/gi或者/c多/a个/q字段/gi来/vf表示/v。/w举例/gi来看/u：/w学生/gi表/n(/nz学号/nz，/w /x姓名/gi，/w /x性别/n，/w专业/n编号/gi)/nz，/w这里/rzs学号/nz是/vshi主键/nz，/w一个/mq学号/nzid/nz就/d可以/v唯一/b标识/n一个/mq学生/gi的/ude1信息/gi。/w另一个表/nz：/w学生/gi选课/vi表/n(/nz学号/nz，/w /x课程/gi号/q，/w /x成绩/gi)/nz，/w这里/rzs(/nz学号/nz，/w /x课程/gi号/q)/nz是/vshi主键/nz，/w因为/c一个/mq学号/nz(/nz即/v一个/mq学生/gi)/nz可以/v选择/gi多/a门/n课程/gi，/w一个/mq课程/gi号/q(/nz即/v一个/mq课程/gi)/nz可以/v被/pbei多/a个/q学生/gi选择/gi，/w无法/v用/p一个/mq字段/gi来/vf标识/n一条/nz学生/gi选课/vi的/ude1信息/gi记录/gi，/w而/cc使用/gi(/nz学号/nz，/w /x课程/gi号/q)/nz这/rzv两/nz个/q字段/gi作为/p关键字/gi就/d可以/v唯一/b标识/n学生/gi的/ude1选课/vi信息/gi。/w2/nz：/w什么/ry是/vshi外键/gi？/w一/nz张/q表/n的/ude1非/b主/ag属性/gi是/vshi另一个表/nz的/ude1主/ag属性/gi就是/v这个/rz表/n的/ude1外键/gi。/w这里/rzs有/vyou两/nz个/q分别为/v：/w学生/gi表/n(/nz学号/nz，/w /x姓名/gi，/w /x性别/n，/w专业/n编号/gi)/nz，/w专业/n信息/gi表/n（/w专业/n编号/gi，/w专业/n名称/n，/w专业/n备注/n信息/gi）/w。/w学生/gi表/n中/f主键/nz是/vshi学号/nz，/w专业/n信息/gi表/n中/f主键/nz是/vshi专业/n编号/gi。/w学生/gi表/n中的/v非/b主/ag属性/gi专业/n编号/gi恰好/d是/vshi专业/n信息/gi表/n中的/v主键/nz。/w我们/rr就/d称/v这个/rz专业/n编号/gi是/vshi学生/gi表/n的/ude1外键/gi。/w像/v这样/rzv，/w一个表/nz的/ude1非/b主/ag属性/gi是/vshi另一个表/nz的/ude1主/ag属性/gi，/w该/rz非/b主/ag属性/gi就是/v外键/gi。/w概念/gi定义/gi：/w什么/ry是/vshi父表/nz和/cc子表/n？/w有/vyou两张表/nza/nz表/n和/ccb/nz表/n，/w表/na/nz中的/v一个/mq字段/giid/nz是/vshi外键/gi，/w表/nb/nz中的/v一个/mq字段/giid/nz是/vshi主键/nz，/w那么/c称/vb/nz为/p父表/nz，/wa/nz为/p子表/n。/w就是说/c一个表/nz中外/b键/n字段/gi(/nz相当于/v这里/rzs的/ude1a/nz表/n)/nz是/vshi另一个表/nz中/f(/nz相当于/v这里/rzs的/ude1b/nz表/n)/nz的/ude1主键/nz。/w还是/c上面/f的/ude1两/nz个/q表/n来/vf举例/gi理解/gi：/w学生/gi表/n(/nz学号/nz，/w /x姓名/gi，/w /x性别/n，/w专业/n编号/gi)/nz，/w专业/n信息/gi表/n（/w专业/n编号/gi，/w专业/n名称/n，/w专业/n备注/n信息/gi）/w。/w这里/rzs学生/gi表/n是/vshi子表/n，/w专业/n信息/gi表/n是/vshi父表/nz。/w设置/gi表/n的/ude1外键/gi的/ude1作用/gi在于/v建立/gi与/cc父表/nz的/ude1联系/gi，/w比如/v在/p专业/n信息/gi表/n中/f某个/rz专业/n编号/gi的/ude1id/nz为/p'/nz1001/nz'/nz,/nz删除/gi这个/rzid/nz后/f，/w则/d学生/gi表/n中的/v专业/n编号/giid/nz为/p'/nz1001/nz'/nz的/ude1记录/gi也/d随着/p删除/gi，/w这样/rzv做/v的/ude1目的/gi在于/v保证/v表/n的/ude1完整性/gi。/w数据库/gi的/ude1三种/nz约束/gi1./nz实体/n完整性/gi约束/gi指/v的/ude1是/vshi主键/nz不能/v为/p空/ng，/w如果/c主键/nz为/p空/ng了/ule还/d怎么/ryv唯一/b标识/n一条/nz记录/gi。/w2./nz参照/v完整性/gi约束/gi，/w即/v外键/gi的/ude1约束/gi，/w某/rz一外键/nz的/ude1必须/d在/p它/rr引用/gi的/ude1主键/nz字段/gi中/f存在/v。/w如/v，/w学生/gi表/n中/f专业/n编号/gi属性/gi的/ude1，/w必须/d都存/nz于/p专业/n信息/gi表/n中的/v专业/n编号/gi属性/gi中/f。/w想一想/v也/d就/d明白/v了/ule，/w一个/mq学生/gi（/w大学生/gi）/w怎么/ryv可能/v属于/v一个/mq不存在/ns的/ude1专业/n。/w3./nz用户/gi自定义/nz完整性/gi约束/gi，/w指/v的/ude1是/vshi一/nz些/q用户/gi自己/rr设定/v的/ude1约束/gi，/w例如/v字段/gi是否/v可以/v为/p空/ng，/w字段/gi的/ude1取/v范围/n（/w如/v：/w人/n的/ude1性别/n只能/v取/v男/gi、/w女/b）/w。/w