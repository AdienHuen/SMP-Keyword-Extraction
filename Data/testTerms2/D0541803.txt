#代码/gi到/vRedis/gi之间/f的/ude1中间层/nz操作/gi|/nzRedis/gi的/ude1增删/v改查/nz
在/p使用/giredis/gi的/ude1过程/gi中/f，/w遇到/v了/ule如下/vi问题/gi，/w如何/ryv将/d一/nz张/q关系/gi表/n放入/vredisredis/nz是/vshikv/nz型/k数据库/gi，/w和/cc关系/gi表/n完全/ad不在/v同一个/b频率/n，/w所以/c没/d办法/gi简单/a的/ude1导入/gi，/w我/rr在/p网上/s看到/v有/vyou快速/d自动/d将/dmysql/gi表/n读取/gi到/vredis/gi的/ude1资料/gi，/w但是/c我/rr的/ude1开发环境/gi在/pwin/nz下/f，/w就/d不再/d去/vf尝试/v了/ule。/w主要/b是/vshi数据量/n也/d不大/d，/w通过/p最/d基本/a的/ude1办法/gi，/w逐行/gi读取/gi关系/gi表/n，/w以/p主键/nz作为/pkey/gi，/w将/d剩下/v的/ude1字段/gi包装/n为/pmap/nz，/w置入/vfredis/gi。/wtips/nz：/wredis/gi比较/gi人性/n，/w支持/v很/d多/a种/q基本/a数据结构/gi，/w包括/vlist/gi，/wset/nz，/wmap/nz等/udeng。/w也/d可以/v将/dpojo/nz对象/gi直接/ad传入/gi，/w但是/c需要/v序列化/gi。/w贴/v上/f导入/gi代码/gi好/a了/ule，/w到/v这里/rzs我/rr把/pba数据录入/giredis/gi中/f。/w有一点/nz要/v注意/v，/w我/rr不是/c单单/d把/pba主键/nz和/cc后面/f的/ude1数据录入/gi进去/vf，/w如果/c这样/rzv我/rr需要/v数据/gi只能/v用/p主键/nz提取/v，/w但是/c主键/nz是/vshi自/p增/vid/nz，/w并/cc没有/v实际意义/nz。/w我/rr需要/v做/v条件/n查询/gi。/w那么/c问题/gi就/d来/vf了/ule。/w我/rr需要/v做/v类/gi /x的/ude1查询/gi，/w在/pkv/nz数据库/gi中/f并/cc没有/vsql语句/gi让/v你/rr使用/gi，/w那么/c就/d只能/v一/nz狠心/a再/d插入/gi一次/nz了/ule，/w代码/gi中/f我/rr需要/v对/psite/nz_/nzboard/nz_/nzurl/gi做/v查询/gi，/w所以/c我/rr将/d这个/rz字段/gi做为/vkey/gi，/w映射/gi到/v那个/rz自/p增/vid/nz上/f。/w但/c这/rzv是/vshi不够/a的/ude1，/wsite/nz_/nzboard/nz_/nzurl/gi这个/rz字段/gi并非/v是/vshi不/d重复/gi的/ude1，/w然而/ckv/nz数据库/gi的/ude1key/gi是/vshi唯一/b的/ude1，/w所以/c我/rr加上/v了/ulehashcode/gi，/w让/v他/rr成为/v唯一/b，/w这样/rzv就/d可以/v完成/v一次/nz条件/n查询/gi了/ule。/w相当/d麻烦/an，/w所以/credis/gi本身/rz只能/v做为/v一个/mq缓存/gi服务器/gi，/w我/rr觉得/v做/v数据库/gi真的/d很/d勉强/ad。/w接下来/vl，/w贴/v上/f做为/v代码/gi到/vredis/gi的/ude1中间层/nz代码/gi由/p这/rzv层/gi代码/gi来/vf执行/v对/predis/gi的/ude1一/nz些/q操作/gi